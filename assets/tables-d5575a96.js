import{g as q,c as M,d as U}from"./firebase-27c2c523.js";import{_ as j}from"./CardSolid-8ccf2f18.js";import{V as z}from"./VTable-4131731c.js";import{o,e as _,f as a,a as i,c as S,R as P,bd as $,t as I,v as K,C as W,bV as G,r as d,cg as H,w as D,aS as J,l as Q,K as X,i as l,cn as Y,O as L,ch as Z,j as ee,p as k,P as y,bS as E,a$ as te,V as R}from"./index-a3a041e5.js";import{b as ae,i as w,a as le}from"./inventary-9598a4cc.js";import{C as oe}from"./CardBasic-742a5b37.js";import{V as A}from"./VAlert-609e8963.js";import{V as B}from"./VCol-ad427ed1.js";import{V as T}from"./VRow-0d87a710.js";import{a as F,c as re,V as ne,e as se}from"./VCard-d5960204.js";import{V as ue}from"./VTextField-bf94655d.js";import{a as ce,b as ie,V as O}from"./VOverlay-205437d4.js";import{f as de}from"./forwardRefs-9d31fcaa.js";import{V as me}from"./dialog-transition-e0176816.js";import"./VAvatar-8b72b2c7.js";import"./VImg-b9f8bb6a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./VDivider-a82506d3.js";import"./index-43b2f89a.js";const ve=i("thead",null,[i("tr",null,[i("th",{class:"text-uppercase"}," Imagen "),i("th",null," Descripcion "),i("th",null," Precio "),i("th",null," Cantidad "),i("th",null," Sub-Total ")])],-1),fe={class:"text-center"},pe=["src"],ge={class:"text-center"},Ve={class:"text-center"},he={class:"text-center"},_e={__name:"DemoSimpleTableBasics",props:{product:{type:null,required:!0}},setup(r){return(C,f)=>(o(),_(z,null,{default:a(()=>[ve,i("tbody",null,[(o(!0),S(P,null,$(r.product,e=>(o(),S("tr",{key:e.name,class:"text-center"},[i("td",fe,[i("img",{src:e.image,alt:"",style:{height:"45px"}},null,8,pe)]),i("td",null,I(e.name),1),i("td",ge," $"+I(e.priceSale),1),i("td",Ve,I(e.countVendidos)+" UND ",1),i("td",he," $"+I(parseInt(e.priceSale)*parseInt(e.countVendidos)),1)]))),128))])]),_:1}))}};const be=K({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...ce({origin:"center center",scrollStrategy:"block",transition:{component:me},zIndex:2400})},"v-dialog"),xe=W()({name:"VDialog",props:be(),emits:{"update:modelValue":r=>!0},setup(r,C){let{slots:f}=C;const e=G(r,"modelValue"),{scopeId:p}=ie(),c=d();function n(s){var t,g;const u=s.relatedTarget,m=s.target;if(u!==m&&((t=c.value)!=null&&t.contentEl)&&((g=c.value)!=null&&g.globalTop)&&![document,c.value.contentEl].includes(m)&&!c.value.contentEl.contains(m)){const x=Z(c.value.contentEl);if(!x.length)return;const v=x[0],V=x[x.length-1];u===v?V.focus():v.focus()}}H&&D(()=>e.value&&r.retainFocus,s=>{s?document.addEventListener("focusin",n):document.removeEventListener("focusin",n)},{immediate:!0}),D(e,async s=>{var u,m;await J(),s?(u=c.value.contentEl)==null||u.focus({preventScroll:!0}):(m=c.value.activatorEl)==null||m.focus({preventScroll:!0})});const b=Q(()=>L({"aria-haspopup":"dialog","aria-expanded":String(e.value)},r.activatorProps));return X(()=>{const[s]=O.filterProps(r);return l(O,L({ref:c,class:["v-dialog",{"v-dialog--fullscreen":r.fullscreen,"v-dialog--scrollable":r.scrollable},r.class],style:r.style},s,{modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,"aria-modal":"true",activatorProps:b.value,role:"dialog"},p),{activator:f.activator,default:function(){for(var u=arguments.length,m=new Array(u),t=0;t<u;t++)m[t]=arguments[t];return l(Y,{root:!0},{default:()=>{var g;return[(g=f.default)==null?void 0:g.call(f,...m)]}})}})}),de({},c)}}),ye={__name:"CardsOrder",props:{search:{type:null,required:!0}},emits:["items"],setup(r,{emit:C}){const f=r,e=d(0),p=d(!1),c=[v=>!!v||"La cantidad es requerida",v=>v&&v<=parseInt(n.value.count)||"La cantidad no puede exceder de "+parseInt(n.value.count)],n=d(),b=d(),s=d(!1),u=d(!1);D(()=>f.search,()=>{w.value=le.value.filter(v=>v.name.toLowerCase().includes(f.search.toLowerCase())),w.value.length===0?u.value=!0:u.value=!1}),ae();const t=(v,V)=>{s.value=!0,n.value=v,b.value=V},g=()=>{w.value[parseInt(b.value)].count=w.value[parseInt(b.value)].count-parseInt(e.value),s.value=!1,n.value.countVendidos=e.value,C("items",n.value),n.value={},e.value=0},x=()=>{parseInt(n.value.count)<parseInt(e.value)?p.value=!0:p.value=!1};return(v,V)=>(o(),S("div",null,[l(T,null,{default:a(()=>[(o(!0),S(P,null,$(ee(w),(h,N)=>(o(),_(oe,{card:{name:h.name,description:h.description,count:h.count,priceSale:h.priceSale,img:h.image,buttonSale:!1},onClick:Ie=>t(h,N)},null,8,["card","onClick"]))),256)),u.value?(o(),_(B,{key:0,cols:"6",class:"mx-auto"},{default:a(()=>[l(A,{color:"danger"},{default:a(()=>[k(" El producto: "+I(r.search)+" no fue encontrado :/ ",1)]),_:1})]),_:1})):y("",!0)]),_:1}),l(xe,{modelValue:s.value,"onUpdate:modelValue":V[2]||(V[2]=h=>s.value=h),"max-width":"600px"},{default:a(()=>[l(F,null,{default:a(()=>[l(re,{class:"headline text-center mt-3 mb-0 pb-0"},{default:a(()=>[k("Cantidad a llevar")]),_:1}),l(ne,null,{default:a(()=>[l(ue,{type:"number",label:"Ingrese la cantidad de items",modelValue:e.value,"onUpdate:modelValue":V[0]||(V[0]=h=>e.value=h),onInput:x,rules:c},null,8,["modelValue"]),l(A,{class:"mt-3"},{default:a(()=>[k("La cantidad debe ser mayor a 0 y menor a "+I(n.value.count),1)]),_:1})]),_:1}),l(se,null,{default:a(()=>[l(E,{onClick:g,class:"mx-auto",color:"primary",disabled:p.value},{default:a(()=>[k("Aceptar")]),_:1},8,["disabled"]),l(E,{onClick:V[1]||(V[1]=()=>{s.value=!1,n.value.value=null}),class:"mx-auto",color:"danger"},{default:a(()=>[k("Cerrar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Ce={key:0},ze={__name:"tables",props:{search:{type:null,required:!0}},setup(r){const C=d([]),f=d(null),e=d(!1),p=d([]),c=d(0),n=d(!1),b=d(!1);console.log(p),te(async()=>{await q(M(U,"clientes")).then(t=>{t.forEach(g=>{C.value.push({...g.data(),id:g.id})})})});const s=t=>{f.value=t,e.value=!0},u=t=>{n.value=!0,p.value.push({...t}),console.log(p.value),c.value=p.value.length},m=()=>{e.value=!1,b.value=!0};return(t,g)=>(o(),S(P,null,[f.value===null?(o(),_(T,{key:0},{default:a(()=>[l(B,{cols:"12"},{default:a(()=>[l(F,{title:"Seleccion el cliente"})]),_:1}),(o(!0),S(P,null,$(C.value,x=>(o(),_(j,{data:x,onDataS:s},null,8,["data"]))),256))]),_:1})):y("",!0),e.value?(o(),_(ye,{key:1,onItems:u,search:r.search},null,8,["search"])):y("",!0),n.value?(o(),_(E,{key:2,icon:"bx-arrow-to-right",style:{position:"fixed",bottom:"4em",right:"5.5em"}},{default:a(()=>[t.returnProduct===!1?(o(),S("p",Ce,I(c.value),1)):y("",!0),t.returnProduct?(o(),_(R,{key:1,icon:"bx-archive"})):y("",!0)]),_:1})):y("",!0),n.value?(o(),_(E,{key:3,icon:"bx-arrow-to-right",style:{position:"fixed",bottom:"4em",right:"2em"},onClick:m},{default:a(()=>[l(R,{icon:"bx-arrow-to-right"})]),_:1})):y("",!0),b.value?(o(),_(T,{key:4},{default:a(()=>[l(B,{cols:"12"},{default:a(()=>[l(_e,{product:p.value},null,8,["product"])]),_:1})]),_:1})):y("",!0)],64))}};export{ze as default};
