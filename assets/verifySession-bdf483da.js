import{b as n,q as c,w as i,c as l,a as u}from"./firebase-da6e628f.js";import{r as a}from"./index-ba7efa84.js";const v=a(!1),g=a(!1),w=a(!1),b=a(""),t=()=>{window.addEventListener("storage",()=>{if(localStorage.getItem("id_user")==null)localStorage.removeItem("username"),d();else return})},d=()=>{const e=window.location.href,s=e.slice(0,e.lastIndexOf("/"))+"/login";window.location.replace(s)},_=async()=>{const e=localStorage.getItem("id_user"),r=localStorage.getItem("username");if(e!=null){const s=await n(c(l(u,"session"),i("id_user","==",e))),f=await n(c(l(u,"users"),i("username","==",r)));s.forEach(o=>{if(o.data().active===!0)switch(f.forEach(m=>{b.value=m.data()}),o.data().typeuser){case"admin":v.value=!0,t();break;case"cliente":g.value=!0,t();break;case"vendedor":w.value=!0,t();break}})}else d()};export{v as a,_ as b,g as c,b as u,w as v};
