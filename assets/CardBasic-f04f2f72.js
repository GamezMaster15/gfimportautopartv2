import{b as q,c as M,a as I,f as O,d as U}from"./firebase-da6e628f.js";import{v as K,x as z,A as G,C as H,ca as J,K as L,i as a,r as l,o,c as r,f as t,a as s,p as i,t as u,P as c,e as f,bS as Q,V as y,R as W,S as X,T as Y}from"./index-ba7efa84.js";import{_ as Z}from"./DemoFormLayoutMultipleColumn-2ce41123.js";import{_ as ee}from"./_plugin-vue_export-helper-c27b6911.js";import{a as k,b as ae,c as B,V as v,e as S}from"./VCard-f2d7cbd6.js";import{V as te}from"./VImg-86c86b93.js";import{V as se}from"./VDivider-f5c08ea2.js";import{V as p}from"./VCol-be91beef.js";import{V as oe}from"./VRow-bf744c0d.js";import{V as le}from"./VDialog-09695396.js";const ce=K({fluid:{type:Boolean,default:!1},...z(),...G()},"v-container"),ne=H()({name:"VContainer",props:ce(),setup(e,n){let{slots:b}=n;const{rtlClasses:h}=J();return L(()=>a(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},h.value,e.class],style:e.style},b)),{}}}),g=l([]),de=l([]),D=async()=>{g.value=[],g.value=[],(await q(M(I,"inventario"))).forEach(n=>{g.value.push({...n.data(),id:n.id}),de.value.push({...n.data(),id:n.id})})};D();const w=e=>(X("data-v-3cb1fa61"),e=e(),Y(),e),re={class:"d-flex justify-space-between flex-wrap flex-md-nowrap flex-column flex-md-row"},ie={class:"ma-auto pa-5"},ue={class:"my-auto h-100"},me={key:0},fe={key:1},ve=w(()=>s("span",null,"Stock:",-1)),pe={class:"font-weight-medium"},be=w(()=>s("span",null,"Precio Costo:",-1)),_e={class:"font-weight-medium"},Ce={key:0},Ve={key:1},ye={class:"font-weight-medium"},he={key:0},xe={key:1},ke={class:"font-weight-medium"},ge=w(()=>s("span",{class:"ms-2"},"Agregar",-1)),we=38.6,Pe={__name:"CardBasic",props:{card:{type:null,required:!0}},emits:["addProductOrder"],setup(e,{emit:n}){const b=e;l(!1);const h=l(""),$=l(!1),E=l(!1),T=l(!0),A=l(!1),N=l(!1),x=l(!1),m=l(0),_=l("bxs-dollar-circle"),R=()=>{_.value==="bxs-dollar-circle"?(_.value="bx-dollar-circle",m.value=parseInt(b.card.priceSale)*we):(_.value="bxs-dollar-circle",m.value=0)},j=()=>{x.value=!0},C=l(!1),F=async()=>{confirm("¿Estás seguro que deseas eliminar el registro?")&&(await O(U(I,"inventario",b.card.id)),D())};return(P,d)=>(o(),r(W,null,[a(p,{sm:"6",cols:"12"},{default:t(()=>[a(k,{class:"h-100"},{default:t(()=>[s("div",re,[s("div",ie,[a(te,{width:"137",height:"176",src:e.card.img},null,8,["src"])]),a(se,{vertical:P.$vuetify.display.mdAndUp},null,8,["vertical"]),s("div",ue,[a(ae,{class:"mb-0 pb-0"},{default:t(()=>[a(B,null,{default:t(()=>[i(u(e.card.name),1)]),_:1})]),_:1}),a(v,null,{default:t(()=>[!C.value&&e.card.description.length>50?(o(),r("div",me,[i(u(e.card.description.slice(0,50))+"... ",1),s("a",{onClick:d[0]||(d[0]=V=>C.value=!0)},"Ver más")])):(o(),r("div",fe,[i(u(e.card.description)+" ",1),C.value?(o(),r("a",{key:0,onClick:d[1]||(d[1]=V=>C.value=!1)},"Ver menos")):c("",!0)]))]),_:1}),a(v,{class:"text-subtitle-1 mb-0 pb-0"},{default:t(()=>[ve,i(),s("span",pe,u(e.card.count),1)]),_:1}),e.card.priceCosto?(o(),f(v,{key:0,class:"text-subtitle-1 mb-0 pb-0"},{default:t(()=>[be,i(),s("span",_e,"$"+u(e.card.price),1)]),_:1})):c("",!0),m.value===0?(o(),f(v,{key:1,class:"text-subtitle-1"},{default:t(()=>[e.card.priceCosto?(o(),r("span",Ce,"Precio Venta:")):c("",!0),e.card.priceCosto==null?(o(),r("span",Ve,"Precio:")):c("",!0),i(),s("span",ye,"$"+u(e.card.priceSale),1)]),_:1})):c("",!0),m.value!=0?(o(),f(v,{key:2,class:"text-subtitle-1"},{default:t(()=>[e.card.priceCosto?(o(),r("span",he,"Precio Venta:")):c("",!0),e.card.priceCosto==null?(o(),r("span",xe,"Precio:")):c("",!0),i(),s("span",ke,"Bs. "+u(m.value),1)]),_:1})):c("",!0),e.card.order===!0?(o(),f(S,{key:3,class:"justify-space-between"},{default:t(()=>[a(Q,{onClick:d[2]||(d[2]=V=>n("addProductOrder",{data:e.card.data,index:e.card.i}))},{default:t(()=>[a(y,{icon:"bx-cart-add"}),ge]),_:1})]),_:1})):c("",!0),e.card.order===!1?(o(),f(S,{key:4,class:"justify-space-between"},{default:t(()=>[a(p,{class:"p-0 mx-auto"},{default:t(()=>[s("a",{class:"btn p-0 m-0",onClick:R},[a(y,{icon:_.value},null,8,["icon"])])]),_:1}),a(p,{class:"p-0 mx-auto"},{default:t(()=>[s("a",{class:"btn p-0 m-0",onClick:j},[a(y,{icon:"bx-edit"})])]),_:1}),a(p,{class:"p-0 mx-auto"},{default:t(()=>[s("a",{class:"btn p-0 m-0",onClick:F},[a(y,{icon:"bx-trash"})])]),_:1})]),_:1})):c("",!0)])])]),_:1})]),_:1}),a(le,{modelValue:x.value,"onUpdate:modelValue":d[3]||(d[3]=V=>x.value=V),"max-width":"900px"},{default:t(()=>[a(k,null,{default:t(()=>[a(B,{class:"headline text-center mt-3 mb-0 pb-0"},{default:t(()=>[i("Editar Producto")]),_:1}),a(k,{flat:""},{default:t(()=>[a(ne,null,{default:t(()=>[a(oe,null,{default:t(()=>[a(p,null,{default:t(()=>[a(Z,{form:{typeForm:!0,databarcode:h.value,client:$.value,product:E.value,proveedor:A.value,vendedor:N.value,editProduct:T.value,card:e.card}},null,8,["form"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},je=ee(Pe,[["__scopeId","data-v-3cb1fa61"]]);export{je as C,g as a,de as b,D as i};
