import{g as c,q as i,w as l,c as u,d}from"./firebase-27c2c523.js";import{r as a}from"./index-e9195293.js";const f=a(!1),g=a(!1),m=a(!1),v=a(""),s=()=>{window.addEventListener("storage",()=>{if(localStorage.getItem("id_user")==null)localStorage.removeItem("username"),r();else return})},r=()=>{const e=window.location.href,o=e.slice(0,e.lastIndexOf("/"))+"/login";window.location.replace(o)},_=async()=>{const e=localStorage.getItem("id_user"),t=localStorage.getItem("username");e!=null?(await c(i(u(d,"session"),l("id_user","==",e)))).forEach(n=>{if(n.data().active===!0)switch(v.value=t,n.data().typeuser){case"admin":f.value=!0,s();break;case"cliente":g.value=!0,s();break;case"vendedor":m.value=!0,s();break}}):r()};export{f as a,_ as b,g as c,v as u,m as v};
