import{g as N,d as y,a as f,b as $,c as q,q as O,u as T,o as U}from"./firebase-da6e628f.js";import{_ as F}from"./DemoSimpleTableBasics-401d635f.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import{V as v}from"./VCol-be91beef.js";import{a as S,b as j,c as k,V as g,e as M}from"./VCard-f2d7cbd6.js";import{V as C}from"./VRow-bf744c0d.js";import{V as D}from"./VDivider-f5c08ea2.js";import{r as d,o as h,c as w,i as e,f as a,R as I,bd as P,e as B,p as u,t as m,a as t,V as x,P as z,bS as E,S as G,T as H,a$ as J,w as K,j as Q}from"./index-ba7efa84.js";import{V as W}from"./VDialog-09695396.js";import"./VTable-bcc207ed.js";import"./VAvatar-f72d3f84.js";import"./VImg-86c86b93.js";import"./VOverlay-31578629.js";import"./forwardRefs-9d31fcaa.js";import"./dialog-transition-4730997b.js";const i=n=>(G("data-v-f58a47a3"),n=n(),H(),n),X={class:"me-auto pe-4"},Y={class:"d-flex align-center mb-6"},Z=i(()=>t("span",{class:"ms-3"},"Sin Completar",-1)),ee={class:"d-flex align-center mb-0"},ae=i(()=>t("span",{class:"ms-3"},"15 Members",-1)),te={class:"ms-auto ps-4"},se={class:"d-flex align-center mb-6"},oe=i(()=>t("span",{class:"ms-3"},"Access all Features",-1)),le={class:"d-flex align-center mb-0"},re=i(()=>t("span",{class:"ms-3"},"Lifetime Free Update",-1)),ne={class:"mb-0"},ce=i(()=>t("b",null,"Cliente:",-1)),de={class:"mb-0"},ie=i(()=>t("b",null,"Ubicacion:",-1)),ue={class:"mb-0"},_e=i(()=>t("b",null,"ID:",-1)),pe=!1,me={__name:"CardNavigation",props:{data:{type:null,required:!0}},setup(n){const _=d({}),c=d({}),b=d([]),l=d([]),r=d(!1),p=async o=>{b.value=[],await N(y(f,"clientes",o.id_user)).then(s=>{c.value=s.data()}),(await $(q(f,"productOrder"))).forEach(s=>{l.value.push({...s.data(),id:s.id})}),l.value=l.value.filter(s=>String(s.idOrder).includes(String(o.ordenNumber))),console.log(l.value),_.value=o,r.value=!0},A=()=>{r.value=!1},L=()=>{l.value.forEach(async o=>{(await O(N(y(f,"inventario",o.id_product)))).value.forEach(async s=>{await O(T(y(f,"inventario",o.id_product),{count:s.count-o.count}))})})};return(o,V)=>(h(),w(I,null,[e(C,null,{default:a(()=>[(h(!0),w(I,null,P(n.data,(s,ve)=>(h(),B(v,{md:"6",lg:"6",cols:"12"},{default:a(()=>[e(S,{onClick:he=>p(s)},{default:a(()=>[e(C,{"no-gutters":""},{default:a(()=>[e(v,{cols:"12"},{default:a(()=>[e(j,null,{default:a(()=>[e(k,null,{default:a(()=>[u("N° de Orden "+m(s.ordenNumber),1)]),_:2},1024)]),_:2},1024),e(g,null,{default:a(()=>[e(D)]),_:1}),e(g,{class:"d-flex justify-center"},{default:a(()=>[t("div",X,[t("p",Y,[e(x,{color:"#ff8000",icon:"bxs-circle"}),Z]),t("p",ee,[e(x,{color:"primary",icon:"bx-user"}),ae])]),o.$vuetify.display.smAndUp?(h(),B(D,{key:0,vertical:"",inset:""})):z("",!0),t("div",te,[t("p",se,[e(x,{color:"primary",icon:"bx-star"}),oe]),t("p",le,[e(x,{color:"primary",icon:"bx-trending-up"}),re])])]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),256))]),_:1}),e(W,{modelValue:r.value,"onUpdate:modelValue":V[0]||(V[0]=s=>r.value=s),"max-width":"800px"},{default:a(()=>[e(S,null,{default:a(()=>[e(k,{class:"headline text-center mt-3 mb-0 pb-0"},{default:a(()=>[t("b",null,"N° de Orden "+m(_.value.ordenNumber),1)]),_:1}),e(g,null,{default:a(()=>[e(C,{class:"pb-5"},{default:a(()=>[e(v,{cols:"auto",class:"mb-0"},{default:a(()=>[e(g,{class:"mb-0 pb-0"},{default:a(()=>[t("p",ne,[ce,u(" "+m(c.value.name),1)]),t("p",de,[ie,u(" "+m(c.value.direction),1)]),t("p",ue,[_e,u(" "+m(c.value.document),1)])]),_:1})]),_:1}),e(v,{cols:"12",class:"pt-0 mt-0"},{default:a(()=>[e(F,{product:l.value,preOrder:pe},null,8,["product"])]),_:1})]),_:1})]),_:1}),e(M,null,{default:a(()=>[e(E,{class:"mx-auto",color:"primary",onClick:L},{default:a(()=>[u("Confirmar")]),_:1}),e(E,{class:"mx-auto",color:"danger",onClick:A},{default:a(()=>[u("Cerrar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},fe=R(me,[["__scopeId","data-v-f58a47a3"]]),$e={__name:"Order",props:{search:{type:null,required:!0}},setup(n){const _=n,c=d([]),b=d(!1),l=()=>{inventario.value=items.value.filter(r=>r.name.toLowerCase().includes(_.search.toLowerCase())),inventario.value.length===0?b.value=!0:b.value=!1};return J(async()=>{(await $(q(f,"order"),U("timestamp","desc"))).forEach(p=>{c.value.push({...p.data(),id:p.id})})}),K(()=>_.search,l),(r,p)=>(h(),w("div",null,[e(C,null,{default:a(()=>[e(v,null,{default:a(()=>[e(fe,{data:Q(c)},null,8,["data"])]),_:1})]),_:1})]))}};export{$e as default};
