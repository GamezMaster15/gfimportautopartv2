import{v as Mn,b_ as Ln,C as Bn,G as Hn,bV as zn,l as qe,co as Qt,r as be,w as qn,K as $n,cp as jn,i as N,O as Ft,R as yt,aS as Gn,cq as Wn,a$ as Qn,d as Xn,o as tt,c as Kn,e as it,f as H,p as ce,V as Zn,cr as lt,bS as Ve,bQ as ut,P as ct,a as De}from"./index-86c94f78.js";import{_ as Yn,C as Jn,r as Xt,S as er,a as kt,b as tr,e as nr,f as rr,h as or,F as sr,g as xt,c as Ie,d as Se,i as ar,j as Qe}from"./firebase-27c2c523.js";import{V as dt}from"./VRow-091eaa61.js";import{V as j}from"./VCol-4f5032ea.js";import{V as ft}from"./VAlert-019d728f.js";import{m as ir,a as lr,u as ur,b as Kt,f as cr,c as dr,d as fr,V as Q}from"./VTextField-4660cb2c.js";import{V as hr}from"./VSelect-1efd62be.js";import{f as pr}from"./forwardRefs-9d31fcaa.js";import{V as mr}from"./VChip-c16118e3.js";import{V as ht}from"./VForm-0e7b1079.js";function gr(r,t){return t.forEach(function(f){f&&typeof f!="string"&&!Array.isArray(f)&&Object.keys(f).forEach(function(o){if(o!=="default"&&!(o in r)){var e=Object.getOwnPropertyDescriptor(f,o);Object.defineProperty(r,o,e.get?e:{enumerable:!0,get:function(){return f[o]}})}})}),Object.freeze(r)}function on(r,t){return new Promise(function(f,o){let e;return _r(r).then(function(n){try{return e=n,f(new Blob([t.slice(0,2),e,t.slice(2)],{type:"image/jpeg"}))}catch(u){return o(u)}},o)})}const _r=r=>new Promise((t,f)=>{const o=new FileReader;o.addEventListener("load",({target:{result:e}})=>{const n=new DataView(e);let u=0;if(n.getUint16(u)!==65496)return f("not a valid JPEG");for(u+=2;;){const c=n.getUint16(u);if(c===65498)break;const g=n.getUint16(u+2);if(c===65505&&n.getUint32(u+4)===1165519206){const b=u+10;let a;switch(n.getUint16(b)){case 18761:a=!0;break;case 19789:a=!1;break;default:return f("TIFF header contains invalid endian")}if(n.getUint16(b+2,a)!==42)return f("TIFF header contains invalid version");const i=n.getUint32(b+4,a),s=b+i+2+12*n.getUint16(b+i,a);for(let h=b+i+2;h<s;h+=12)if(n.getUint16(h,a)==274){if(n.getUint16(h+2,a)!==3)return f("Orientation data type is invalid");if(n.getUint32(h+4,a)!==1)return f("Orientation data count is invalid");n.setUint16(h+8,1,a);break}return t(e.slice(u,u+2+g))}u+=2+g}return t(new Blob)}),o.readAsArrayBuffer(r)});var At={},vr={get exports(){return At},set exports(r){At=r}};(function(r){var t,f,o={};vr.exports=o,o.parse=function(e,n){for(var u=o.bin.readUshort,c=o.bin.readUint,g=0,b={},a=new Uint8Array(e),i=a.length-4;c(a,i)!=101010256;)i--;g=i,g+=4;var s=u(a,g+=4);u(a,g+=2);var h=c(a,g+=2),v=c(a,g+=4);g+=4,g=v;for(var w=0;w<s;w++){c(a,g),g+=4,g+=4,g+=4,c(a,g+=4),h=c(a,g+=4);var k=c(a,g+=4),A=u(a,g+=4),D=u(a,g+2),F=u(a,g+4);g+=6;var E=c(a,g+=8);g+=4,g+=A+D+F,o._readLocal(a,E,b,h,k,n)}return b},o._readLocal=function(e,n,u,c,g,b){var a=o.bin.readUshort,i=o.bin.readUint;i(e,n),a(e,n+=4),a(e,n+=2);var s=a(e,n+=2);i(e,n+=2),i(e,n+=4),n+=4;var h=a(e,n+=8),v=a(e,n+=2);n+=2;var w=o.bin.readUTF8(e,n,h);if(n+=h,n+=v,b)u[w]={size:g,csize:c};else{var k=new Uint8Array(e.buffer,n);if(s==0)u[w]=new Uint8Array(k.buffer.slice(n,n+c));else{if(s!=8)throw"unknown compression method: "+s;var A=new Uint8Array(g);o.inflateRaw(k,A),u[w]=A}}},o.inflateRaw=function(e,n){return o.F.inflate(e,n)},o.inflate=function(e,n){return e[0],e[1],o.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),n)},o.deflate=function(e,n){n==null&&(n={level:6});var u=0,c=new Uint8Array(50+Math.floor(1.1*e.length));c[u]=120,c[u+1]=156,u+=2,u=o.F.deflateRaw(e,c,u,n.level);var g=o.adler(e,0,e.length);return c[u+0]=g>>>24&255,c[u+1]=g>>>16&255,c[u+2]=g>>>8&255,c[u+3]=g>>>0&255,new Uint8Array(c.buffer,0,u+4)},o.deflateRaw=function(e,n){n==null&&(n={level:6});var u=new Uint8Array(50+Math.floor(1.1*e.length)),c=o.F.deflateRaw(e,u,c,n.level);return new Uint8Array(u.buffer,0,c)},o.encode=function(e,n){n==null&&(n=!1);var u=0,c=o.bin.writeUint,g=o.bin.writeUshort,b={};for(var a in e){var i=!o._noNeed(a)&&!n,s=e[a],h=o.crc.crc(s,0,s.length);b[a]={cpr:i,usize:s.length,crc:h,file:i?o.deflateRaw(s):s}}for(var a in b)u+=b[a].file.length+30+46+2*o.bin.sizeUTF8(a);u+=22;var v=new Uint8Array(u),w=0,k=[];for(var a in b){var A=b[a];k.push(w),w=o._writeHeader(v,w,a,A,0)}var D=0,F=w;for(var a in b)A=b[a],k.push(w),w=o._writeHeader(v,w,a,A,1,k[D++]);var E=w-F;return c(v,w,101010256),w+=4,g(v,w+=4,D),g(v,w+=2,D),c(v,w+=2,E),c(v,w+=4,F),w+=4,w+=2,v.buffer},o._noNeed=function(e){var n=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(n)!=-1},o._writeHeader=function(e,n,u,c,g,b){var a=o.bin.writeUint,i=o.bin.writeUshort,s=c.file;return a(e,n,g==0?67324752:33639248),n+=4,g==1&&(n+=2),i(e,n,20),i(e,n+=2,0),i(e,n+=2,c.cpr?8:0),a(e,n+=2,0),a(e,n+=4,c.crc),a(e,n+=4,s.length),a(e,n+=4,c.usize),i(e,n+=4,o.bin.sizeUTF8(u)),i(e,n+=2,0),n+=2,g==1&&(n+=2,n+=2,a(e,n+=6,b),n+=4),n+=o.bin.writeUTF8(e,n,u),g==0&&(e.set(s,n),n+=s.length),n},o.crc={table:function(){for(var e=new Uint32Array(256),n=0;n<256;n++){for(var u=n,c=0;c<8;c++)1&u?u=3988292384^u>>>1:u>>>=1;e[n]=u}return e}(),update:function(e,n,u,c){for(var g=0;g<c;g++)e=o.crc.table[255&(e^n[u+g])]^e>>>8;return e},crc:function(e,n,u){return 4294967295^o.crc.update(4294967295,e,n,u)}},o.adler=function(e,n,u){for(var c=1,g=0,b=n,a=n+u;b<a;){for(var i=Math.min(b+5552,a);b<i;)g+=c+=e[b++];c%=65521,g%=65521}return g<<16|c},o.bin={readUshort:function(e,n){return e[n]|e[n+1]<<8},writeUshort:function(e,n,u){e[n]=255&u,e[n+1]=u>>8&255},readUint:function(e,n){return 16777216*e[n+3]+(e[n+2]<<16|e[n+1]<<8|e[n])},writeUint:function(e,n,u){e[n]=255&u,e[n+1]=u>>8&255,e[n+2]=u>>16&255,e[n+3]=u>>24&255},readASCII:function(e,n,u){for(var c="",g=0;g<u;g++)c+=String.fromCharCode(e[n+g]);return c},writeASCII:function(e,n,u){for(var c=0;c<u.length;c++)e[n+c]=u.charCodeAt(c)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,n,u){for(var c,g="",b=0;b<u;b++)g+="%"+o.bin.pad(e[n+b].toString(16));try{c=decodeURIComponent(g)}catch{return o.bin.readASCII(e,n,u)}return c},writeUTF8:function(e,n,u){for(var c=u.length,g=0,b=0;b<c;b++){var a=u.charCodeAt(b);if(!(4294967168&a))e[n+g]=a,g++;else if(!(4294965248&a))e[n+g]=192|a>>6,e[n+g+1]=128|a>>0&63,g+=2;else if(!(4294901760&a))e[n+g]=224|a>>12,e[n+g+1]=128|a>>6&63,e[n+g+2]=128|a>>0&63,g+=3;else{if(4292870144&a)throw"e";e[n+g]=240|a>>18,e[n+g+1]=128|a>>12&63,e[n+g+2]=128|a>>6&63,e[n+g+3]=128|a>>0&63,g+=4}}return g},sizeUTF8:function(e){for(var n=e.length,u=0,c=0;c<n;c++){var g=e.charCodeAt(c);if(!(4294967168&g))u++;else if(!(4294965248&g))u+=2;else if(!(4294901760&g))u+=3;else{if(4292870144&g)throw"e";u+=4}}return u}},o.F={},o.F.deflateRaw=function(e,n,u,c){var g=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][c],b=o.F.U,a=o.F._goodIndex;o.F._hash;var i=o.F._putsE,s=0,h=u<<3,v=0,w=e.length;if(c==0){for(;s<w;)i(n,h,s+(R=Math.min(65535,w-s))==w?1:0),h=o.F._copyExact(e,s,R,n,h+8),s+=R;return h>>>3}var k=b.lits,A=b.strt,D=b.prev,F=0,E=0,V=0,y=0,P=0,l=0;for(w>2&&(A[l=o.F._hash(e,0)]=0),s=0;s<w;s++){if(P=l,s+1<w-2){l=o.F._hash(e,s+1);var d=s+1&32767;D[d]=A[l],A[l]=d}if(v<=s){(F>14e3||E>26697)&&w-s>100&&(v<s&&(k[F]=s-v,F+=2,v=s),h=o.F._writeBlock(s==w-1||v==w?1:0,k,F,y,e,V,s-V,n,h),F=E=y=0,V=s);var m=0;s<w-2&&(m=o.F._bestMatch(e,s,D,P,Math.min(g[2],w-s),g[3]));var R=m>>>16,T=65535&m;if(m!=0){T=65535&m;var C=a(R=m>>>16,b.of0);b.lhst[257+C]++;var U=a(T,b.df0);b.dhst[U]++,y+=b.exb[C]+b.dxb[U],k[F]=R<<23|s-v,k[F+1]=T<<16|C<<8|U,F+=2,v=s+R}else b.lhst[e[s]]++;E++}}for(V==s&&e.length!=0||(v<s&&(k[F]=s-v,F+=2,v=s),h=o.F._writeBlock(1,k,F,y,e,V,s-V,n,h),F=0,E=0,F=E=y=0,V=s);7&h;)h++;return h>>>3},o.F._bestMatch=function(e,n,u,c,g,b){var a=32767&n,i=u[a],s=a-i+32768&32767;if(i==a||c!=o.F._hash(e,n-s))return 0;for(var h=0,v=0,w=Math.min(32767,n);s<=w&&--b!=0&&i!=a;){if(h==0||e[n+h]==e[n+h-s]){var k=o.F._howLong(e,n,s);if(k>h){if(v=s,(h=k)>=g)break;s+2<k&&(k=s+2);for(var A=0,D=0;D<k-2;D++){var F=n-s+D+32768&32767,E=F-u[F]+32768&32767;E>A&&(A=E,i=F)}}}s+=(a=i)-(i=u[a])+32768&32767}return h<<16|v},o.F._howLong=function(e,n,u){if(e[n]!=e[n-u]||e[n+1]!=e[n+1-u]||e[n+2]!=e[n+2-u])return 0;var c=n,g=Math.min(e.length,n+258);for(n+=3;n<g&&e[n]==e[n-u];)n++;return n-c},o.F._hash=function(e,n){return(e[n]<<8|e[n+1])+(e[n+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(e,n,u,c,g,b,a,i,s){var h,v,w,k,A,D,F,E,V,y=o.F.U,P=o.F._putsF,l=o.F._putsE;y.lhst[256]++,v=(h=o.F.getTrees())[0],w=h[1],k=h[2],A=h[3],D=h[4],F=h[5],E=h[6],V=h[7];var d=32+(s+3&7?8-(s+3&7):0)+(a<<3),m=c+o.F.contSize(y.fltree,y.lhst)+o.F.contSize(y.fdtree,y.dhst),R=c+o.F.contSize(y.ltree,y.lhst)+o.F.contSize(y.dtree,y.dhst);R+=14+3*F+o.F.contSize(y.itree,y.ihst)+(2*y.ihst[16]+3*y.ihst[17]+7*y.ihst[18]);for(var T=0;T<286;T++)y.lhst[T]=0;for(T=0;T<30;T++)y.dhst[T]=0;for(T=0;T<19;T++)y.ihst[T]=0;var C=d<m&&d<R?0:m<R?1:2;if(P(i,s,e),P(i,s+1,C),s+=3,C==0){for(;7&s;)s++;s=o.F._copyExact(g,b,a,i,s)}else{var U,S;if(C==1&&(U=y.fltree,S=y.fdtree),C==2){o.F.makeCodes(y.ltree,v),o.F.revCodes(y.ltree,v),o.F.makeCodes(y.dtree,w),o.F.revCodes(y.dtree,w),o.F.makeCodes(y.itree,k),o.F.revCodes(y.itree,k),U=y.ltree,S=y.dtree,l(i,s,A-257),l(i,s+=5,D-1),l(i,s+=5,F-4),s+=4;for(var _=0;_<F;_++)l(i,s+3*_,y.itree[1+(y.ordr[_]<<1)]);s+=3*F,s=o.F._codeTiny(E,y.itree,i,s),s=o.F._codeTiny(V,y.itree,i,s)}for(var p=b,O=0;O<u;O+=2){for(var I=n[O],M=I>>>23,q=p+(8388607&I);p<q;)s=o.F._writeLit(g[p++],U,i,s);if(M!=0){var B=n[O+1],z=B>>16,L=B>>8&255,x=255&B;l(i,s=o.F._writeLit(257+L,U,i,s),M-y.of0[L]),s+=y.exb[L],P(i,s=o.F._writeLit(x,S,i,s),z-y.df0[x]),s+=y.dxb[x],p+=M}}s=o.F._writeLit(256,U,i,s)}return s},o.F._copyExact=function(e,n,u,c,g){var b=g>>>3;return c[b]=u,c[b+1]=u>>>8,c[b+2]=255-c[b],c[b+3]=255-c[b+1],b+=4,c.set(new Uint8Array(e.buffer,n,u),b),g+(u+4<<3)},o.F.getTrees=function(){for(var e=o.F.U,n=o.F._hufTree(e.lhst,e.ltree,15),u=o.F._hufTree(e.dhst,e.dtree,15),c=[],g=o.F._lenCodes(e.ltree,c),b=[],a=o.F._lenCodes(e.dtree,b),i=0;i<c.length;i+=2)e.ihst[c[i]]++;for(i=0;i<b.length;i+=2)e.ihst[b[i]]++;for(var s=o.F._hufTree(e.ihst,e.itree,7),h=19;h>4&&e.itree[1+(e.ordr[h-1]<<1)]==0;)h--;return[n,u,s,g,a,h,c,b]},o.F.getSecond=function(e){for(var n=[],u=0;u<e.length;u+=2)n.push(e[u+1]);return n},o.F.nonZero=function(e){for(var n="",u=0;u<e.length;u+=2)e[u+1]!=0&&(n+=(u>>1)+",");return n},o.F.contSize=function(e,n){for(var u=0,c=0;c<n.length;c++)u+=n[c]*e[1+(c<<1)];return u},o.F._codeTiny=function(e,n,u,c){for(var g=0;g<e.length;g+=2){var b=e[g],a=e[g+1];c=o.F._writeLit(b,n,u,c);var i=b==16?2:b==17?3:7;b>15&&(o.F._putsE(u,c,a,i),c+=i)}return c},o.F._lenCodes=function(e,n){for(var u=e.length;u!=2&&e[u-1]==0;)u-=2;for(var c=0;c<u;c+=2){var g=e[c+1],b=c+3<u?e[c+3]:-1,a=c+5<u?e[c+5]:-1,i=c==0?-1:e[c-1];if(g==0&&b==g&&a==g){for(var s=c+5;s+2<u&&e[s+2]==g;)s+=2;(h=Math.min(s+1-c>>>1,138))<11?n.push(17,h-3):n.push(18,h-11),c+=2*h-2}else if(g==i&&b==g&&a==g){for(s=c+5;s+2<u&&e[s+2]==g;)s+=2;var h=Math.min(s+1-c>>>1,6);n.push(16,h-3),c+=2*h-2}else n.push(g,0)}return u>>>1},o.F._hufTree=function(e,n,u){var c=[],g=e.length,b=n.length,a=0;for(a=0;a<b;a+=2)n[a]=0,n[a+1]=0;for(a=0;a<g;a++)e[a]!=0&&c.push({lit:a,f:e[a]});var i=c.length,s=c.slice(0);if(i==0)return 0;if(i==1){var h=c[0].lit;return s=h==0?1:0,n[1+(h<<1)]=1,n[1+(s<<1)]=1,1}c.sort(function(E,V){return E.f-V.f});var v=c[0],w=c[1],k=0,A=1,D=2;for(c[0]={lit:-1,f:v.f+w.f,l:v,r:w,d:0};A!=i-1;)v=k!=A&&(D==i||c[k].f<c[D].f)?c[k++]:c[D++],w=k!=A&&(D==i||c[k].f<c[D].f)?c[k++]:c[D++],c[A++]={lit:-1,f:v.f+w.f,l:v,r:w};var F=o.F.setDepth(c[A-1],0);for(F>u&&(o.F.restrictDepth(s,u,F),F=u),a=0;a<i;a++)n[1+(s[a].lit<<1)]=s[a].d;return F},o.F.setDepth=function(e,n){return e.lit!=-1?(e.d=n,n):Math.max(o.F.setDepth(e.l,n+1),o.F.setDepth(e.r,n+1))},o.F.restrictDepth=function(e,n,u){var c=0,g=1<<u-n,b=0;for(e.sort(function(i,s){return s.d==i.d?i.f-s.f:s.d-i.d}),c=0;c<e.length&&e[c].d>n;c++){var a=e[c].d;e[c].d=n,b+=g-(1<<u-a)}for(b>>>=u-n;b>0;)(a=e[c].d)<n?(e[c].d++,b-=1<<n-a-1):c++;for(;c>=0;c--)e[c].d==n&&b<0&&(e[c].d--,b++);b!=0&&console.log("debt left")},o.F._goodIndex=function(e,n){var u=0;return n[16|u]<=e&&(u|=16),n[8|u]<=e&&(u|=8),n[4|u]<=e&&(u|=4),n[2|u]<=e&&(u|=2),n[1|u]<=e&&(u|=1),u},o.F._writeLit=function(e,n,u,c){return o.F._putsF(u,c,n[e<<1]),c+n[1+(e<<1)]},o.F.inflate=function(e,n){var u=Uint8Array;if(e[0]==3&&e[1]==0)return n||new u(0);var c=o.F,g=c._bitsF,b=c._bitsE,a=c._decodeTiny,i=c.makeCodes,s=c.codes2map,h=c._get17,v=c.U,w=n==null;w&&(n=new u(e.length>>>2<<3));for(var k,A,D=0,F=0,E=0,V=0,y=0,P=0,l=0,d=0,m=0;D==0;)if(D=g(e,m,1),F=g(e,m+1,2),m+=3,F!=0){if(w&&(n=o.F._check(n,d+(1<<17))),F==1&&(k=v.flmap,A=v.fdmap,P=511,l=31),F==2){E=b(e,m,5)+257,V=b(e,m+5,5)+1,y=b(e,m+10,4)+4,m+=14;for(var R=0;R<38;R+=2)v.itree[R]=0,v.itree[R+1]=0;var T=1;for(R=0;R<y;R++){var C=b(e,m+3*R,3);v.itree[1+(v.ordr[R]<<1)]=C,C>T&&(T=C)}m+=3*y,i(v.itree,T),s(v.itree,T,v.imap),k=v.lmap,A=v.dmap,m=a(v.imap,(1<<T)-1,E+V,e,m,v.ttree);var U=c._copyOut(v.ttree,0,E,v.ltree);P=(1<<U)-1;var S=c._copyOut(v.ttree,E,V,v.dtree);l=(1<<S)-1,i(v.ltree,U),s(v.ltree,U,k),i(v.dtree,S),s(v.dtree,S,A)}for(;;){var _=k[h(e,m)&P];m+=15&_;var p=_>>>4;if(!(p>>>8))n[d++]=p;else{if(p==256)break;var O=d+p-254;if(p>264){var I=v.ldef[p-257];O=d+(I>>>3)+b(e,m,7&I),m+=7&I}var M=A[h(e,m)&l];m+=15&M;var q=M>>>4,B=v.ddef[q],z=(B>>>4)+g(e,m,15&B);for(m+=15&B,w&&(n=o.F._check(n,d+(1<<17)));d<O;)n[d]=n[d++-z],n[d]=n[d++-z],n[d]=n[d++-z],n[d]=n[d++-z];d=O}}}else{7&m&&(m+=8-(7&m));var L=4+(m>>>3),x=e[L-4]|e[L-3]<<8;w&&(n=o.F._check(n,d+x)),n.set(new u(e.buffer,e.byteOffset+L,x),d),m=L+x<<3,d+=x}return n.length==d?n:n.slice(0,d)},o.F._check=function(e,n){var u=e.length;if(n<=u)return e;var c=new Uint8Array(Math.max(u<<1,n));return c.set(e,0),c},o.F._decodeTiny=function(e,n,u,c,g,b){for(var a=o.F._bitsE,i=o.F._get17,s=0;s<u;){var h=e[i(c,g)&n];g+=15&h;var v=h>>>4;if(v<=15)b[s]=v,s++;else{var w=0,k=0;v==16?(k=3+a(c,g,2),g+=2,w=b[s-1]):v==17?(k=3+a(c,g,3),g+=3):v==18&&(k=11+a(c,g,7),g+=7);for(var A=s+k;s<A;)b[s]=w,s++}}return g},o.F._copyOut=function(e,n,u,c){for(var g=0,b=0,a=c.length>>>1;b<u;){var i=e[b+n];c[b<<1]=0,c[1+(b<<1)]=i,i>g&&(g=i),b++}for(;b<a;)c[b<<1]=0,c[1+(b<<1)]=0,b++;return g},o.F.makeCodes=function(e,n){for(var u,c,g,b,a=o.F.U,i=e.length,s=a.bl_count,h=0;h<=n;h++)s[h]=0;for(h=1;h<i;h+=2)s[e[h]]++;var v=a.next_code;for(u=0,s[0]=0,c=1;c<=n;c++)u=u+s[c-1]<<1,v[c]=u;for(g=0;g<i;g+=2)(b=e[g+1])!=0&&(e[g]=v[b],v[b]++)},o.F.codes2map=function(e,n,u){for(var c=e.length,g=o.F.U.rev15,b=0;b<c;b+=2)if(e[b+1]!=0)for(var a=b>>1,i=e[b+1],s=a<<4|i,h=n-i,v=e[b]<<h,w=v+(1<<h);v!=w;)u[g[v]>>>15-n]=s,v++},o.F.revCodes=function(e,n){for(var u=o.F.U.rev15,c=15-n,g=0;g<e.length;g+=2){var b=e[g]<<n-e[g+1];e[g]=u[b]>>>c}},o.F._putsE=function(e,n,u){u<<=7&n;var c=n>>>3;e[c]|=u,e[c+1]|=u>>>8},o.F._putsF=function(e,n,u){u<<=7&n;var c=n>>>3;e[c]|=u,e[c+1]|=u>>>8,e[c+2]|=u>>>16},o.F._bitsE=function(e,n,u){return(e[n>>>3]|e[1+(n>>>3)]<<8)>>>(7&n)&(1<<u)-1},o.F._bitsF=function(e,n,u){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16)>>>(7&n)&(1<<u)-1},o.F._get17=function(e,n){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16)>>>(7&n)},o.F._get25=function(e,n){return(e[n>>>3]|e[1+(n>>>3)]<<8|e[2+(n>>>3)]<<16|e[3+(n>>>3)]<<24)>>>(7&n)},o.F.U=(t=Uint16Array,f=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new f(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new f(286),dhst:new f(30),ihst:new f(19),lits:new f(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var e=o.F.U,n=0;n<32768;n++){var u=n;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,e.rev15[n]=(u>>>16|u<<16)>>>17}function c(g,b,a){for(;b--!=0;)g.push(0,a)}for(n=0;n<32;n++)e.ldef[n]=e.of0[n]<<3|e.exb[n],e.ddef[n]=e.df0[n]<<4|e.dxb[n];c(e.fltree,144,8),c(e.fltree,112,9),c(e.fltree,24,7),c(e.fltree,8,8),o.F.makeCodes(e.fltree,9),o.F.codes2map(e.fltree,9,e.flmap),o.F.revCodes(e.fltree,9),c(e.fdtree,32,5),o.F.makeCodes(e.fdtree,5),o.F.codes2map(e.fdtree,5,e.fdmap),o.F.revCodes(e.fdtree,5),c(e.itree,19,0),c(e.ltree,286,0),c(e.dtree,30,0),c(e.ttree,320,0)}()})();var br=gr({__proto__:null,default:At},[At]);const Ue=function(){var r={nextZero(a,i){for(;a[i]!=0;)i++;return i},readUshort:(a,i)=>a[i]<<8|a[i+1],writeUshort(a,i,s){a[i]=s>>8&255,a[i+1]=255&s},readUint:(a,i)=>16777216*a[i]+(a[i+1]<<16|a[i+2]<<8|a[i+3]),writeUint(a,i,s){a[i]=s>>24&255,a[i+1]=s>>16&255,a[i+2]=s>>8&255,a[i+3]=255&s},readASCII(a,i,s){let h="";for(let v=0;v<s;v++)h+=String.fromCharCode(a[i+v]);return h},writeASCII(a,i,s){for(let h=0;h<s.length;h++)a[i+h]=s.charCodeAt(h)},readBytes(a,i,s){const h=[];for(let v=0;v<s;v++)h.push(a[i+v]);return h},pad:a=>a.length<2?`0${a}`:a,readUTF8(a,i,s){let h,v="";for(let w=0;w<s;w++)v+=`%${r.pad(a[i+w].toString(16))}`;try{h=decodeURIComponent(v)}catch{return r.readASCII(a,i,s)}return h}};function t(a,i,s,h){const v=i*s,w=n(h),k=Math.ceil(i*w/8),A=new Uint8Array(4*v),D=new Uint32Array(A.buffer),{ctype:F}=h,{depth:E}=h,V=r.readUshort;if(F==6){const I=v<<2;if(E==8)for(var y=0;y<I;y+=4)A[y]=a[y],A[y+1]=a[y+1],A[y+2]=a[y+2],A[y+3]=a[y+3];if(E==16)for(y=0;y<I;y++)A[y]=a[y<<1]}else if(F==2){const I=h.tabs.tRNS;if(I==null){if(E==8)for(y=0;y<v;y++){var P=3*y;D[y]=255<<24|a[P+2]<<16|a[P+1]<<8|a[P]}if(E==16)for(y=0;y<v;y++)P=6*y,D[y]=255<<24|a[P+4]<<16|a[P+2]<<8|a[P]}else{var l=I[0];const M=I[1],q=I[2];if(E==8)for(y=0;y<v;y++){var d=y<<2;P=3*y,D[y]=255<<24|a[P+2]<<16|a[P+1]<<8|a[P],a[P]==l&&a[P+1]==M&&a[P+2]==q&&(A[d+3]=0)}if(E==16)for(y=0;y<v;y++)d=y<<2,P=6*y,D[y]=255<<24|a[P+4]<<16|a[P+2]<<8|a[P],V(a,P)==l&&V(a,P+2)==M&&V(a,P+4)==q&&(A[d+3]=0)}}else if(F==3){const I=h.tabs.PLTE,M=h.tabs.tRNS,q=M?M.length:0;if(E==1)for(var m=0;m<s;m++){var R=m*k,T=m*i;for(y=0;y<i;y++){d=T+y<<2;var C=3*(U=a[R+(y>>3)]>>7-((7&y)<<0)&1);A[d]=I[C],A[d+1]=I[C+1],A[d+2]=I[C+2],A[d+3]=U<q?M[U]:255}}if(E==2)for(m=0;m<s;m++)for(R=m*k,T=m*i,y=0;y<i;y++)d=T+y<<2,C=3*(U=a[R+(y>>2)]>>6-((3&y)<<1)&3),A[d]=I[C],A[d+1]=I[C+1],A[d+2]=I[C+2],A[d+3]=U<q?M[U]:255;if(E==4)for(m=0;m<s;m++)for(R=m*k,T=m*i,y=0;y<i;y++)d=T+y<<2,C=3*(U=a[R+(y>>1)]>>4-((1&y)<<2)&15),A[d]=I[C],A[d+1]=I[C+1],A[d+2]=I[C+2],A[d+3]=U<q?M[U]:255;if(E==8)for(y=0;y<v;y++){var U;d=y<<2,C=3*(U=a[y]),A[d]=I[C],A[d+1]=I[C+1],A[d+2]=I[C+2],A[d+3]=U<q?M[U]:255}}else if(F==4){if(E==8)for(y=0;y<v;y++){d=y<<2;var S=a[_=y<<1];A[d]=S,A[d+1]=S,A[d+2]=S,A[d+3]=a[_+1]}if(E==16)for(y=0;y<v;y++){var _;d=y<<2,S=a[_=y<<2],A[d]=S,A[d+1]=S,A[d+2]=S,A[d+3]=a[_+2]}}else if(F==0)for(l=h.tabs.tRNS?h.tabs.tRNS:-1,m=0;m<s;m++){const I=m*k,M=m*i;if(E==1)for(var p=0;p<i;p++){var O=(S=255*(a[I+(p>>>3)]>>>7-(7&p)&1))==255*l?0:255;D[M+p]=O<<24|S<<16|S<<8|S}else if(E==2)for(p=0;p<i;p++)O=(S=85*(a[I+(p>>>2)]>>>6-((3&p)<<1)&3))==85*l?0:255,D[M+p]=O<<24|S<<16|S<<8|S;else if(E==4)for(p=0;p<i;p++)O=(S=17*(a[I+(p>>>1)]>>>4-((1&p)<<2)&15))==17*l?0:255,D[M+p]=O<<24|S<<16|S<<8|S;else if(E==8)for(p=0;p<i;p++)O=(S=a[I+p])==l?0:255,D[M+p]=O<<24|S<<16|S<<8|S;else if(E==16)for(p=0;p<i;p++)S=a[I+(p<<1)],O=V(a,I+(p<<1))==l?0:255,D[M+p]=O<<24|S<<16|S<<8|S}return A}function f(a,i,s,h){const v=n(a),w=Math.ceil(s*v/8),k=new Uint8Array((w+1+a.interlace)*h);return i=a.tabs.CgBI?e(i,k):o(i,k),a.interlace==0?i=u(i,a,0,s,h):a.interlace==1&&(i=function(D,F){const E=F.width,V=F.height,y=n(F),P=y>>3,l=Math.ceil(E*y/8),d=new Uint8Array(V*l);let m=0;const R=[0,0,4,0,2,0,1],T=[0,4,0,2,0,1,0],C=[8,8,8,4,4,2,2],U=[8,8,4,4,2,2,1];let S=0;for(;S<7;){const p=C[S],O=U[S];let I=0,M=0,q=R[S];for(;q<V;)q+=p,M++;let B=T[S];for(;B<E;)B+=O,I++;const z=Math.ceil(I*y/8);u(D,F,m,I,M);let L=0,x=R[S];for(;x<V;){let $=T[S],X=m+L*z<<3;for(;$<E;){var _;if(y==1&&(_=(_=D[X>>3])>>7-(7&X)&1,d[x*l+($>>3)]|=_<<7-((7&$)<<0)),y==2&&(_=(_=D[X>>3])>>6-(7&X)&3,d[x*l+($>>2)]|=_<<6-((3&$)<<1)),y==4&&(_=(_=D[X>>3])>>4-(7&X)&15,d[x*l+($>>1)]|=_<<4-((1&$)<<2)),y>=8){const W=x*l+$*P;for(let G=0;G<P;G++)d[W+G]=D[(X>>3)+G]}X+=y,$+=O}L++,x+=p}I*M!=0&&(m+=M*(1+z)),S+=1}return d}(i,a)),i}function o(a,i){return e(new Uint8Array(a.buffer,2,a.length-6),i)}var e=function(){const a={H:{}};return a.H.N=function(i,s){const h=Uint8Array;let v,w,k=0,A=0,D=0,F=0,E=0,V=0,y=0,P=0,l=0;if(i[0]==3&&i[1]==0)return s||new h(0);const d=a.H,m=d.b,R=d.e,T=d.R,C=d.n,U=d.A,S=d.Z,_=d.m,p=s==null;for(p&&(s=new h(i.length>>>2<<5));k==0;)if(k=m(i,l,1),A=m(i,l+1,2),l+=3,A!=0){if(p&&(s=a.H.W(s,P+(1<<17))),A==1&&(v=_.J,w=_.h,V=511,y=31),A==2){D=R(i,l,5)+257,F=R(i,l+5,5)+1,E=R(i,l+10,4)+4,l+=14;let I=1;for(var O=0;O<38;O+=2)_.Q[O]=0,_.Q[O+1]=0;for(O=0;O<E;O++){const B=R(i,l+3*O,3);_.Q[1+(_.X[O]<<1)]=B,B>I&&(I=B)}l+=3*E,C(_.Q,I),U(_.Q,I,_.u),v=_.w,w=_.d,l=T(_.u,(1<<I)-1,D+F,i,l,_.v);const M=d.V(_.v,0,D,_.C);V=(1<<M)-1;const q=d.V(_.v,D,F,_.D);y=(1<<q)-1,C(_.C,M),U(_.C,M,v),C(_.D,q),U(_.D,q,w)}for(;;){const I=v[S(i,l)&V];l+=15&I;const M=I>>>4;if(!(M>>>8))s[P++]=M;else{if(M==256)break;{let q=P+M-254;if(M>264){const $=_.q[M-257];q=P+($>>>3)+R(i,l,7&$),l+=7&$}const B=w[S(i,l)&y];l+=15&B;const z=B>>>4,L=_.c[z],x=(L>>>4)+m(i,l,15&L);for(l+=15&L;P<q;)s[P]=s[P++-x],s[P]=s[P++-x],s[P]=s[P++-x],s[P]=s[P++-x];P=q}}}}else{7&l&&(l+=8-(7&l));const I=4+(l>>>3),M=i[I-4]|i[I-3]<<8;p&&(s=a.H.W(s,P+M)),s.set(new h(i.buffer,i.byteOffset+I,M),P),l=I+M<<3,P+=M}return s.length==P?s:s.slice(0,P)},a.H.W=function(i,s){const h=i.length;if(s<=h)return i;const v=new Uint8Array(h<<1);return v.set(i,0),v},a.H.R=function(i,s,h,v,w,k){const A=a.H.e,D=a.H.Z;let F=0;for(;F<h;){const E=i[D(v,w)&s];w+=15&E;const V=E>>>4;if(V<=15)k[F]=V,F++;else{let y=0,P=0;V==16?(P=3+A(v,w,2),w+=2,y=k[F-1]):V==17?(P=3+A(v,w,3),w+=3):V==18&&(P=11+A(v,w,7),w+=7);const l=F+P;for(;F<l;)k[F]=y,F++}}return w},a.H.V=function(i,s,h,v){let w=0,k=0;const A=v.length>>>1;for(;k<h;){const D=i[k+s];v[k<<1]=0,v[1+(k<<1)]=D,D>w&&(w=D),k++}for(;k<A;)v[k<<1]=0,v[1+(k<<1)]=0,k++;return w},a.H.n=function(i,s){const h=a.H.m,v=i.length;let w,k,A,D;const F=h.j;for(var E=0;E<=s;E++)F[E]=0;for(E=1;E<v;E+=2)F[i[E]]++;const V=h.K;for(w=0,F[0]=0,k=1;k<=s;k++)w=w+F[k-1]<<1,V[k]=w;for(A=0;A<v;A+=2)D=i[A+1],D!=0&&(i[A]=V[D],V[D]++)},a.H.A=function(i,s,h){const v=i.length,w=a.H.m.r;for(let k=0;k<v;k+=2)if(i[k+1]!=0){const A=k>>1,D=i[k+1],F=A<<4|D,E=s-D;let V=i[k]<<E;const y=V+(1<<E);for(;V!=y;)h[w[V]>>>15-s]=F,V++}},a.H.l=function(i,s){const h=a.H.m.r,v=15-s;for(let w=0;w<i.length;w+=2){const k=i[w]<<s-i[w+1];i[w]=h[k]>>>v}},a.H.M=function(i,s,h){h<<=7&s;const v=s>>>3;i[v]|=h,i[v+1]|=h>>>8},a.H.I=function(i,s,h){h<<=7&s;const v=s>>>3;i[v]|=h,i[v+1]|=h>>>8,i[v+2]|=h>>>16},a.H.e=function(i,s,h){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<h)-1},a.H.b=function(i,s,h){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<h)-1},a.H.Z=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},a.H.i=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},a.H.m=function(){const i=Uint16Array,s=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new s(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new s(286),Y:new s(30),a:new s(19),t:new s(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=a.H.m;for(var s=0;s<32768;s++){let v=s;v=(2863311530&v)>>>1|(1431655765&v)<<1,v=(3435973836&v)>>>2|(858993459&v)<<2,v=(4042322160&v)>>>4|(252645135&v)<<4,v=(4278255360&v)>>>8|(16711935&v)<<8,i.r[s]=(v>>>16|v<<16)>>>17}function h(v,w,k){for(;w--!=0;)v.push(0,k)}for(s=0;s<32;s++)i.q[s]=i.S[s]<<3|i.T[s],i.c[s]=i.p[s]<<4|i.z[s];h(i._,144,8),h(i._,112,9),h(i._,24,7),h(i._,8,8),a.H.n(i._,9),a.H.A(i._,9,i.J),a.H.l(i._,9),h(i.$,32,5),a.H.n(i.$,5),a.H.A(i.$,5,i.h),a.H.l(i.$,5),h(i.Q,19,0),h(i.C,286,0),h(i.D,30,0),h(i.v,320,0)}(),a.H.N}();function n(a){return[1,null,3,1,2,null,4][a.ctype]*a.depth}function u(a,i,s,h,v){let w=n(i);const k=Math.ceil(h*w/8);let A,D;w=Math.ceil(w/8);let F=a[s],E=0;if(F>1&&(a[s]=[0,0,1][F-2]),F==3)for(E=w;E<k;E++)a[E+1]=a[E+1]+(a[E+1-w]>>>1)&255;for(let V=0;V<v;V++)if(A=s+V*k,D=A+V+1,F=a[D-1],E=0,F==0)for(;E<k;E++)a[A+E]=a[D+E];else if(F==1){for(;E<w;E++)a[A+E]=a[D+E];for(;E<k;E++)a[A+E]=a[D+E]+a[A+E-w]}else if(F==2)for(;E<k;E++)a[A+E]=a[D+E]+a[A+E-k];else if(F==3){for(;E<w;E++)a[A+E]=a[D+E]+(a[A+E-k]>>>1);for(;E<k;E++)a[A+E]=a[D+E]+(a[A+E-k]+a[A+E-w]>>>1)}else{for(;E<w;E++)a[A+E]=a[D+E]+c(0,a[A+E-k],0);for(;E<k;E++)a[A+E]=a[D+E]+c(a[A+E-w],a[A+E-k],a[A+E-w-k])}return a}function c(a,i,s){const h=a+i-s,v=h-a,w=h-i,k=h-s;return v*v<=w*w&&v*v<=k*k?a:w*w<=k*k?i:s}function g(a,i,s){s.width=r.readUint(a,i),i+=4,s.height=r.readUint(a,i),i+=4,s.depth=a[i],i++,s.ctype=a[i],i++,s.compress=a[i],i++,s.filter=a[i],i++,s.interlace=a[i],i++}function b(a,i,s,h,v,w,k,A,D){const F=Math.min(i,v),E=Math.min(s,w);let V=0,y=0;for(let S=0;S<E;S++)for(let _=0;_<F;_++)if(k>=0&&A>=0?(V=S*i+_<<2,y=(A+S)*v+k+_<<2):(V=(-A+S)*i-k+_<<2,y=S*v+_<<2),D==0)h[y]=a[V],h[y+1]=a[V+1],h[y+2]=a[V+2],h[y+3]=a[V+3];else if(D==1){var P=a[V+3]*.00392156862745098,l=a[V]*P,d=a[V+1]*P,m=a[V+2]*P,R=h[y+3]*(1/255),T=h[y]*R,C=h[y+1]*R,U=h[y+2]*R;const p=1-P,O=P+R*p,I=O==0?0:1/O;h[y+3]=255*O,h[y+0]=(l+T*p)*I,h[y+1]=(d+C*p)*I,h[y+2]=(m+U*p)*I}else if(D==2)P=a[V+3],l=a[V],d=a[V+1],m=a[V+2],R=h[y+3],T=h[y],C=h[y+1],U=h[y+2],P==R&&l==T&&d==C&&m==U?(h[y]=0,h[y+1]=0,h[y+2]=0,h[y+3]=0):(h[y]=l,h[y+1]=d,h[y+2]=m,h[y+3]=P);else if(D==3){if(P=a[V+3],l=a[V],d=a[V+1],m=a[V+2],R=h[y+3],T=h[y],C=h[y+1],U=h[y+2],P==R&&l==T&&d==C&&m==U)continue;if(P<220&&R>20)return!1}return!0}return{decode:function(i){const s=new Uint8Array(i);let h=8;const v=r,w=v.readUshort,k=v.readUint,A={tabs:{},frames:[]},D=new Uint8Array(s.length);let F,E=0,V=0;const y=[137,80,78,71,13,10,26,10];for(var P=0;P<8;P++)if(s[P]!=y[P])throw"The input is not a PNG file!";for(;h<s.length;){const S=v.readUint(s,h);h+=4;const _=v.readASCII(s,h,4);if(h+=4,_=="IHDR")g(s,h,A);else if(_=="iCCP"){for(var l=h;s[l]!=0;)l++;v.readASCII(s,h,l-h),s[l+1];const p=s.slice(l+2,h+S);let O=null;try{O=o(p)}catch{O=e(p)}A.tabs[_]=O}else if(_=="CgBI")A.tabs[_]=s.slice(h,h+4);else if(_=="IDAT"){for(P=0;P<S;P++)D[E+P]=s[h+P];E+=S}else if(_=="acTL")A.tabs[_]={num_frames:k(s,h),num_plays:k(s,h+4)},F=new Uint8Array(s.length);else if(_=="fcTL"){V!=0&&((U=A.frames[A.frames.length-1]).data=f(A,F.slice(0,V),U.rect.width,U.rect.height),V=0);const p={x:k(s,h+12),y:k(s,h+16),width:k(s,h+4),height:k(s,h+8)};let O=w(s,h+22);O=w(s,h+20)/(O==0?100:O);const I={rect:p,delay:Math.round(1e3*O),dispose:s[h+24],blend:s[h+25]};A.frames.push(I)}else if(_=="fdAT"){for(P=0;P<S-4;P++)F[V+P]=s[h+P+4];V+=S-4}else if(_=="pHYs")A.tabs[_]=[v.readUint(s,h),v.readUint(s,h+4),s[h+8]];else if(_=="cHRM")for(A.tabs[_]=[],P=0;P<8;P++)A.tabs[_].push(v.readUint(s,h+4*P));else if(_=="tEXt"||_=="zTXt"){A.tabs[_]==null&&(A.tabs[_]={});var d=v.nextZero(s,h),m=v.readASCII(s,h,d-h),R=h+S-d-1;if(_=="tEXt")C=v.readASCII(s,d+1,R);else{var T=o(s.slice(d+2,d+2+R));C=v.readUTF8(T,0,T.length)}A.tabs[_][m]=C}else if(_=="iTXt"){A.tabs[_]==null&&(A.tabs[_]={}),d=0,l=h,d=v.nextZero(s,l),m=v.readASCII(s,l,d-l);const p=s[l=d+1];var C;s[l+1],l+=2,d=v.nextZero(s,l),v.readASCII(s,l,d-l),l=d+1,d=v.nextZero(s,l),v.readUTF8(s,l,d-l),R=S-((l=d+1)-h),p==0?C=v.readUTF8(s,l,R):(T=o(s.slice(l,l+R)),C=v.readUTF8(T,0,T.length)),A.tabs[_][m]=C}else if(_=="PLTE")A.tabs[_]=v.readBytes(s,h,S);else if(_=="hIST"){const p=A.tabs.PLTE.length/3;for(A.tabs[_]=[],P=0;P<p;P++)A.tabs[_].push(w(s,h+2*P))}else if(_=="tRNS")A.ctype==3?A.tabs[_]=v.readBytes(s,h,S):A.ctype==0?A.tabs[_]=w(s,h):A.ctype==2&&(A.tabs[_]=[w(s,h),w(s,h+2),w(s,h+4)]);else if(_=="gAMA")A.tabs[_]=v.readUint(s,h)/1e5;else if(_=="sRGB")A.tabs[_]=s[h];else if(_=="bKGD")A.ctype==0||A.ctype==4?A.tabs[_]=[w(s,h)]:A.ctype==2||A.ctype==6?A.tabs[_]=[w(s,h),w(s,h+2),w(s,h+4)]:A.ctype==3&&(A.tabs[_]=s[h]);else if(_=="IEND")break;h+=S,v.readUint(s,h),h+=4}var U;return V!=0&&((U=A.frames[A.frames.length-1]).data=f(A,F.slice(0,V),U.rect.width,U.rect.height)),A.data=f(A,D,A.width,A.height),delete A.compress,delete A.interlace,delete A.filter,A},toRGBA8:function(i){const s=i.width,h=i.height;if(i.tabs.acTL==null)return[t(i.data,s,h,i).buffer];const v=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const w=s*h*4,k=new Uint8Array(w),A=new Uint8Array(w),D=new Uint8Array(w);for(let E=0;E<i.frames.length;E++){const V=i.frames[E],y=V.rect.x,P=V.rect.y,l=V.rect.width,d=V.rect.height,m=t(V.data,l,d,i);if(E!=0)for(var F=0;F<w;F++)D[F]=k[F];if(V.blend==0?b(m,l,d,k,s,h,y,P,0):V.blend==1&&b(m,l,d,k,s,h,y,P,1),v.push(k.buffer.slice(0)),V.dispose!=0){if(V.dispose==1)b(A,l,d,k,s,h,y,P,0);else if(V.dispose==2)for(F=0;F<w;F++)k[F]=D[F]}}return v},_paeth:c,_copyTile:b,_bin:r}}();(function(){const{_copyTile:r}=Ue,{_bin:t}=Ue,f=Ue._paeth;var o={table:function(){const l=new Uint32Array(256);for(let d=0;d<256;d++){let m=d;for(let R=0;R<8;R++)1&m?m=3988292384^m>>>1:m>>>=1;l[d]=m}return l}(),update(l,d,m,R){for(let T=0;T<R;T++)l=o.table[255&(l^d[m+T])]^l>>>8;return l},crc:(l,d,m)=>4294967295^o.update(4294967295,l,d,m)};function e(l,d,m,R){d[m]+=l[0]*R>>4,d[m+1]+=l[1]*R>>4,d[m+2]+=l[2]*R>>4,d[m+3]+=l[3]*R>>4}function n(l){return Math.max(0,Math.min(255,l))}function u(l,d){const m=l[0]-d[0],R=l[1]-d[1],T=l[2]-d[2],C=l[3]-d[3];return m*m+R*R+T*T+C*C}function c(l,d,m,R,T,C,U){U==null&&(U=1);const S=R.length,_=[];for(var p=0;p<S;p++){const x=R[p];_.push([x>>>0&255,x>>>8&255,x>>>16&255,x>>>24&255])}for(p=0;p<S;p++){let x=4294967295;for(var O=0,I=0;I<S;I++){var M=u(_[p],_[I]);I!=p&&M<x&&(x=M,O=I)}}const q=new Uint32Array(T.buffer),B=new Int16Array(d*m*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(p=0;p<z.length;p++)z[p]=255*((z[p]+.5)/16-.5);for(let x=0;x<m;x++)for(let $=0;$<d;$++){var L;p=4*(x*d+$),U!=2?L=[n(l[p]+B[p]),n(l[p+1]+B[p+1]),n(l[p+2]+B[p+2]),n(l[p+3]+B[p+3])]:(M=z[4*(3&x)+(3&$)],L=[n(l[p]+M),n(l[p+1]+M),n(l[p+2]+M),n(l[p+3]+M)]),O=0;let X=16777215;for(I=0;I<S;I++){const K=u(L,_[I]);K<X&&(X=K,O=I)}const W=_[O],G=[L[0]-W[0],L[1]-W[1],L[2]-W[2],L[3]-W[3]];U==1&&($!=d-1&&e(G,B,p+4,7),x!=m-1&&($!=0&&e(G,B,p+4*d-4,3),e(G,B,p+4*d,5),$!=d-1&&e(G,B,p+4*d+4,1))),C[p>>2]=O,q[p>>2]=R[O]}}function g(l,d,m,R,T){T==null&&(T={});const{crc:C}=o,U=t.writeUint,S=t.writeUshort,_=t.writeASCII;let p=8;const O=l.frames.length>1;let I,M=!1,q=33+(O?20:0);if(T.sRGB!=null&&(q+=13),T.pHYs!=null&&(q+=21),T.iCCP!=null&&(I=pako.deflate(T.iCCP),q+=21+I.length+4),l.ctype==3){for(var B=l.plte.length,z=0;z<B;z++)l.plte[z]>>>24!=255&&(M=!0);q+=8+3*B+4+(M?8+1*B+4:0)}for(var L=0;L<l.frames.length;L++)O&&(q+=38),q+=(W=l.frames[L]).cimg.length+12,L!=0&&(q+=4);q+=12;const x=new Uint8Array(q),$=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)x[z]=$[z];if(U(x,p,13),p+=4,_(x,p,"IHDR"),p+=4,U(x,p,d),p+=4,U(x,p,m),p+=4,x[p]=l.depth,p++,x[p]=l.ctype,p++,x[p]=0,p++,x[p]=0,p++,x[p]=0,p++,U(x,p,C(x,p-17,17)),p+=4,T.sRGB!=null&&(U(x,p,1),p+=4,_(x,p,"sRGB"),p+=4,x[p]=T.sRGB,p++,U(x,p,C(x,p-5,5)),p+=4),T.iCCP!=null){const G=13+I.length;U(x,p,G),p+=4,_(x,p,"iCCP"),p+=4,_(x,p,"ICC profile"),p+=11,p+=2,x.set(I,p),p+=I.length,U(x,p,C(x,p-(G+4),G+4)),p+=4}if(T.pHYs!=null&&(U(x,p,9),p+=4,_(x,p,"pHYs"),p+=4,U(x,p,T.pHYs[0]),p+=4,U(x,p,T.pHYs[1]),p+=4,x[p]=T.pHYs[2],p++,U(x,p,C(x,p-13,13)),p+=4),O&&(U(x,p,8),p+=4,_(x,p,"acTL"),p+=4,U(x,p,l.frames.length),p+=4,U(x,p,T.loop!=null?T.loop:0),p+=4,U(x,p,C(x,p-12,12)),p+=4),l.ctype==3){for(U(x,p,3*(B=l.plte.length)),p+=4,_(x,p,"PLTE"),p+=4,z=0;z<B;z++){const G=3*z,K=l.plte[z],re=255&K,ae=K>>>8&255,Me=K>>>16&255;x[p+G+0]=re,x[p+G+1]=ae,x[p+G+2]=Me}if(p+=3*B,U(x,p,C(x,p-3*B-4,3*B+4)),p+=4,M){for(U(x,p,B),p+=4,_(x,p,"tRNS"),p+=4,z=0;z<B;z++)x[p+z]=l.plte[z]>>>24&255;p+=B,U(x,p,C(x,p-B-4,B+4)),p+=4}}let X=0;for(L=0;L<l.frames.length;L++){var W=l.frames[L];O&&(U(x,p,26),p+=4,_(x,p,"fcTL"),p+=4,U(x,p,X++),p+=4,U(x,p,W.rect.width),p+=4,U(x,p,W.rect.height),p+=4,U(x,p,W.rect.x),p+=4,U(x,p,W.rect.y),p+=4,S(x,p,R[L]),p+=2,S(x,p,1e3),p+=2,x[p]=W.dispose,p++,x[p]=W.blend,p++,U(x,p,C(x,p-30,30)),p+=4);const G=W.cimg;U(x,p,(B=G.length)+(L==0?0:4)),p+=4;const K=p;_(x,p,L==0?"IDAT":"fdAT"),p+=4,L!=0&&(U(x,p,X++),p+=4),x.set(G,p),p+=B,U(x,p,C(x,K,p-K)),p+=4}return U(x,p,0),p+=4,_(x,p,"IEND"),p+=4,U(x,p,C(x,p-4,4)),p+=4,x.buffer}function b(l,d,m){for(let R=0;R<l.frames.length;R++){const T=l.frames[R];T.rect.width;const C=T.rect.height,U=new Uint8Array(C*T.bpl+C);T.cimg=h(T.img,C,T.bpp,T.bpl,U,d,m)}}function a(l,d,m,R,T){const C=T[0],U=T[1],S=T[2],_=T[3],p=T[4],O=T[5];let I=6,M=8,q=255;for(var B=0;B<l.length;B++){const le=new Uint8Array(l[B]);for(var z=le.length,L=0;L<z;L+=4)q&=le[L+3]}const x=q!=255,$=function(ee,Z,ie,fe,oe,_e){const se=[];for(var Y=0;Y<ee.length;Y++){const he=new Uint8Array(ee[Y]),Ae=new Uint32Array(he.buffer);var ve;let we=0,Ce=0,Te=Z,Be=ie,St=fe?1:0;if(Y!=0){const Nn=_e||fe||Y==1||se[Y-2].dispose!=0?1:2;let Pt=0,Gt=1e9;for(let Je=0;Je<Nn;Je++){var Fe=new Uint8Array(ee[Y-1-Je]);const Dn=new Uint32Array(ee[Y-1-Je]);let xe=Z,Oe=ie,We=-1,et=-1;for(let He=0;He<ie;He++)for(let ze=0;ze<Z;ze++)Ae[ue=He*Z+ze]!=Dn[ue]&&(ze<xe&&(xe=ze),ze>We&&(We=ze),He<Oe&&(Oe=He),He>et&&(et=He));We==-1&&(xe=Oe=We=et=0),oe&&((1&xe)==1&&xe--,(1&Oe)==1&&Oe--);const Wt=(We-xe+1)*(et-Oe+1);Wt<Gt&&(Gt=Wt,Pt=Je,we=xe,Ce=Oe,Te=We-xe+1,Be=et-Oe+1)}Fe=new Uint8Array(ee[Y-1-Pt]),Pt==1&&(se[Y-1].dispose=2),ve=new Uint8Array(Te*Be*4),r(Fe,Z,ie,ve,Te,Be,-we,-Ce,0),St=r(he,Z,ie,ve,Te,Be,-we,-Ce,3)?1:0,St==1?s(he,Z,ie,ve,{x:we,y:Ce,width:Te,height:Be}):r(he,Z,ie,ve,Te,Be,-we,-Ce,0)}else ve=he.slice(0);se.push({rect:{x:we,y:Ce,width:Te,height:Be},img:ve,blend:St,dispose:0})}if(fe)for(Y=0;Y<se.length;Y++){if((Le=se[Y]).blend==1)continue;const he=Le.rect,Ae=se[Y-1].rect,we=Math.min(he.x,Ae.x),Ce=Math.min(he.y,Ae.y),Te={x:we,y:Ce,width:Math.max(he.x+he.width,Ae.x+Ae.width)-we,height:Math.max(he.y+he.height,Ae.y+Ae.height)-Ce};se[Y-1].dispose=1,Y-1!=0&&i(ee,Z,ie,se,Y-1,Te,oe),i(ee,Z,ie,se,Y,Te,oe)}let at=0;if(ee.length!=1)for(var ue=0;ue<se.length;ue++){var Le;at+=(Le=se[ue]).rect.width*Le.rect.height}return se}(l,d,m,C,U,S),X={},W=[],G=[];if(R!=0){const le=[];for(L=0;L<$.length;L++)le.push($[L].img.buffer);const ee=function(oe){let _e=0;for(var se=0;se<oe.length;se++)_e+=oe[se].byteLength;const Y=new Uint8Array(_e);let ve=0;for(se=0;se<oe.length;se++){const Fe=new Uint8Array(oe[se]),at=Fe.length;for(let ue=0;ue<at;ue+=4){let Le=Fe[ue],he=Fe[ue+1],Ae=Fe[ue+2];const we=Fe[ue+3];we==0&&(Le=he=Ae=0),Y[ve+ue]=Le,Y[ve+ue+1]=he,Y[ve+ue+2]=Ae,Y[ve+ue+3]=we}ve+=at}return Y.buffer}(le),Z=w(ee,R);for(L=0;L<Z.plte.length;L++)W.push(Z.plte[L].est.rgba);let ie=0;for(L=0;L<$.length;L++){const fe=(re=$[L]).img.length;var K=new Uint8Array(Z.inds.buffer,ie>>2,fe>>2);G.push(K);const oe=new Uint8Array(Z.abuf,ie,fe);O&&c(re.img,re.rect.width,re.rect.height,W,oe,K),re.img.set(oe),ie+=fe}}else for(B=0;B<$.length;B++){var re=$[B];const le=new Uint32Array(re.img.buffer);var ae=re.rect.width;for(z=le.length,K=new Uint8Array(z),G.push(K),L=0;L<z;L++){const ee=le[L];if(L!=0&&ee==le[L-1])K[L]=K[L-1];else if(L>ae&&ee==le[L-ae])K[L]=K[L-ae];else{let Z=X[ee];if(Z==null&&(X[ee]=Z=W.length,W.push(ee),W.length>=300))break;K[L]=Z}}}const Me=W.length;for(Me<=256&&p==0&&(M=Me<=2?1:Me<=4?2:Me<=16?4:8,M=Math.max(M,_)),B=0;B<$.length;B++){(re=$[B]).rect.x,re.rect.y,ae=re.rect.width;const le=re.rect.height;let ee=re.img;new Uint32Array(ee.buffer);let Z=4*ae,ie=4;if(Me<=256&&p==0){Z=Math.ceil(M*ae/8);var Re=new Uint8Array(Z*le);const fe=G[B];for(let oe=0;oe<le;oe++){L=oe*Z;const _e=oe*ae;if(M==8)for(var ne=0;ne<ae;ne++)Re[L+ne]=fe[_e+ne];else if(M==4)for(ne=0;ne<ae;ne++)Re[L+(ne>>1)]|=fe[_e+ne]<<4-4*(1&ne);else if(M==2)for(ne=0;ne<ae;ne++)Re[L+(ne>>2)]|=fe[_e+ne]<<6-2*(3&ne);else if(M==1)for(ne=0;ne<ae;ne++)Re[L+(ne>>3)]|=fe[_e+ne]<<7-1*(7&ne)}ee=Re,I=3,ie=1}else if(x==0&&$.length==1){Re=new Uint8Array(ae*le*3);const fe=ae*le;for(L=0;L<fe;L++){const oe=3*L,_e=4*L;Re[oe]=ee[_e],Re[oe+1]=ee[_e+1],Re[oe+2]=ee[_e+2]}ee=Re,I=2,ie=3,Z=3*ae}re.img=ee,re.bpl=Z,re.bpp=ie}return{ctype:I,depth:M,plte:W,frames:$}}function i(l,d,m,R,T,C,U){const S=Uint8Array,_=Uint32Array,p=new S(l[T-1]),O=new _(l[T-1]),I=T+1<l.length?new S(l[T+1]):null,M=new S(l[T]),q=new _(M.buffer);let B=d,z=m,L=-1,x=-1;for(let X=0;X<C.height;X++)for(let W=0;W<C.width;W++){const G=C.x+W,K=C.y+X,re=K*d+G,ae=q[re];ae==0||R[T-1].dispose==0&&O[re]==ae&&(I==null||I[4*re+3]!=0)||(G<B&&(B=G),G>L&&(L=G),K<z&&(z=K),K>x&&(x=K))}L==-1&&(B=z=L=x=0),U&&((1&B)==1&&B--,(1&z)==1&&z--),C={x:B,y:z,width:L-B+1,height:x-z+1};const $=R[T];$.rect=C,$.blend=1,$.img=new Uint8Array(C.width*C.height*4),R[T-1].dispose==0?(r(p,d,m,$.img,C.width,C.height,-C.x,-C.y,0),s(M,d,m,$.img,C)):r(M,d,m,$.img,C.width,C.height,-C.x,-C.y,0)}function s(l,d,m,R,T){r(l,d,m,R,T.width,T.height,-T.x,-T.y,2)}function h(l,d,m,R,T,C,U){const S=[];let _,p=[0,1,2,3,4];C!=-1?p=[C]:(d*R>5e5||m==1)&&(p=[0]),U&&(_={level:0});const O=br;for(var I=0;I<p.length;I++){for(let B=0;B<d;B++)v(T,l,B,R,m,p[I]);S.push(O.deflate(T,_))}let M,q=1e9;for(I=0;I<S.length;I++)S[I].length<q&&(M=I,q=S[I].length);return S[M]}function v(l,d,m,R,T,C){const U=m*R;let S=U+m;if(l[S]=C,S++,C==0)if(R<500)for(var _=0;_<R;_++)l[S+_]=d[U+_];else l.set(new Uint8Array(d.buffer,U,R),S);else if(C==1){for(_=0;_<T;_++)l[S+_]=d[U+_];for(_=T;_<R;_++)l[S+_]=d[U+_]-d[U+_-T]+256&255}else if(m==0){for(_=0;_<T;_++)l[S+_]=d[U+_];if(C==2)for(_=T;_<R;_++)l[S+_]=d[U+_];if(C==3)for(_=T;_<R;_++)l[S+_]=d[U+_]-(d[U+_-T]>>1)+256&255;if(C==4)for(_=T;_<R;_++)l[S+_]=d[U+_]-f(d[U+_-T],0,0)+256&255}else{if(C==2)for(_=0;_<R;_++)l[S+_]=d[U+_]+256-d[U+_-R]&255;if(C==3){for(_=0;_<T;_++)l[S+_]=d[U+_]+256-(d[U+_-R]>>1)&255;for(_=T;_<R;_++)l[S+_]=d[U+_]+256-(d[U+_-R]+d[U+_-T]>>1)&255}if(C==4){for(_=0;_<T;_++)l[S+_]=d[U+_]+256-f(0,d[U+_-R],0)&255;for(_=T;_<R;_++)l[S+_]=d[U+_]+256-f(d[U+_-T],d[U+_-R],d[U+_-T-R])&255}}}function w(l,d){const m=new Uint8Array(l),R=m.slice(0),T=new Uint32Array(R.buffer),C=k(R,d),U=C[0],S=C[1],_=m.length,p=new Uint8Array(_>>2);let O;if(m.length<2e7)for(var I=0;I<_;I+=4)O=A(U,M=m[I]*(1/255),q=m[I+1]*(1/255),B=m[I+2]*(1/255),z=m[I+3]*(1/255)),p[I>>2]=O.ind,T[I>>2]=O.est.rgba;else for(I=0;I<_;I+=4){var M=m[I]*.00392156862745098,q=m[I+1]*(1/255),B=m[I+2]*(1/255),z=m[I+3]*(1/255);for(O=U;O.left;)O=D(O.est,M,q,B,z)<=0?O.left:O.right;p[I>>2]=O.ind,T[I>>2]=O.est.rgba}return{abuf:R.buffer,inds:p,plte:S}}function k(l,d,m){m==null&&(m=1e-4);const R=new Uint32Array(l.buffer),T={i0:0,i1:l.length,bst:null,est:null,tdst:0,left:null,right:null};T.bst=V(l,T.i0,T.i1),T.est=y(T.bst);const C=[T];for(;C.length<d;){let S=0,_=0;for(var U=0;U<C.length;U++)C[U].est.L>S&&(S=C[U].est.L,_=U);if(S<m)break;const p=C[_],O=F(l,R,p.i0,p.i1,p.est.e,p.est.eMq255);if(p.i0>=O||p.i1<=O){p.est.L=0;continue}const I={i0:p.i0,i1:O,bst:null,est:null,tdst:0,left:null,right:null};I.bst=V(l,I.i0,I.i1),I.est=y(I.bst);const M={i0:O,i1:p.i1,bst:null,est:null,tdst:0,left:null,right:null};for(M.bst={R:[],m:[],N:p.bst.N-I.bst.N},U=0;U<16;U++)M.bst.R[U]=p.bst.R[U]-I.bst.R[U];for(U=0;U<4;U++)M.bst.m[U]=p.bst.m[U]-I.bst.m[U];M.est=y(M.bst),p.left=I,p.right=M,C[_]=I,C.push(M)}for(C.sort((S,_)=>_.bst.N-S.bst.N),U=0;U<C.length;U++)C[U].ind=U;return[T,C]}function A(l,d,m,R,T){if(l.left==null)return l.tdst=function(I,M,q,B,z){const L=M-I[0],x=q-I[1],$=B-I[2],X=z-I[3];return L*L+x*x+$*$+X*X}(l.est.q,d,m,R,T),l;const C=D(l.est,d,m,R,T);let U=l.left,S=l.right;C>0&&(U=l.right,S=l.left);const _=A(U,d,m,R,T);if(_.tdst<=C*C)return _;const p=A(S,d,m,R,T);return p.tdst<_.tdst?p:_}function D(l,d,m,R,T){const{e:C}=l;return C[0]*d+C[1]*m+C[2]*R+C[3]*T-l.eMq}function F(l,d,m,R,T,C){for(R-=4;m<R;){for(;E(l,m,T)<=C;)m+=4;for(;E(l,R,T)>C;)R-=4;if(m>=R)break;const U=d[m>>2];d[m>>2]=d[R>>2],d[R>>2]=U,m+=4,R-=4}for(;E(l,m,T)>C;)m-=4;return m+4}function E(l,d,m){return l[d]*m[0]+l[d+1]*m[1]+l[d+2]*m[2]+l[d+3]*m[3]}function V(l,d,m){const R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=[0,0,0,0],C=m-d>>2;for(let U=d;U<m;U+=4){const S=l[U]*.00392156862745098,_=l[U+1]*(1/255),p=l[U+2]*(1/255),O=l[U+3]*(1/255);T[0]+=S,T[1]+=_,T[2]+=p,T[3]+=O,R[0]+=S*S,R[1]+=S*_,R[2]+=S*p,R[3]+=S*O,R[5]+=_*_,R[6]+=_*p,R[7]+=_*O,R[10]+=p*p,R[11]+=p*O,R[15]+=O*O}return R[4]=R[1],R[8]=R[2],R[9]=R[6],R[12]=R[3],R[13]=R[7],R[14]=R[11],{R,m:T,N:C}}function y(l){const{R:d}=l,{m}=l,{N:R}=l,T=m[0],C=m[1],U=m[2],S=m[3],_=R==0?0:1/R,p=[d[0]-T*T*_,d[1]-T*C*_,d[2]-T*U*_,d[3]-T*S*_,d[4]-C*T*_,d[5]-C*C*_,d[6]-C*U*_,d[7]-C*S*_,d[8]-U*T*_,d[9]-U*C*_,d[10]-U*U*_,d[11]-U*S*_,d[12]-S*T*_,d[13]-S*C*_,d[14]-S*U*_,d[15]-S*S*_],O=p,I=P;let M=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,B=0;if(R!=0)for(let L=0;L<16&&(M=I.multVec(O,M),B=Math.sqrt(I.dot(M,M)),M=I.sml(1/B,M),!(L!=0&&Math.abs(B-q)<1e-9));L++)q=B;const z=[T*_,C*_,U*_,S*_];return{Cov:p,q:z,e:M,L:q,eMq255:I.dot(I.sml(255,z),M),eMq:I.dot(M,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var P={multVec:(l,d)=>[l[0]*d[0]+l[1]*d[1]+l[2]*d[2]+l[3]*d[3],l[4]*d[0]+l[5]*d[1]+l[6]*d[2]+l[7]*d[3],l[8]*d[0]+l[9]*d[1]+l[10]*d[2]+l[11]*d[3],l[12]*d[0]+l[13]*d[1]+l[14]*d[2]+l[15]*d[3]],dot:(l,d)=>l[0]*d[0]+l[1]*d[1]+l[2]*d[2]+l[3]*d[3],sml:(l,d)=>[l*d[0],l*d[1],l*d[2],l*d[3]]};Ue.encode=function(d,m,R,T,C,U,S){T==null&&(T=0),S==null&&(S=!1);const _=a(d,m,R,T,[!1,!1,!1,0,S,!1]);return b(_,-1),g(_,m,R,C,U)},Ue.encodeLL=function(d,m,R,T,C,U,S,_){const p={ctype:0+(T==1?0:2)+(C==0?0:4),depth:U,frames:[]},O=(T+C)*U,I=O*m;for(let M=0;M<d.length;M++)p.frames.push({rect:{x:0,y:0,width:m,height:R},img:new Uint8Array(d[M]),blend:0,dispose:1,bpp:Math.ceil(O/8),bpl:Math.ceil(I/8)});return b(p,0,!0),g(p,m,R,S,_)},Ue.encode.compress=a,Ue.encode.dither=c,Ue.quantize=w,Ue.quantize.getKDtree=k,Ue.quantize.getNearest=A})();const sn={toArrayBuffer(r,t){const f=r.width,o=r.height,e=f<<2,n=r.getContext("2d").getImageData(0,0,f,o),u=new Uint32Array(n.data.buffer),c=(32*f+31)/32<<2,g=c*o,b=122+g,a=new ArrayBuffer(b),i=new DataView(a),s=1<<20;let h,v,w,k,A=s,D=0,F=0,E=0;function V(l){i.setUint16(F,l,!0),F+=2}function y(l){i.setUint32(F,l,!0),F+=4}function P(l){F+=l}V(19778),y(b),P(4),y(122),y(108),y(f),y(-o>>>0),V(1),V(32),y(3),y(g),y(2835),y(2835),P(8),y(16711680),y(65280),y(255),y(4278190080),y(1466527264),function l(){for(;D<o&&A>0;){for(k=122+D*c,h=0;h<e;)A--,v=u[E++],w=v>>>24,i.setUint32(k+h,v<<8|w),h+=4;D++}E<u.length?(A=s,setTimeout(l,sn._dly)):t(a)}()},toBlob(r,t){this.toArrayBuffer(r,f=>{t(new Blob([f],{type:"image/bmp"}))})},_dly:9};var ge={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},yr={[ge.CHROME]:16384,[ge.FIREFOX]:11180,[ge.DESKTOP_SAFARI]:16384,[ge.IE]:8192,[ge.IOS]:4096,[ge.ETC]:8192};const Lt=typeof window<"u",an=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ut=Lt&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),wr=(Lt||an)&&(Ut&&Ut.getOriginalSymbol(window,"File")||typeof File<"u"&&File),ln=(Lt||an)&&(Ut&&Ut.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Bt(r,t,f=Date.now()){return new Promise(o=>{const e=r.split(","),n=e[0].match(/:(.*?);/)[1],u=globalThis.atob(e[1]);let c=u.length;const g=new Uint8Array(c);for(;c--;)g[c]=u.charCodeAt(c);const b=new Blob([g],{type:n});b.name=t,b.lastModified=f,o(b)})}function un(r){return new Promise((t,f)=>{const o=new ln;o.onload=()=>t(o.result),o.onerror=e=>f(e),o.readAsDataURL(r)})}function cn(r){return new Promise((t,f)=>{const o=new Image;o.onload=()=>t(o),o.onerror=e=>f(e),o.src=r})}function $e(){if($e.cachedResult!==void 0)return $e.cachedResult;let r=ge.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?r=ge.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?r=ge.IOS:/Safari/i.test(t)?r=ge.DESKTOP_SAFARI:/Firefox/i.test(t)?r=ge.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(r=ge.IE),$e.cachedResult=r,$e.cachedResult}function dn(r,t){const f=$e(),o=yr[f];let e=r,n=t,u=e*n;const c=e>n?n/e:e/n;for(;u>o*o;){const g=(o+e)/2,b=(o+n)/2;g<b?(n=b,e=b*c):(n=g*c,e=g),u=e*n}return{width:e,height:n}}function Ct(r,t){let f,o;try{if(f=new OffscreenCanvas(r,t),o=f.getContext("2d"),o===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{f=document.createElement("canvas"),o=f.getContext("2d")}return f.width=r,f.height=t,[f,o]}function fn(r,t){const{width:f,height:o}=dn(r.width,r.height),[e,n]=Ct(f,o);return t&&/jpe?g/.test(t)&&(n.fillStyle="white",n.fillRect(0,0,e.width,e.height)),n.drawImage(r,0,0,e.width,e.height),e}function wt(){return wt.cachedResult!==void 0||(wt.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),wt.cachedResult}function Rt(r,t={}){return new Promise(function(f,o){let e,n;var u=function(){try{return n=fn(e,t.fileType||r.type),f([e,n])}catch(g){return o(g)}},c=function(g){try{var b=function(a){try{throw a}catch(i){return o(i)}};try{let a;return un(r).then(function(i){try{return a=i,cn(a).then(function(s){try{return e=s,function(){try{return u()}catch(h){return o(h)}}()}catch(h){return b(h)}},b)}catch(s){return b(s)}},b)}catch(a){b(a)}}catch(a){return o(a)}};try{if(wt()||[ge.DESKTOP_SAFARI,ge.MOBILE_SAFARI].includes($e()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(r).then(function(g){try{return e=g,u()}catch{return c()}},c)}catch{c()}})}function Tt(r,t,f,o,e=1){return new Promise(function(n,u){let c;if(t==="image/png"){let b,a,i;return b=r.getContext("2d"),{data:a}=b.getImageData(0,0,r.width,r.height),i=Ue.encode([a.buffer],r.width,r.height,4096*e),c=new Blob([i],{type:t}),c.name=f,c.lastModified=o,g.call(this)}{let b=function(){return g.call(this)};if(t==="image/bmp")return new Promise(a=>sn.toBlob(r,a)).then(function(a){try{return c=a,c.name=f,c.lastModified=o,b.call(this)}catch(i){return u(i)}}.bind(this),u);{let a=function(){return b.call(this)};if(typeof OffscreenCanvas=="function"&&r instanceof OffscreenCanvas)return r.convertToBlob({type:t,quality:e}).then(function(i){try{return c=i,c.name=f,c.lastModified=o,a.call(this)}catch(s){return u(s)}}.bind(this),u);{let i;return i=r.toDataURL(t,e),Bt(i,f,o).then(function(s){try{return c=s,a.call(this)}catch(h){return u(h)}}.bind(this),u)}}}function g(){return n(c)}})}function Ee(r){r.width=0,r.height=0}function Ze(){return new Promise(function(r,t){let f,o,e,n;return Ze.cachedResult!==void 0?r(Ze.cachedResult):Bt("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(u){try{return f=u,Rt(f).then(function(c){try{return o=c[1],Tt(o,f.type,f.name,f.lastModified).then(function(g){try{return e=g,Ee(o),Rt(e).then(function(b){try{return n=b[0],Ze.cachedResult=n.width===1&&n.height===2,r(Ze.cachedResult)}catch(a){return t(a)}},t)}catch(b){return t(b)}},t)}catch(g){return t(g)}},t)}catch(c){return t(c)}},t)})}function hn(r){return new Promise((t,f)=>{const o=new ln;o.onload=e=>{const n=new DataView(e.target.result);if(n.getUint16(0,!1)!=65496)return t(-2);const u=n.byteLength;let c=2;for(;c<u;){if(n.getUint16(c+2,!1)<=8)return t(-1);const g=n.getUint16(c,!1);if(c+=2,g==65505){if(n.getUint32(c+=2,!1)!=1165519206)return t(-1);const b=n.getUint16(c+=6,!1)==18761;c+=n.getUint32(c+4,b);const a=n.getUint16(c,b);c+=2;for(let i=0;i<a;i++)if(n.getUint16(c+12*i,b)==274)return t(n.getUint16(c+12*i+8,b))}else{if((65280&g)!=65280)break;c+=n.getUint16(c,!1)}}return t(-1)},o.onerror=e=>f(e),o.readAsArrayBuffer(r)})}function pn(r,t){const{width:f}=r,{height:o}=r,{maxWidthOrHeight:e}=t;let n,u=r;return isFinite(e)&&(f>e||o>e)&&([u,n]=Ct(f,o),f>o?(u.width=e,u.height=o/f*e):(u.width=f/o*e,u.height=e),n.drawImage(r,0,0,u.width,u.height),Ee(r)),u}function mn(r,t){const{width:f}=r,{height:o}=r,[e,n]=Ct(f,o);switch(t>4&&t<9?(e.width=o,e.height=f):(e.width=f,e.height=o),t){case 2:n.transform(-1,0,0,1,f,0);break;case 3:n.transform(-1,0,0,-1,f,o);break;case 4:n.transform(1,0,0,-1,0,o);break;case 5:n.transform(0,1,1,0,0,0);break;case 6:n.transform(0,1,-1,0,o,0);break;case 7:n.transform(0,-1,-1,0,o,f);break;case 8:n.transform(0,-1,1,0,0,f)}return n.drawImage(r,0,0,f,o),Ee(r),e}function Zt(r,t,f=0){return new Promise(function(o,e){let n,u,c,g,b,a,i,s,h,v,w,k,A,D,F,E,V,y,P,l;function d(R=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;n+=R,t.onProgress(Math.min(n,100))}function m(R){if(t.signal&&t.signal.aborted)throw t.signal.reason;n=Math.min(Math.max(R,n),100),t.onProgress(n)}return n=f,u=t.maxIteration||10,c=1024*t.maxSizeMB*1024,d(),Rt(r,t).then(function(R){try{return[,g]=R,d(),b=pn(g,t),d(),new Promise(function(T,C){var U;if(!(U=t.exifOrientation))return hn(r).then(function(_){try{return U=_,S.call(this)}catch(p){return C(p)}}.bind(this),C);function S(){return T(U)}return S.call(this)}).then(function(T){try{return a=T,d(),Ze().then(function(C){try{return i=C?b:mn(b,a),d(),s=t.initialQuality||1,h=t.fileType||r.type,Tt(i,h,r.name,r.lastModified,s).then(function(U){try{{let _=function(){if(u--&&(F>c||F>A)){let O,I;return O=l?.95*P.width:P.width,I=l?.95*P.height:P.height,[V,y]=Ct(O,I),y.drawImage(P,0,0,O,I),s*=h==="image/png"?.85:.95,Tt(V,h,r.name,r.lastModified,s).then(function(M){try{return E=M,Ee(P),P=V,F=E.size,m(Math.min(99,Math.floor((D-F)/(D-c)*100))),_}catch(q){return e(q)}},e)}return[1]},p=function(){return Ee(P),Ee(V),Ee(b),Ee(i),Ee(g),m(100),o(E)};if(v=U,d(),w=v.size>c,k=v.size>r.size,!w&&!k)return m(100),o(v);var S;return A=r.size,D=v.size,F=D,P=i,l=!t.alwaysKeepResolution&&w,(S=function(O){for(;O;){if(O.then)return void O.then(S,e);try{if(O.pop){if(O.length)return O.pop()?p.call(this):O;O=_}else O=O.call(this)}catch(I){return e(I)}}}.bind(this))(_)}}catch(_){return e(_)}}.bind(this),e)}catch(U){return e(U)}}.bind(this),e)}catch(C){return e(C)}}.bind(this),e)}catch(T){return e(T)}}.bind(this),e)})}const Ar=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Ot;function Ur(r,t){return new Promise((f,o)=>{Ot||(Ot=function(u){const c=[];return typeof u=="function"?c.push(`(${u})()`):c.push(u),URL.createObjectURL(new Blob(c))}(Ar));const e=new Worker(Ot);e.addEventListener("message",function(u){if(t.signal&&t.signal.aborted)e.terminate();else if(u.data.progress===void 0){if(u.data.error)return o(new Error(u.data.error)),void e.terminate();f(u.data.file),e.terminate()}else t.onProgress(u.data.progress)}),e.addEventListener("error",o),t.signal&&t.signal.addEventListener("abort",()=>{o(t.signal.reason),e.terminate()}),e.postMessage({file:r,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function de(r,t){return new Promise(function(f,o){let e,n,u,c,g,b;if(e={...t},u=0,{onProgress:c}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,g=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=h=>{u=h,typeof c=="function"&&c(u)},!(r instanceof Blob||r instanceof wr))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(r.type))return o(new Error("The file given is not an image"));if(b=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!g||typeof Worker!="function"||b)return Zt(r,e).then(function(h){try{return n=h,s.call(this)}catch(v){return o(v)}}.bind(this),o);var a=function(){try{return s.call(this)}catch(h){return o(h)}}.bind(this),i=function(h){try{return Zt(r,e).then(function(v){try{return n=v,a()}catch(w){return o(w)}},o)}catch(v){return o(v)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Ur(r,e).then(function(h){try{return n=h,a()}catch{return i()}},i)}catch{i()}function s(){try{n.name=r.name,n.lastModified=r.lastModified}catch{}try{e.preserveExif&&r.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===r.type)&&(n=on(r,n))}catch{}return f(n)}})}de.getDataUrlFromFile=un,de.getFilefromDataUrl=Bt,de.loadImage=cn,de.drawImageInCanvas=fn,de.drawFileInCanvas=Rt,de.canvasToFile=Tt,de.getExifOrientation=hn,de.handleMaxWidthOrHeight=pn,de.followExifOrientation=mn,de.cleanupCanvasMemory=Ee,de.isAutoOrientationInBrowser=Ze,de.approximateBelowMaximumCanvasSizeOfBrowser=dn,de.copyExifWithoutOrientation=on,de.getBrowserName=$e,de.version="2.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="firebasestorage.googleapis.com",_n="storageBucket",Rr=2*60*1e3,Tr=10*60*1e3,Er=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te extends sr{constructor(t,f,o=0){super(Vt(t),`Firebase Storage: ${f} (${Vt(t)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,te.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Vt(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var J;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(J||(J={}));function Vt(r){return"storage/"+r}function Ht(){const r="An unknown error occurred, please check the error payload for server response.";return new te(J.UNKNOWN,r)}function kr(r){return new te(J.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function Cr(r){return new te(J.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ir(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new te(J.UNAUTHENTICATED,r)}function Sr(){return new te(J.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Pr(r){return new te(J.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function vn(){return new te(J.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bn(){return new te(J.CANCELED,"User canceled the upload/download.")}function Fr(r){return new te(J.INVALID_URL,"Invalid URL '"+r+"'.")}function xr(r){return new te(J.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Or(){return new te(J.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_n+"' property when initializing the app?")}function yn(){return new te(J.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Vr(){return new te(J.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Nr(){return new te(J.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Dr(r){return new te(J.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mt(r){return new te(J.INVALID_ARGUMENT,r)}function wn(){return new te(J.APP_DELETED,"The Firebase app was deleted.")}function Mr(r){return new te(J.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rt(r,t){return new te(J.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function nt(r){throw new te(J.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t,f){this.bucket=t,this.path_=f}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,f){let o;try{o=ye.makeFromUrl(t,f)}catch{return new ye(t,"")}if(o.path==="")return o;throw xr(t)}static makeFromUrl(t,f){let o=null;const e="([A-Za-z0-9.\\-_]+)";function n(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const u="(/(.*))?$",c=new RegExp("^gs://"+e+u,"i"),g={bucket:1,path:3};function b(E){E.path_=decodeURIComponent(E.path)}const a="v[A-Za-z0-9_]+",i=f.replace(/[.]/g,"\\."),s="(/([^?#]*).*)?$",h=new RegExp(`^https?://${i}/${a}/b/${e}/o${s}`,"i"),v={bucket:1,path:3},w=f===gn?"(?:storage.googleapis.com|storage.cloud.google.com)":f,k="([^?#]*)",A=new RegExp(`^https?://${w}/${e}/${k}`,"i"),F=[{regex:c,indices:g,postModify:n},{regex:h,indices:v,postModify:b},{regex:A,indices:{bucket:1,path:2},postModify:b}];for(let E=0;E<F.length;E++){const V=F[E],y=V.regex.exec(t);if(y){const P=y[V.indices.bucket];let l=y[V.indices.path];l||(l=""),o=new ye(P,l),V.postModify(o);break}}if(o==null)throw Fr(t);return o}}class Lr{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(r,t,f){let o=1,e=null,n=null,u=!1,c=0;function g(){return c===2}let b=!1;function a(...k){b||(b=!0,t.apply(null,k))}function i(k){e=setTimeout(()=>{e=null,r(h,g())},k)}function s(){n&&clearTimeout(n)}function h(k,...A){if(b){s();return}if(k){s(),a.call(null,k,...A);return}if(g()||u){s(),a.call(null,k,...A);return}o<64&&(o*=2);let F;c===1?(c=2,F=0):F=(o+Math.random())*1e3,i(F)}let v=!1;function w(k){v||(v=!0,s(),!b&&(e!==null?(k||(c=2),clearTimeout(e),i(0)):k||(c=1)))}return i(0),n=setTimeout(()=>{u=!0,w(!0)},f),w}function Hr(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(r){return r!==void 0}function qr(r){return typeof r=="function"}function $r(r){return typeof r=="object"&&!Array.isArray(r)}function It(r){return typeof r=="string"||r instanceof String}function Yt(r){return zt()&&r instanceof Blob}function zt(){return typeof Blob<"u"}function Jt(r,t,f,o){if(o<t)throw Mt(`Invalid value for '${r}'. Expected ${t} or greater.`);if(o>f)throw Mt(`Invalid value for '${r}'. Expected ${f} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(r,t,f){let o=t;return f==null&&(o=`https://${t}`),`${f}://${o}/v0${r}`}function An(r){const t=encodeURIComponent;let f="?";for(const o in r)if(r.hasOwnProperty(o)){const e=t(o)+"="+t(r[o]);f=f+e+"&"}return f=f.slice(0,-1),f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(je||(je={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(r,t){const f=r>=500&&r<600,e=[408,429].indexOf(r)!==-1,n=t.indexOf(r)!==-1;return f||e||n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t,f,o,e,n,u,c,g,b,a,i,s=!0){this.url_=t,this.method_=f,this.headers_=o,this.body_=e,this.successCodes_=n,this.additionalRetryCodes_=u,this.callback_=c,this.errorCallback_=g,this.timeout_=b,this.progressCallback_=a,this.connectionFactory_=i,this.retry=s,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,v)=>{this.resolve_=h,this.reject_=v,this.start_()})}start_(){const t=(o,e)=>{if(e){o(!1,new pt(!1,null,!0));return}const n=this.connectionFactory_();this.pendingConnection_=n;const u=c=>{const g=c.loaded,b=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,b)};this.progressCallback_!==null&&n.addUploadProgressListener(u),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&n.removeUploadProgressListener(u),this.pendingConnection_=null;const c=n.getErrorCode()===je.NO_ERROR,g=n.getStatus();if(!c||Un(g,this.additionalRetryCodes_)&&this.retry){const a=n.getErrorCode()===je.ABORT;o(!1,new pt(!1,null,a));return}const b=this.successCodes_.indexOf(g)!==-1;o(!0,new pt(b,n))})},f=(o,e)=>{const n=this.resolve_,u=this.reject_,c=e.connection;if(e.wasSuccessCode)try{const g=this.callback_(c,c.getResponse());zr(g)?n(g):n()}catch(g){u(g)}else if(c!==null){const g=Ht();g.serverResponse=c.getErrorText(),this.errorCallback_?u(this.errorCallback_(c,g)):u(g)}else if(e.canceled){const g=this.appDelete_?wn():bn();u(g)}else{const g=vn();u(g)}};this.canceled_?f(!1,new pt(!1,null,!0)):this.backoffId_=Br(t,f,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Hr(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pt{constructor(t,f,o){this.wasSuccessCode=t,this.connection=f,this.canceled=!!o}}function Gr(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function Wr(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Qr(r,t){t&&(r["X-Firebase-GMPID"]=t)}function Xr(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function Kr(r,t,f,o,e,n,u=!0){const c=An(r.urlParams),g=r.url+c,b=Object.assign({},r.headers);return Qr(b,t),Gr(b,f),Wr(b,n),Xr(b,o),new jr(g,r.method,b,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,e,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Yr(...r){const t=Zr();if(t!==void 0){const f=new t;for(let o=0;o<r.length;o++)f.append(r[o]);return f.getBlob()}else{if(zt())return new Blob(r);throw new te(J.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Jr(r,t,f){return r.webkitSlice?r.webkitSlice(t,f):r.mozSlice?r.mozSlice(t,f):r.slice?r.slice(t,f):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(r){if(typeof atob>"u")throw Dr("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Nt{constructor(t,f){this.data=t,this.contentType=f||null}}function to(r,t){switch(r){case ke.RAW:return new Nt(Rn(t));case ke.BASE64:case ke.BASE64URL:return new Nt(Tn(r,t));case ke.DATA_URL:return new Nt(ro(t),oo(t))}throw Ht()}function Rn(r){const t=[];for(let f=0;f<r.length;f++){let o=r.charCodeAt(f);if(o<=127)t.push(o);else if(o<=2047)t.push(192|o>>6,128|o&63);else if((o&64512)===55296)if(!(f<r.length-1&&(r.charCodeAt(f+1)&64512)===56320))t.push(239,191,189);else{const n=o,u=r.charCodeAt(++f);o=65536|(n&1023)<<10|u&1023,t.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63)}else(o&64512)===56320?t.push(239,191,189):t.push(224|o>>12,128|o>>6&63,128|o&63)}return new Uint8Array(t)}function no(r){let t;try{t=decodeURIComponent(r)}catch{throw rt(ke.DATA_URL,"Malformed data URL.")}return Rn(t)}function Tn(r,t){switch(r){case ke.BASE64:{const e=t.indexOf("-")!==-1,n=t.indexOf("_")!==-1;if(e||n)throw rt(r,"Invalid character '"+(e?"-":"_")+"' found: is it base64url encoded?");break}case ke.BASE64URL:{const e=t.indexOf("+")!==-1,n=t.indexOf("/")!==-1;if(e||n)throw rt(r,"Invalid character '"+(e?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let f;try{f=eo(t)}catch(e){throw e.message.includes("polyfill")?e:rt(r,"Invalid character found")}const o=new Uint8Array(f.length);for(let e=0;e<f.length;e++)o[e]=f.charCodeAt(e);return o}class En{constructor(t){this.base64=!1,this.contentType=null;const f=t.match(/^data:([^,]+)?,/);if(f===null)throw rt(ke.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=f[1]||null;o!=null&&(this.base64=so(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=t.substring(t.indexOf(",")+1)}}function ro(r){const t=new En(r);return t.base64?Tn(ke.BASE64,t.rest):no(t.rest)}function oo(r){return new En(r).contentType}function so(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t,f){let o=0,e="";Yt(t)?(this.data_=t,o=t.size,e=t.type):t instanceof ArrayBuffer?(f?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),o=this.data_.length):t instanceof Uint8Array&&(f?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),o=t.length),this.size_=o,this.type_=e}size(){return this.size_}type(){return this.type_}slice(t,f){if(Yt(this.data_)){const o=this.data_,e=Jr(o,t,f);return e===null?null:new Ne(e)}else{const o=new Uint8Array(this.data_.buffer,t,f-t);return new Ne(o,!0)}}static getBlob(...t){if(zt()){const f=t.map(o=>o instanceof Ne?o.data_:o);return new Ne(Yr.apply(null,f))}else{const f=t.map(u=>It(u)?to(ke.RAW,u).data:u.data_);let o=0;f.forEach(u=>{o+=u.byteLength});const e=new Uint8Array(o);let n=0;return f.forEach(u=>{for(let c=0;c<u.length;c++)e[n++]=u[c]}),new Ne(e,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(r){let t;try{t=JSON.parse(r)}catch{return null}return $r(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function io(r,t){const f=t.split("/").filter(o=>o.length>0).join("/");return r.length===0?f:r+"/"+f}function Cn(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(r,t){return t}class pe{constructor(t,f,o,e){this.server=t,this.local=f||t,this.writable=!!o,this.xform=e||lo}}let mt=null;function uo(r){return!It(r)||r.length<2?r:Cn(r)}function In(){if(mt)return mt;const r=[];r.push(new pe("bucket")),r.push(new pe("generation")),r.push(new pe("metageneration")),r.push(new pe("name","fullPath",!0));function t(n,u){return uo(u)}const f=new pe("name");f.xform=t,r.push(f);function o(n,u){return u!==void 0?Number(u):u}const e=new pe("size");return e.xform=o,r.push(e),r.push(new pe("timeCreated")),r.push(new pe("updated")),r.push(new pe("md5Hash",null,!0)),r.push(new pe("cacheControl",null,!0)),r.push(new pe("contentDisposition",null,!0)),r.push(new pe("contentEncoding",null,!0)),r.push(new pe("contentLanguage",null,!0)),r.push(new pe("contentType",null,!0)),r.push(new pe("metadata","customMetadata",!0)),mt=r,mt}function co(r,t){function f(){const o=r.bucket,e=r.fullPath,n=new ye(o,e);return t._makeStorageReference(n)}Object.defineProperty(r,"ref",{get:f})}function fo(r,t,f){const o={};o.type="file";const e=f.length;for(let n=0;n<e;n++){const u=f[n];o[u.local]=u.xform(o,t[u.server])}return co(o,r),o}function Sn(r,t,f){const o=kn(t);return o===null?null:fo(r,o,f)}function ho(r,t,f,o){const e=kn(t);if(e===null||!It(e.downloadTokens))return null;const n=e.downloadTokens;if(n.length===0)return null;const u=encodeURIComponent;return n.split(",").map(b=>{const a=r.bucket,i=r.fullPath,s="/b/"+u(a)+"/o/"+u(i),h=ot(s,f,o),v=An({alt:"media",token:b});return h+v})[0]}function Pn(r,t){const f={},o=t.length;for(let e=0;e<o;e++){const n=t[e];n.writable&&(f[n.server]=r[n.local])}return JSON.stringify(f)}class Ye{constructor(t,f,o,e){this.url=t,this.method=f,this.handler=o,this.timeout=e,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(r){if(!r)throw Ht()}function qt(r,t){function f(o,e){const n=Sn(r,e,t);return Pe(n!==null),n}return f}function po(r,t){function f(o,e){const n=Sn(r,e,t);return Pe(n!==null),ho(n,e,r.host,r._protocol)}return f}function st(r){function t(f,o){let e;return f.getStatus()===401?f.getErrorText().includes("Firebase App Check token is invalid")?e=Sr():e=Ir():f.getStatus()===402?e=Cr(r.bucket):f.getStatus()===403?e=Pr(r.path):e=o,e.status=f.getStatus(),e.serverResponse=o.serverResponse,e}return t}function Fn(r){const t=st(r);function f(o,e){let n=t(o,e);return o.getStatus()===404&&(n=kr(r.path)),n.serverResponse=e.serverResponse,n}return f}function mo(r,t,f){const o=t.fullServerUrl(),e=ot(o,r.host,r._protocol),n="GET",u=r.maxOperationRetryTime,c=new Ye(e,n,qt(r,f),u);return c.errorHandler=Fn(t),c}function go(r,t,f){const o=t.fullServerUrl(),e=ot(o,r.host,r._protocol),n="GET",u=r.maxOperationRetryTime,c=new Ye(e,n,po(r,f),u);return c.errorHandler=Fn(t),c}function _o(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function xn(r,t,f){const o=Object.assign({},f);return o.fullPath=r.path,o.size=t.size(),o.contentType||(o.contentType=_o(null,t)),o}function vo(r,t,f,o,e){const n=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function c(){let F="";for(let E=0;E<2;E++)F=F+Math.random().toString().slice(2);return F}const g=c();u["Content-Type"]="multipart/related; boundary="+g;const b=xn(t,o,e),a=Pn(b,f),i="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+a+`\r
--`+g+`\r
Content-Type: `+b.contentType+`\r
\r
`,s=`\r
--`+g+"--",h=Ne.getBlob(i,o,s);if(h===null)throw yn();const v={name:b.fullPath},w=ot(n,r.host,r._protocol),k="POST",A=r.maxUploadRetryTime,D=new Ye(w,k,qt(r,f),A);return D.urlParams=v,D.headers=u,D.body=h.uploadData(),D.errorHandler=st(t),D}class Et{constructor(t,f,o,e){this.current=t,this.total=f,this.finalized=!!o,this.metadata=e||null}}function $t(r,t){let f=null;try{f=r.getResponseHeader("X-Goog-Upload-Status")}catch{Pe(!1)}return Pe(!!f&&(t||["active"]).indexOf(f)!==-1),f}function bo(r,t,f,o,e){const n=t.bucketOnlyServerUrl(),u=xn(t,o,e),c={name:u.fullPath},g=ot(n,r.host,r._protocol),b="POST",a={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},i=Pn(u,f),s=r.maxUploadRetryTime;function h(w){$t(w);let k;try{k=w.getResponseHeader("X-Goog-Upload-URL")}catch{Pe(!1)}return Pe(It(k)),k}const v=new Ye(g,b,h,s);return v.urlParams=c,v.headers=a,v.body=i,v.errorHandler=st(t),v}function yo(r,t,f,o){const e={"X-Goog-Upload-Command":"query"};function n(b){const a=$t(b,["active","final"]);let i=null;try{i=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Pe(!1)}i||Pe(!1);const s=Number(i);return Pe(!isNaN(s)),new Et(s,o.size(),a==="final")}const u="POST",c=r.maxUploadRetryTime,g=new Ye(f,u,n,c);return g.headers=e,g.errorHandler=st(t),g}const en=256*1024;function wo(r,t,f,o,e,n,u,c){const g=new Et(0,0);if(u?(g.current=u.current,g.total=u.total):(g.current=0,g.total=o.size()),o.size()!==g.total)throw Vr();const b=g.total-g.current;let a=b;e>0&&(a=Math.min(a,e));const i=g.current,s=i+a;let h="";a===0?h="finalize":b===a?h="upload, finalize":h="upload";const v={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${g.current}`},w=o.slice(i,s);if(w===null)throw yn();function k(E,V){const y=$t(E,["active","final"]),P=g.current+a,l=o.size();let d;return y==="final"?d=qt(t,n)(E,V):d=null,new Et(P,l,y==="final",d)}const A="POST",D=t.maxUploadRetryTime,F=new Ye(f,A,k,D);return F.headers=v,F.body=w.uploadData(),F.progressCallback=c||null,F.errorHandler=st(r),F}const me={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Dt(r){switch(r){case"running":case"pausing":case"canceling":return me.RUNNING;case"paused":return me.PAUSED;case"success":return me.SUCCESS;case"canceled":return me.CANCELED;case"error":return me.ERROR;default:return me.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t,f,o){if(qr(t)||f!=null||o!=null)this.next=t,this.error=f??void 0,this.complete=o??void 0;else{const n=t;this.next=n.next,this.error=n.error,this.complete=n.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(r){return(...t)=>{Promise.resolve().then(()=>r(...t))}}class Uo{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=je.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=je.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=je.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,f,o,e){if(this.sent_)throw nt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(f,t,!0),e!==void 0)for(const n in e)e.hasOwnProperty(n)&&this.xhr_.setRequestHeader(n,e[n].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Ro extends Uo{initXhr(){this.xhr_.responseType="text"}}function Ke(){return new Ro}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,f,o=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=f,this._metadata=o,this._mappings=In(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(J.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const n=this.isExponentialBackoffExpired();if(Un(e.status,[]))if(n)e=vn();else{this.sleepTime=Math.max(this.sleepTime*2,Er),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(J.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((e,n)=>{this._resolve=e,this._reject=n,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return f=>this._updateProgress(t+f)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([f,o])=>{switch(this._state){case"running":t(f,o);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,f)=>{const o=bo(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),e=this._ref.storage._makeRequest(o,Ke,t,f);this._request=e,e.getPromise().then(n=>{this._request=void 0,this._uploadUrl=n,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((f,o)=>{const e=yo(this._ref.storage,this._ref._location,t,this._blob),n=this._ref.storage._makeRequest(e,Ke,f,o);this._request=n,n.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=en*this._chunkMultiplier,f=new Et(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((e,n)=>{let u;try{u=wo(this._ref._location,this._ref.storage,o,this._blob,t,this._mappings,f,this._makeProgressCallback())}catch(g){this._error=g,this._transition("error");return}const c=this._ref.storage._makeRequest(u,Ke,e,n,!1);this._request=c,c.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){en*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,f)=>{const o=mo(this._ref.storage,this._ref._location,this._mappings),e=this._ref.storage._makeRequest(o,Ke,t,f);this._request=e,e.getPromise().then(n=>{this._request=void 0,this._metadata=n,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,f)=>{const o=vo(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),e=this._ref.storage._makeRequest(o,Ke,t,f);this._request=e,e.getPromise().then(n=>{this._request=void 0,this._metadata=n,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const f=this._transferred;this._transferred=t,this._transferred!==f&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const f=this._state==="paused";this._state=t,f&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=bn(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const t=Dt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,f,o,e){const n=new Ao(f||void 0,o||void 0,e||void 0);return this._addObserver(n),()=>{this._removeObserver(n)}}then(t,f){return this._promise.then(t,f)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const f=this._observers.indexOf(t);f!==-1&&this._observers.splice(f,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(f=>{this._notifyObserver(f)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(Dt(this._state)){case me.SUCCESS:Xe(this._resolve.bind(null,this.snapshot))();break;case me.CANCELED:case me.ERROR:const f=this._reject;Xe(f.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Dt(this._state)){case me.RUNNING:case me.PAUSED:t.next&&Xe(t.next.bind(t,this.snapshot))();break;case me.SUCCESS:t.complete&&Xe(t.complete.bind(t))();break;case me.CANCELED:case me.ERROR:t.error&&Xe(t.error.bind(t,this._error))();break;default:t.error&&Xe(t.error.bind(t,this._error))()}}resume(){const t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){const t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){const t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,f){this._service=t,f instanceof ye?this._location=f:this._location=ye.makeFromUrl(f,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,f){return new Ge(t,f)}get root(){const t=new ye(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Cn(this._location.path)}get storage(){return this._service}get parent(){const t=ao(this._location.path);if(t===null)return null;const f=new ye(this._location.bucket,t);return new Ge(this._service,f)}_throwIfRoot(t){if(this._location.path==="")throw Mr(t)}}function Eo(r,t,f){return r._throwIfRoot("uploadBytesResumable"),new To(r,new Ne(t),f)}function ko(r){r._throwIfRoot("getDownloadURL");const t=go(r.storage,r._location,In());return r.storage.makeRequestWithTokens(t,Ke).then(f=>{if(f===null)throw Nr();return f})}function Co(r,t){const f=io(r._location.path,t),o=new ye(r._location.bucket,f);return new Ge(r.storage,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(r){return/^[A-Za-z]+:\/\//.test(r)}function So(r,t){return new Ge(r,t)}function On(r,t){if(r instanceof jt){const f=r;if(f._bucket==null)throw Or();const o=new Ge(f,f._bucket);return t!=null?On(o,t):o}else return t!==void 0?Co(r,t):r}function Po(r,t){if(t&&Io(t)){if(r instanceof jt)return So(r,t);throw Mt("To use ref(service, url), the first argument must be a Storage instance.")}else return On(r,t)}function tn(r,t){const f=t==null?void 0:t[_n];return f==null?null:ye.makeFromBucketSpec(f,r)}function Fo(r,t,f,o={}){r.host=`${t}:${f}`,r._protocol="http";const{mockUserToken:e}=o;e&&(r._overrideAuthToken=typeof e=="string"?e:or(e,r.app.options.projectId))}class jt{constructor(t,f,o,e,n){this.app=t,this._authProvider=f,this._appCheckProvider=o,this._url=e,this._firebaseVersion=n,this._bucket=null,this._host=gn,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Rr,this._maxUploadRetryTime=Tr,this._requests=new Set,e!=null?this._bucket=ye.makeFromBucketSpec(e,this._host):this._bucket=tn(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ye.makeFromBucketSpec(this._url,t):this._bucket=tn(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Jt("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Jt("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const f=await t.getToken();if(f!==null)return f.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ge(this,t)}_makeRequest(t,f,o,e,n=!0){if(this._deleted)return new Lr(wn());{const u=Kr(t,this._appId,o,e,f,this._firebaseVersion,n);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,f){const[o,e]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,f,o,e).getPromise()}}const nn="@firebase/storage",rn="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="storage";function gt(r,t,f){return r=kt(r),Eo(r,t,f)}function _t(r){return r=kt(r),ko(r)}function vt(r,t){return r=kt(r),Po(r,t)}function xo(r=rr(),t){r=kt(r);const o=tr(r,Vn).getImmediate({identifier:t}),e=nr("storage");return e&&Oo(o,...e),o}function Oo(r,t,f,o={}){Fo(r,t,f,o)}function Vo(r,{instanceIdentifier:t}){const f=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),e=r.getProvider("app-check-internal");return new jt(f,o,e,t,er)}function No(){Yn(new Jn(Vn,Vo,"PUBLIC").setMultipleInstances(!0)),Xt(nn,rn,""),Xt(nn,rn,"esm2017")}No();const Do=Mn({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:r=>typeof r=="boolean"||[1e3,1024].includes(r)},...ir({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:r=>Ln(r).every(t=>t!=null&&typeof t=="object")},...lr({clearable:!0})},"v-file-input"),bt=Bn()({name:"VFileInput",inheritAttrs:!1,props:Do(),emits:{"click:control":r=>!0,"mousedown:control":r=>!0,"update:focused":r=>!0,"update:modelValue":r=>!0},setup(r,t){let{attrs:f,emit:o,slots:e}=t;const{t:n}=Hn(),u=zn(r,"modelValue"),{isFocused:c,focus:g,blur:b}=ur(r),a=qe(()=>typeof r.showSize!="boolean"?r.showSize:void 0),i=qe(()=>(u.value??[]).reduce((d,m)=>{let{size:R=0}=m;return d+R},0)),s=qe(()=>Qt(i.value,a.value)),h=qe(()=>(u.value??[]).map(d=>{const{name:m="",size:R=0}=d;return r.showSize?`${m} (${Qt(R,a.value)})`:m})),v=qe(()=>{var m;const d=((m=u.value)==null?void 0:m.length)??0;return r.showSize?n(r.counterSizeString,d,s.value):n(r.counterString,d)}),w=be(),k=be(),A=be(),D=qe(()=>c.value||r.active),F=qe(()=>["plain","underlined"].includes(r.variant));function E(){var d;A.value!==document.activeElement&&((d=A.value)==null||d.focus()),c.value||g()}function V(d){P(d)}function y(d){o("mousedown:control",d)}function P(d){var m;(m=A.value)==null||m.click(),o("click:control",d)}function l(d){d.stopPropagation(),E(),Gn(()=>{u.value=[],Wn(r["onClick:clear"],d)})}return qn(u,d=>{(!Array.isArray(d)||!d.length)&&A.value&&(A.value.value="")}),$n(()=>{const d=!!(e.counter||r.counter),m=!!(d||e.details),[R,T]=jn(f),[{modelValue:C,...U}]=Kt.filterProps(r),[S]=cr(r);return N(Kt,Ft({ref:w,modelValue:u.value,"onUpdate:modelValue":_=>u.value=_,class:["v-file-input",{"v-file-input--chips":!!r.chips,"v-file-input--selection-slot":!!e.selection,"v-text-field--plain-underlined":F.value},r.class],style:r.style,"onClick:prepend":V},R,U,{centerAffix:!F.value,focused:c.value}),{...e,default:_=>{let{id:p,isDisabled:O,isDirty:I,isReadonly:M,isValid:q}=_;return N(dr,Ft({ref:k,"prepend-icon":r.prependIcon,onMousedown:y,onClick:P,"onClick:clear":l,"onClick:prependInner":r["onClick:prependInner"],"onClick:appendInner":r["onClick:appendInner"]},S,{id:p.value,active:D.value||I.value,dirty:I.value,disabled:O.value,focused:c.value,error:q.value===!1}),{...e,default:B=>{var x;let{props:{class:z,...L}}=B;return N(yt,null,[N("input",Ft({ref:A,type:"file",readonly:M.value,disabled:O.value,multiple:r.multiple,name:r.name,onClick:$=>{$.stopPropagation(),E()},onChange:$=>{if(!$.target)return;const X=$.target;u.value=[...X.files??[]]},onFocus:E,onBlur:b},L,T),null),N("div",{class:z},[!!((x=u.value)!=null&&x.length)&&(e.selection?e.selection({fileNames:h.value,totalBytes:i.value,totalBytesReadable:s.value}):r.chips?h.value.map($=>N(mr,{key:$,size:"small",color:r.color},{default:()=>[$]})):h.value.join(", "))])])}})},details:m?_=>{var p,O;return N(yt,null,[(p=e.details)==null?void 0:p.call(e,_),d&&N(yt,null,[N("span",null,null),N(fr,{active:!!((O=u.value)!=null&&O.length),value:v.value},e.counter)])])}:void 0})}),pr({},w,k,A)}}),Mo=De("b",null,"Aviso:",-1),Lo=De("b",null,"escanear",-1),Bo=De("b",null,"Aviso:",-1),Ho=De("b",null,"tomar la foto",-1),zo=De("b",null,"Aviso:",-1),qo=De("b",null,"tomar la foto",-1),$o=De("b",null,"Aviso:",-1),jo=De("b",null,"tomar la foto",-1),ns={__name:"DemoFormLayoutMultipleColumn",props:{form:{type:null,required:!0}},emits:["barCode"],setup(r,{emit:t}){const f=r,o=be(null),e=be(!1),n=xo(ar),u=be(!1),c=be(0),g=be({name:"",description:"",price:"",priceSale:"",count:"",proveedor:"",barcode:"",codepart:"",image:""}),b=be({cardBg:"#16B1FF",name:"",document:"",phone:"",direction:"",email:"",avatarImg:""}),a=be({cardBg:"#12B4FF",name:"",document:"",phone:"",direction:"",email:"",avatarImg:""}),i=be({cardBg:"#12B4FF",name:"",lastname:"",document:"",phone:"",direction:"",email:"",avatarImg:""}),s=be({username:"",password:"",typeuser:"",avatarImg:""}),h=()=>{t("barCode",g.barcode)};Qn(async()=>{g.value.barcode=f.form.databarcode,(await xt(Ie(Se,"proveedores"))).forEach(l=>{v.value.push({...l.data(),title:l.data().name,value:l.id})})});const v=be([]),w=P=>!!P||"Este campo es requerido",k=async()=>{const P=vt(n,"images/"+o.value.name),l=gt(P,o.value);l.on("state_changed",d=>{var m=d.bytesTransferred/d.totalBytes*100;c.value=m},d=>{console.log(d)},()=>{_t(l.snapshot.ref).then(async d=>{g.value.image=d,await Qe(Ie(Se,"inventario"),g.value).then(()=>{window.location.href="/inventory"}).catch(m=>{console.error("Error al agregar el producto: ",m)})})})},A=async()=>{const P=vt(n,"images/"+o.value.name),l=gt(P,o.value);l.on("state_changed",d=>{var m=d.bytesTransferred/d.totalBytes*100;c.value=m},d=>{console.log(d)},()=>{_t(l.snapshot.ref).then(async d=>{b.value.avatarImg=d,s.value.avatarImg=d,s.value.typeuser="cliente",await Qe(Ie(Se,"clientes"),b.value),await Qe(Ie(Se,"users"),s.value).then(()=>{window.location.href="/"})})})},D=async()=>{const P=vt(n,"images/"+o.value.name),l=gt(P,o.value);l.on("state_changed",d=>{var m=d.bytesTransferred/d.totalBytes*100;c.value=m},d=>{console.log(d)},()=>{_t(l.snapshot.ref).then(async d=>{a.value.avatarImg=d,await Qe(Ie(Se,"proveedores"),a.value).then(()=>{window.location.href="/"})})})},F=async()=>{const P=vt(n,"images/"+o.value.name),l=gt(P,o.value);l.on("state_changed",d=>{var m=d.bytesTransferred/d.totalBytes*100;c.value=m},d=>{console.log(d)},()=>{_t(l.snapshot.ref).then(async d=>{i.value.avatarImg=d,s.value.avatarImg=d,s.value.typeuser="vendedor",await Qe(Ie(Se,"vendedores"),i.value),await Qe(Ie(Se,"users"),s.value).then(()=>{window.location.href="/"})})})},E=async P=>{const l=P.target.files[0],d={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};try{e.value=!0;const m=await de(l,d);o.value=m,console.log(o.value.name)}finally{e.value=!1}},V=async()=>{(await xt(Ie(Se,"users"))).forEach(l=>{l.data().username.indexOf(s.value.username)===-1?u.value=!1:u.value=!0})},y=async()=>{const P=await xt(Ie(Se,"inventario"));u.value=!1,P.forEach(l=>{l.data().codepart===g.value.codepart&&(u.value=!0)})};return(P,l)=>{const d=Xn("IconBtn");return tt(),Kn(yt,null,[r.form.product?(tt(),it(ht,{key:0,onSubmit:l[10]||(l[10]=ut(()=>k(),["prevent"]))},{default:H(()=>[N(dt,null,{default:H(()=>[N(j,{cols:"12"},{default:H(()=>[N(ft,null,{default:H(()=>[Mo,ce(" Si vas a "),Lo,ce(" debes hacerlo primero antes de rellenar el formulario ")]),_:1})]),_:1}),N(j,{cols:"10",md:"5"},{default:H(()=>[N(Q,{modelValue:g.value.barcode,"onUpdate:modelValue":l[0]||(l[0]=m=>g.value.barcode=m),label:"Codigo de Barra",placeholder:"5781A73",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"2",md:"1",class:"my-auto"},{default:H(()=>[N(d,{class:"border",onClick:l[1]||(l[1]=m=>h())},{default:H(()=>[N(Zn,{icon:"bx-barcode"})]),_:1})]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:g.value.codepart,"onUpdate:modelValue":l[2]||(l[2]=m=>g.value.codepart=m),label:"Codigo de Parte",placeholder:"00000",rules:[w],onInput:y,error:u.value},null,8,["modelValue","rules","error"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:g.value.name,"onUpdate:modelValue":l[3]||(l[3]=m=>g.value.name=m),label:"Nombre",placeholder:"Aceite de Motor",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:g.value.description,"onUpdate:modelValue":l[4]||(l[4]=m=>g.value.description=m),label:"Descripcion",placeholder:"Este Aceite de motor es de la maxima...",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:g.value.price,"onUpdate:modelValue":l[5]||(l[5]=m=>g.value.price=m),label:"Precio Costo",placeholder:"2$",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:g.value.priceSale,"onUpdate:modelValue":l[6]||(l[6]=m=>g.value.priceSale=m),label:"Precio de Venta",placeholder:"8$",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:g.value.count,"onUpdate:modelValue":l[7]||(l[7]=m=>g.value.count=m),label:"Unidades Disponibles",placeholder:"20",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(hr,{modelValue:g.value.proveedor,"onUpdate:modelValue":l[8]||(l[8]=m=>g.value.proveedor=m),label:"Selecciona un proveedor",items:v.value,"item-value":"value",rules:[w]},null,8,["modelValue","items","rules"])]),_:1}),N(j,{cols:"12"},{default:H(()=>[N(bt,{label:"Imagen",rules:[w],onChange:E},null,8,["rules"])]),_:1}),N(j,null,{default:H(()=>[N(lt,{modelValue:c.value,"onUpdate:modelValue":l[9]||(l[9]=m=>c.value=m)},null,8,["modelValue"])]),_:1}),N(j,{cols:"12",class:"d-flex gap-4"},{default:H(()=>[N(Ve,{type:"submit",disabled:e.value},{default:H(()=>[ce(" Registrar ")]),_:1},8,["disabled"]),N(Ve,{type:"reset",color:"secondary",variant:"tonal"},{default:H(()=>[ce(" Borrar todo ")]),_:1})]),_:1})]),_:1})]),_:1})):ct("",!0),r.form.client?(tt(),it(ht,{key:1,onSubmit:l[19]||(l[19]=ut(()=>A(),["prevent"]))},{default:H(()=>[N(dt,null,{default:H(()=>[N(j,{cols:"12"},{default:H(()=>[N(ft,null,{default:H(()=>[Bo,ce(" Si vas a "),Ho,ce(" pon la camara en 1:1 ")]),_:1})]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:b.value.name,"onUpdate:modelValue":l[11]||(l[11]=m=>b.value.name=m),label:"Nombre de la Empresa",placeholder:"GF Import AutoPart",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:b.value.document,"onUpdate:modelValue":l[12]||(l[12]=m=>b.value.document=m),label:"RIF de la Empresa",placeholder:"J-50679888",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{type:"email",modelValue:b.value.email,"onUpdate:modelValue":l[13]||(l[13]=m=>b.value.email=m),label:"Correo Electronico",placeholder:"ejemplo@gmail.com",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:b.value.phone,"onUpdate:modelValue":l[14]||(l[14]=m=>b.value.phone=m),label:"Numero de telefono",placeholder:"+584126794857",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12"},{default:H(()=>[N(Q,{modelValue:b.value.direction,"onUpdate:modelValue":l[15]||(l[15]=m=>b.value.direction=m),label:"Direccion",placeholder:"Centro, Av. Soco, La Victoria, Aragua",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12"},{default:H(()=>[N(bt,{label:"Imagen para el perfil",rules:[w],onChange:E},null,8,["rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:s.value.username,"onUpdate:modelValue":l[16]||(l[16]=m=>s.value.username=m),label:"Nombre de Usuario",placeholder:"Ejemplo02",rules:[w],onInput:V,error:u.value},null,8,["modelValue","rules","error"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:s.value.password,"onUpdate:modelValue":l[17]||(l[17]=m=>s.value.password=m),label:"Contraseña",placeholder:"NombreEmpresa.02 ",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,null,{default:H(()=>[N(lt,{modelValue:c.value,"onUpdate:modelValue":l[18]||(l[18]=m=>c.value=m)},null,8,["modelValue"])]),_:1}),N(j,{cols:"12",class:"d-flex gap-4"},{default:H(()=>[N(Ve,{type:"submit",disabled:e.value},{default:H(()=>[ce(" Registrar ")]),_:1},8,["disabled"]),N(Ve,{type:"reset",color:"secondary",variant:"tonal"},{default:H(()=>[ce(" Borrar todo ")]),_:1})]),_:1})]),_:1})]),_:1})):ct("",!0),r.form.proveedor?(tt(),it(ht,{key:2,onSubmit:l[26]||(l[26]=ut(()=>D(),["prevent"]))},{default:H(()=>[N(dt,null,{default:H(()=>[N(j,{cols:"12"},{default:H(()=>[N(ft,null,{default:H(()=>[zo,ce(" Si vas a "),qo,ce(" pon la camara en 1:1 ")]),_:1})]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:a.value.name,"onUpdate:modelValue":l[20]||(l[20]=m=>a.value.name=m),label:"Nombre de la Empresa",placeholder:"GF Import AutoPart",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:a.value.document,"onUpdate:modelValue":l[21]||(l[21]=m=>a.value.document=m),label:"RIF de la Empresa",placeholder:"J-50679888",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{type:"email",modelValue:a.value.email,"onUpdate:modelValue":l[22]||(l[22]=m=>a.value.email=m),label:"Correo Electronico",placeholder:"ejemplo@gmail.com",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:a.value.phone,"onUpdate:modelValue":l[23]||(l[23]=m=>a.value.phone=m),label:"Numero de telefono",placeholder:"+584126794857",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12"},{default:H(()=>[N(Q,{modelValue:a.value.direction,"onUpdate:modelValue":l[24]||(l[24]=m=>a.value.direction=m),label:"Direccion",placeholder:"Centro, Av. Soco, La Victoria, Aragua",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12"},{default:H(()=>[N(bt,{label:"Imagen para el perfil",rules:[w],onChange:E},null,8,["rules"])]),_:1}),N(j,null,{default:H(()=>[N(lt,{modelValue:c.value,"onUpdate:modelValue":l[25]||(l[25]=m=>c.value=m)},null,8,["modelValue"])]),_:1}),N(j,{cols:"12",class:"d-flex gap-4"},{default:H(()=>[N(Ve,{type:"submit",disabled:e.value},{default:H(()=>[ce(" Registrar ")]),_:1},8,["disabled"]),N(Ve,{type:"reset",color:"secondary",variant:"tonal"},{default:H(()=>[ce(" Borrar todo ")]),_:1})]),_:1})]),_:1})]),_:1})):ct("",!0),r.form.vendedor?(tt(),it(ht,{key:3,onSubmit:l[36]||(l[36]=ut(()=>F(),["prevent"]))},{default:H(()=>[N(dt,null,{default:H(()=>[N(j,{cols:"12"},{default:H(()=>[N(ft,null,{default:H(()=>[$o,ce(" Si vas a "),jo,ce(" pon la camara en 1:1 ")]),_:1})]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:i.value.name,"onUpdate:modelValue":l[27]||(l[27]=m=>i.value.name=m),label:"Nombres",placeholder:"Rafael Jose",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:i.value.lastname,"onUpdate:modelValue":l[28]||(l[28]=m=>i.value.lastname=m),label:"Apellidos",placeholder:"Perez Hernandez",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:i.value.document,"onUpdate:modelValue":l[29]||(l[29]=m=>i.value.document=m),label:"Cedula de Identidad",placeholder:"V-30789999",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{type:"email",modelValue:i.value.email,"onUpdate:modelValue":l[30]||(l[30]=m=>i.value.email=m),label:"Correo Electronico",placeholder:"example@gmail.com",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:i.value.phone,"onUpdate:modelValue":l[31]||(l[31]=m=>i.value.phone=m),label:"Numero de telefono",placeholder:"04126794857",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:i.value.direction,"onUpdate:modelValue":l[32]||(l[32]=m=>i.value.direction=m),label:"Direccion",placeholder:"La Victoria, Aragua, Venezuela",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12"},{default:H(()=>[N(bt,{label:"Imagen",rules:[w],onChange:E},null,8,["rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{modelValue:s.value.username,"onUpdate:modelValue":l[33]||(l[33]=m=>s.value.username=m),label:"Nombre de Usuario",placeholder:"nombre20",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,{cols:"12",md:"6"},{default:H(()=>[N(Q,{type:"password",modelValue:s.value.password,"onUpdate:modelValue":l[34]||(l[34]=m=>s.value.password=m),label:"Contraseña",placeholder:"534718",rules:[w]},null,8,["modelValue","rules"])]),_:1}),N(j,null,{default:H(()=>[N(lt,{modelValue:c.value,"onUpdate:modelValue":l[35]||(l[35]=m=>c.value=m)},null,8,["modelValue"])]),_:1}),N(j,{cols:"12",class:"d-flex gap-4"},{default:H(()=>[N(Ve,{type:"submit",disabled:e.value},{default:H(()=>[ce(" Registrar ")]),_:1},8,["disabled"]),N(Ve,{type:"reset",color:"secondary",variant:"tonal"},{default:H(()=>[ce(" Borrar todo ")]),_:1})]),_:1})]),_:1})]),_:1})):ct("",!0)],64)}}};export{ns as _};
