import{g as n,q as c,w as i,c as l,d as u}from"./firebase-27c2c523.js";import{r as a}from"./index-86c94f78.js";const g=a(!1),v=a(!1),w=a(!1),h=a(""),t=()=>{window.addEventListener("storage",()=>{if(localStorage.getItem("id_user")==null)localStorage.removeItem("username"),d();else return})},d=()=>{const e=window.location.href,s=e.slice(0,e.lastIndexOf("/"))+"/login";window.location.replace(s)},b=async()=>{const e=localStorage.getItem("id_user"),r=localStorage.getItem("username");if(e!=null){const s=await n(c(l(u,"session"),i("id_user","==",e))),f=await n(c(l(u,"users"),i("username","==",r)));s.forEach(o=>{if(o.data().active===!0)switch(f.forEach(m=>{h.value=m.data()}),o.data().typeuser){case"admin":g.value=!0,t();break;case"cliente":v.value=!0,t();break;case"vendedor":w.value=!0,t();break}})}else d()};export{g as a,b,v as c,h as u,w as v};
