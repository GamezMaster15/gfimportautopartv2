var Zt=(i,f,s)=>{if(!f.has(i))throw TypeError("Cannot "+s)},qt=(i,f,s)=>(Zt(i,f,"read from private field"),s?s.call(i):f.get(i)),Ra=(i,f,s)=>{if(f.has(i))throw TypeError("Cannot add the same private member more than once");f instanceof WeakSet?f.add(i):f.set(i,s)},ka=(i,f,s,w)=>(Zt(i,f,"write to private field"),w?w.call(i,s):f.set(i,s),s);const Qt=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function Ha(i){return i.join("|")}function Ba(i){const f=Jt(i);let s=0,w=Qt.length-1;for(;s<=w;){const y=Math.floor((s+w)/2),j=Qt[y],B=Jt(j);if(B===f)return j;B<f?s=y+1:w=y-1}return"None"}function Jt(i){return i.toLowerCase().replace(/_-\[\]/g,"")}function Ua(i,f){return i.Binarizer[f]}function Va(i,f){return i.CharacterSet[f]}const La=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function za(i){return La[i.value]}function Ya(i,f){return i.EanAddOnSymbol[f]}function Na(i,f){return i.TextMode[f]}const lr={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function re(i,f){return{...f,formats:Ha(f.formats),binarizer:Ua(i,f.binarizer),eanAddOnSymbol:Ya(i,f.eanAddOnSymbol),textMode:Na(i,f.textMode),characterSet:Va(i,f.characterSet)}}function te(i){return{...i,format:Ba(i.format),eccLevel:i.eccLevel,contentType:za(i.contentType)}}const Ga={locateFile:(i,f)=>{const s=i.match(/_(.+?)\.wasm$/);return s?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.2.4/dist/${s[1]}/${i}`:f+i}};let Xt=new WeakMap;function ot(i,f){var s;const w=Xt.get(i);if(w!=null&&w.modulePromise&&(f===void 0||Object.is(f,w.moduleOverrides)))return w.modulePromise;const y=(s=f??(w==null?void 0:w.moduleOverrides))!=null?s:Ga,j=i({...y});return Xt.set(i,{moduleOverrides:y,modulePromise:j}),j}async function qa(i,f,s=lr){const w={...lr,...s},y=await ot(i),{size:j}=f,B=new Uint8Array(await f.arrayBuffer()),U=y._malloc(j);y.HEAPU8.set(B,U);const V=y.readBarcodesFromImage(U,j,re(y,w));y._free(U);const H=[];for(let D=0;D<V.size();++D)H.push(te(V.get(D)));return H}async function Qa(i,f,s=lr){const w={...lr,...s},y=await ot(i),{data:j,width:B,height:U,data:{byteLength:V}}=f,H=y._malloc(V);y.HEAPU8.set(j,H);const D=y.readBarcodesFromPixmap(H,B,U,re(y,w));y._free(H);const Z=[];for(let L=0;L<D.size();++L)Z.push(te(D.get(L)));return Z}({...lr,formats:[...lr.formats]});var it=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(f={}){var s=f,w,y;s.ready=new Promise((t,r)=>{w=t,y=r});var j=Object.assign({},s),B="./this.program",U=typeof window=="object",V=typeof Bun<"u",H=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var D="";function Z(t){return s.locateFile?s.locateFile(t,D):D+t}var L;(U||H||V)&&(H?D=self.location.href:typeof document<"u"&&document.currentScript&&(D=document.currentScript.src),i&&(D=i),D.startsWith("blob:")?D="":D=D.substr(0,D.replace(/[?#].*/,"").lastIndexOf("/")+1),H&&(L=t=>{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}));var Cr=s.print||console.log.bind(console),q=s.printErr||console.error.bind(console);Object.assign(s,j),j=null,s.arguments&&s.arguments,s.thisProgram&&(B=s.thisProgram),s.quit&&s.quit;var rr;s.wasmBinary&&(rr=s.wasmBinary),typeof WebAssembly!="object"&&_r("no native wasm support detected");var ar,st=!1,z,I,or,dr,R,C,ut,ct;function lt(){var t=ar.buffer;s.HEAP8=z=new Int8Array(t),s.HEAP16=or=new Int16Array(t),s.HEAPU8=I=new Uint8Array(t),s.HEAPU16=dr=new Uint16Array(t),s.HEAP32=R=new Int32Array(t),s.HEAPU32=C=new Uint32Array(t),s.HEAPF32=ut=new Float32Array(t),s.HEAPF64=ct=new Float64Array(t)}var dt=[],ht=[],ft=[];function he(){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)me(s.preRun.shift());Br(dt)}function fe(){Br(ht)}function pe(){if(s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;)ye(s.postRun.shift());Br(ft)}function me(t){dt.unshift(t)}function ve(t){ht.unshift(t)}function ye(t){ft.unshift(t)}var tr=0,hr=null;function ge(t){var r;tr++,(r=s.monitorRunDependencies)===null||r===void 0||r.call(s,tr)}function we(t){var r;if(tr--,(r=s.monitorRunDependencies)===null||r===void 0||r.call(s,tr),tr==0&&hr){var e=hr;hr=null,e()}}function _r(t){var r;(r=s.onAbort)===null||r===void 0||r.call(s,t),t="Aborted("+t+")",q(t),st=!0,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw y(e),e}var $e="data:application/octet-stream;base64,",pt=t=>t.startsWith($e),ir;ir="zxing_reader.wasm",pt(ir)||(ir=Z(ir));function mt(t){if(t==ir&&rr)return new Uint8Array(rr);if(L)return L(t);throw"both async and sync fetching of the wasm failed"}function be(t){return!rr&&(U||H||V)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw`failed to load wasm binary file at '${t}'`;return r.arrayBuffer()}).catch(()=>mt(t)):Promise.resolve().then(()=>mt(t))}function vt(t,r,e){return be(t).then(n=>WebAssembly.instantiate(n,r)).then(e,n=>{q(`failed to asynchronously prepare wasm: ${n}`),_r(n)})}function Ce(t,r,e,n){return!t&&typeof WebAssembly.instantiateStreaming=="function"&&!pt(r)&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(a=>{var o=WebAssembly.instantiateStreaming(a,e);return o.then(n,function(u){return q(`wasm streaming compile failed: ${u}`),q("falling back to ArrayBuffer instantiation"),vt(r,e,n)})}):vt(r,e,n)}function _e(){var t={a:ma};function r(n,a){return E=n.exports,ar=E.ma,lt(),Pt=E.qa,ve(E.na),we(),E}ge();function e(n){r(n.instance)}if(s.instantiateWasm)try{return s.instantiateWasm(t,r)}catch(n){q(`Module.instantiateWasm callback failed with error: ${n}`),y(n)}return Ce(rr,ir,t,e).catch(y),{}}var Br=t=>{for(;t.length>0;)t.shift()(s)};s.noExitRuntime;var Tr=[],Pr=0,Te=t=>{var r=new Ur(t);return r.get_caught()||(r.set_caught(!0),Pr--),r.set_rethrown(!1),Tr.push(r),Bt(r.excPtr),r.get_exception_ptr()},Q=0,Pe=()=>{_(0,0);var t=Tr.pop();Ht(t.excPtr),Q=0};class Ur{constructor(r){this.excPtr=r,this.ptr=r-24}set_type(r){C[this.ptr+4>>2]=r}get_type(){return C[this.ptr+4>>2]}set_destructor(r){C[this.ptr+8>>2]=r}get_destructor(){return C[this.ptr+8>>2]}set_caught(r){r=r?1:0,z[this.ptr+12]=r}get_caught(){return z[this.ptr+12]!=0}set_rethrown(r){r=r?1:0,z[this.ptr+13]=r}get_rethrown(){return z[this.ptr+13]!=0}init(r,e){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(e)}set_adjusted_ptr(r){C[this.ptr+16>>2]=r}get_adjusted_ptr(){return C[this.ptr+16>>2]}get_exception_ptr(){var r=Vt(this.get_type());if(r)return C[this.excPtr>>2];var e=this.get_adjusted_ptr();return e!==0?e:this.excPtr}}var Ee=t=>{throw Q||(Q=t),Q},Vr=t=>{var r=Q;if(!r)return $r(0),0;var e=new Ur(r);e.set_adjusted_ptr(r);var n=e.get_type();if(!n)return $r(0),r;for(var a in t){var o=t[a];if(o===0||o===n)break;var u=e.ptr+16;if(Ut(o,n,u))return $r(o),r}return $r(n),r},Ae=()=>Vr([]),xe=t=>Vr([t]),Oe=(t,r)=>Vr([t,r]),Se=()=>{var t=Tr.pop();t||_r("no exception to throw");var r=t.excPtr;throw t.get_rethrown()||(Tr.push(t),t.set_rethrown(!0),t.set_caught(!1),Pr++),Q=r,Q},De=(t,r,e)=>{var n=new Ur(t);throw n.init(r,e),Q=t,Pr++,Q},Me=()=>Pr,Er={},Lr=t=>{for(;t.length;){var r=t.pop(),e=t.pop();e(r)}};function fr(t){return this.fromWireType(C[t>>2])}var sr={},er={},Ar={},yt,xr=t=>{throw new yt(t)},nr=(t,r,e)=>{t.forEach(function(c){Ar[c]=r});function n(c){var l=e(c);l.length!==t.length&&xr("Mismatched type converter count");for(var h=0;h<t.length;++h)N(t[h],l[h])}var a=new Array(r.length),o=[],u=0;r.forEach((c,l)=>{er.hasOwnProperty(c)?a[l]=er[c]:(o.push(c),sr.hasOwnProperty(c)||(sr[c]=[]),sr[c].push(()=>{a[l]=er[c],++u,u===o.length&&n(a)}))}),o.length===0&&n(a)},Fe=t=>{var r=Er[t];delete Er[t];var e=r.rawConstructor,n=r.rawDestructor,a=r.fields,o=a.map(u=>u.getterReturnType).concat(a.map(u=>u.setterArgumentType));nr([t],o,u=>{var c={};return a.forEach((l,h)=>{var p=l.fieldName,g=u[h],v=l.getter,$=l.getterContext,O=u[h+a.length],k=l.setter,T=l.setterContext;c[p]={read:F=>g.fromWireType(v($,F)),write:(F,d)=>{var m=[];k(T,F,O.toWireType(m,d)),Lr(m)}}}),[{name:r.name,fromWireType:l=>{var h={};for(var p in c)h[p]=c[p].read(l);return n(l),h},toWireType:(l,h)=>{for(var p in c)if(!(p in h))throw new TypeError(`Missing field: "${p}"`);var g=e();for(p in c)c[p].write(g,h[p]);return l!==null&&l.push(n,g),g},argPackAdvance:G,readValueFromPointer:fr,destructorFunction:n}]})},je=(t,r,e,n,a)=>{},We=()=>{for(var t=new Array(256),r=0;r<256;++r)t[r]=String.fromCharCode(r);gt=t},gt,W=t=>{for(var r="",e=t;I[e];)r+=gt[I[e++]];return r},ur,b=t=>{throw new ur(t)};function Ie(t,r){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var n=r.name;if(t||b(`type "${n}" must have a positive integer typeid pointer`),er.hasOwnProperty(t)){if(e.ignoreDuplicateRegistrations)return;b(`Cannot register type '${n}' twice`)}if(er[t]=r,delete Ar[t],sr.hasOwnProperty(t)){var a=sr[t];delete sr[t],a.forEach(o=>o())}}function N(t,r){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Ie(t,r,e)}var G=8,Re=(t,r,e,n)=>{r=W(r),N(t,{name:r,fromWireType:function(a){return!!a},toWireType:function(a,o){return o?e:n},argPackAdvance:G,readValueFromPointer:function(a){return this.fromWireType(I[a])},destructorFunction:null})},ke=t=>({count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}),zr=t=>{function r(e){return e.$$.ptrType.registeredClass.name}b(r(t)+" instance already deleted")},Yr=!1,wt=t=>{},He=t=>{t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)},$t=t=>{t.count.value-=1;var r=t.count.value===0;r&&He(t)},bt=(t,r,e)=>{if(r===e)return t;if(e.baseClass===void 0)return null;var n=bt(t,r,e.baseClass);return n===null?null:e.downcast(n)},Ct={},Be=()=>Object.keys(vr).length,Ue=()=>{var t=[];for(var r in vr)vr.hasOwnProperty(r)&&t.push(vr[r]);return t},pr=[],Nr=()=>{for(;pr.length;){var t=pr.pop();t.$$.deleteScheduled=!1,t.delete()}},mr,Ve=t=>{mr=t,pr.length&&mr&&mr(Nr)},Le=()=>{s.getInheritedInstanceCount=Be,s.getLiveInheritedInstances=Ue,s.flushPendingDeletes=Nr,s.setDelayFunction=Ve},vr={},ze=(t,r)=>{for(r===void 0&&b("ptr should not be undefined");t.baseClass;)r=t.upcast(r),t=t.baseClass;return r},Ye=(t,r)=>(r=ze(t,r),vr[r]),Or=(t,r)=>{(!r.ptrType||!r.ptr)&&xr("makeClassHandle requires ptr and ptrType");var e=!!r.smartPtrType,n=!!r.smartPtr;return e!==n&&xr("Both smartPtrType and smartPtr must be specified"),r.count={value:1},yr(Object.create(t,{$$:{value:r,writable:!0}}))};function Ne(t){var r=this.getPointee(t);if(!r)return this.destructor(t),null;var e=Ye(this.registeredClass,r);if(e!==void 0){if(e.$$.count.value===0)return e.$$.ptr=r,e.$$.smartPtr=t,e.clone();var n=e.clone();return this.destructor(t),n}function a(){return this.isSmartPointer?Or(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:t}):Or(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var o=this.registeredClass.getActualType(r),u=Ct[o];if(!u)return a.call(this);var c;this.isConst?c=u.constPointerType:c=u.pointerType;var l=bt(r,this.registeredClass,c.registeredClass);return l===null?a.call(this):this.isSmartPointer?Or(c.registeredClass.instancePrototype,{ptrType:c,ptr:l,smartPtrType:this,smartPtr:t}):Or(c.registeredClass.instancePrototype,{ptrType:c,ptr:l})}var yr=t=>typeof FinalizationRegistry>"u"?(yr=r=>r,t):(Yr=new FinalizationRegistry(r=>{$t(r.$$)}),yr=r=>{var e=r.$$,n=!!e.smartPtr;if(n){var a={$$:e};Yr.register(r,a,r)}return r},wt=r=>Yr.unregister(r),yr(t)),Ge=()=>{Object.assign(Sr.prototype,{isAliasOf(t){if(!(this instanceof Sr)||!(t instanceof Sr))return!1;var r=this.$$.ptrType.registeredClass,e=this.$$.ptr;t.$$=t.$$;for(var n=t.$$.ptrType.registeredClass,a=t.$$.ptr;r.baseClass;)e=r.upcast(e),r=r.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return r===n&&e===a},clone(){if(this.$$.ptr||zr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=yr(Object.create(Object.getPrototypeOf(this),{$$:{value:ke(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},delete(){this.$$.ptr||zr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&b("Object already scheduled for deletion"),wt(this),$t(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||zr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&b("Object already scheduled for deletion"),pr.push(this),pr.length===1&&mr&&mr(Nr),this.$$.deleteScheduled=!0,this}})};function Sr(){}var gr=(t,r)=>Object.defineProperty(r,"name",{value:t}),_t=(t,r,e)=>{if(t[r].overloadTable===void 0){var n=t[r];t[r]=function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return t[r].overloadTable.hasOwnProperty(o.length)||b(`Function '${e}' called with an invalid number of arguments (${o.length}) - expects one of (${t[r].overloadTable})!`),t[r].overloadTable[o.length].apply(this,o)},t[r].overloadTable=[],t[r].overloadTable[n.argCount]=n}},Gr=(t,r,e)=>{s.hasOwnProperty(t)?((e===void 0||s[t].overloadTable!==void 0&&s[t].overloadTable[e]!==void 0)&&b(`Cannot register public name '${t}' twice`),_t(s,t,t),s.hasOwnProperty(e)&&b(`Cannot register multiple overloads of a function with the same number of arguments (${e})!`),s[t].overloadTable[e]=r):(s[t]=r,e!==void 0&&(s[t].numArguments=e))},qe=48,Qe=57,Je=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var r=t.charCodeAt(0);return r>=qe&&r<=Qe?`_${t}`:t};function Xe(t,r,e,n,a,o,u,c){this.name=t,this.constructor=r,this.instancePrototype=e,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=u,this.downcast=c,this.pureVirtualFunctions=[]}var qr=(t,r,e)=>{for(;r!==e;)r.upcast||b(`Expected null or instance of ${e.name}, got an instance of ${r.name}`),t=r.upcast(t),r=r.baseClass;return t};function Ke(t,r){if(r===null)return this.isReference&&b(`null is not a valid ${this.name}`),0;r.$$||b(`Cannot pass "${rt(r)}" as a ${this.name}`),r.$$.ptr||b(`Cannot pass deleted object as a pointer of type ${this.name}`);var e=r.$$.ptrType.registeredClass,n=qr(r.$$.ptr,e,this.registeredClass);return n}function Ze(t,r){var e;if(r===null)return this.isReference&&b(`null is not a valid ${this.name}`),this.isSmartPointer?(e=this.rawConstructor(),t!==null&&t.push(this.rawDestructor,e),e):0;(!r||!r.$$)&&b(`Cannot pass "${rt(r)}" as a ${this.name}`),r.$$.ptr||b(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&r.$$.ptrType.isConst&&b(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);var n=r.$$.ptrType.registeredClass;if(e=qr(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&b("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?e=r.$$.smartPtr:b(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:e=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)e=r.$$.smartPtr;else{var a=r.clone();e=this.rawShare(e,X.toHandle(()=>a.delete())),t!==null&&t.push(this.rawDestructor,e)}break;default:b("Unsupporting sharing policy")}return e}function rn(t,r){if(r===null)return this.isReference&&b(`null is not a valid ${this.name}`),0;r.$$||b(`Cannot pass "${rt(r)}" as a ${this.name}`),r.$$.ptr||b(`Cannot pass deleted object as a pointer of type ${this.name}`),r.$$.ptrType.isConst&&b(`Cannot convert argument of type ${r.$$.ptrType.name} to parameter type ${this.name}`);var e=r.$$.ptrType.registeredClass,n=qr(r.$$.ptr,e,this.registeredClass);return n}var tn=()=>{Object.assign(Dr.prototype,{getPointee(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},destructor(t){var r;(r=this.rawDestructor)===null||r===void 0||r.call(this,t)},argPackAdvance:G,readValueFromPointer:fr,fromWireType:Ne})};function Dr(t,r,e,n,a,o,u,c,l,h,p){this.name=t,this.registeredClass=r,this.isReference=e,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=u,this.rawGetPointee=c,this.rawConstructor=l,this.rawShare=h,this.rawDestructor=p,!a&&r.baseClass===void 0?n?(this.toWireType=Ke,this.destructorFunction=null):(this.toWireType=rn,this.destructorFunction=null):this.toWireType=Ze}var Tt=(t,r,e)=>{s.hasOwnProperty(t)||xr("Replacing nonexistant public symbol"),s[t].overloadTable!==void 0&&e!==void 0?s[t].overloadTable[e]=r:(s[t]=r,s[t].argCount=e)},en=(t,r,e)=>{var n=s["dynCall_"+t];return n(r,...e)},Mr=[],Pt,P=t=>{var r=Mr[t];return r||(t>=Mr.length&&(Mr.length=t+1),Mr[t]=r=Pt.get(t)),r},nn=function(t,r){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.includes("j"))return en(t,r,e);var n=P(r)(...e);return n},an=(t,r)=>function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return nn(t,r,n)},Y=(t,r)=>{t=W(t);function e(){return t.includes("j")?an(t,r):P(r)}var n=e();return typeof n!="function"&&b(`unknown function pointer with signature ${t}: ${r}`),n},on=(t,r)=>{var e=gr(r,function(n){this.name=r,this.message=n;var a=new Error(n).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},e},Et,At=t=>{var r=kt(t),e=W(r);return K(r),e},Fr=(t,r)=>{var e=[],n={};function a(o){if(!n[o]&&!er[o]){if(Ar[o]){Ar[o].forEach(a);return}e.push(o),n[o]=!0}}throw r.forEach(a),new Et(`${t}: `+e.map(At).join([", "]))},sn=(t,r,e,n,a,o,u,c,l,h,p,g,v)=>{p=W(p),o=Y(a,o),c&&(c=Y(u,c)),h&&(h=Y(l,h)),v=Y(g,v);var $=Je(p);Gr($,function(){Fr(`Cannot construct ${p} due to unbound types`,[n])}),nr([t,r,e],n?[n]:[],O=>{O=O[0];var k,T;n?(k=O.registeredClass,T=k.instancePrototype):T=Sr.prototype;var F=gr(p,function(){if(Object.getPrototypeOf(this)!==d)throw new ur("Use 'new' to construct "+p);if(m.constructor_body===void 0)throw new ur(p+" has no accessible constructor");for(var Nt=arguments.length,Rr=new Array(Nt),kr=0;kr<Nt;kr++)Rr[kr]=arguments[kr];var Gt=m.constructor_body[Rr.length];if(Gt===void 0)throw new ur(`Tried to invoke ctor of ${p} with invalid number of parameters (${Rr.length}) - expected (${Object.keys(m.constructor_body).toString()}) parameters instead!`);return Gt.apply(this,Rr)}),d=Object.create(T,{constructor:{value:F}});F.prototype=d;var m=new Xe(p,F,d,v,k,o,c,h);if(m.baseClass){var S,M;(M=(S=m.baseClass).__derivedClasses)!==null&&M!==void 0||(S.__derivedClasses=[]),m.baseClass.__derivedClasses.push(m)}var cr=new Dr(p,m,!0,!1,!1),Ir=new Dr(p+"*",m,!1,!1,!1),Yt=new Dr(p+" const*",m,!1,!0,!1);return Ct[t]={pointerType:Ir,constPointerType:Yt},Tt($,F),[cr,Ir,Yt]})},Qr=(t,r)=>{for(var e=[],n=0;n<t;n++)e.push(C[r+n*4>>2]);return e};function un(t){for(var r=1;r<t.length;++r)if(t[r]!==null&&t[r].destructorFunction===void 0)return!0;return!1}function Jr(t,r,e,n,a,o){var u=r.length;u<2&&b("argTypes array size mismatch! Must at least get return value and 'this' types!");var c=r[1]!==null&&e!==null,l=un(r),h=r[0].name!=="void",p=u-2,g=new Array(p),v=[],$=[],O=function(){arguments.length!==p&&b(`function ${t} called with ${arguments.length} arguments, expected ${p}`),$.length=0;var k;v.length=c?2:1,v[0]=a,c&&(k=r[1].toWireType($,this),v[1]=k);for(var T=0;T<p;++T)g[T]=r[T+2].toWireType($,T<0||arguments.length<=T?void 0:arguments[T]),v.push(g[T]);var F=n(...v);function d(m){if(l)Lr($);else for(var S=c?1:2;S<r.length;S++){var M=S===1?k:g[S-2];r[S].destructorFunction!==null&&r[S].destructorFunction(M)}if(h)return r[0].fromWireType(m)}return d(F)};return gr(t,O)}var cn=(t,r,e,n,a,o)=>{var u=Qr(r,e);a=Y(n,a),nr([],[t],c=>{c=c[0];var l=`constructor ${c.name}`;if(c.registeredClass.constructor_body===void 0&&(c.registeredClass.constructor_body=[]),c.registeredClass.constructor_body[r-1]!==void 0)throw new ur(`Cannot register multiple constructors with identical number of parameters (${r-1}) for class '${c.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return c.registeredClass.constructor_body[r-1]=()=>{Fr(`Cannot construct ${c.name} due to unbound types`,u)},nr([],u,h=>(h.splice(1,0,null),c.registeredClass.constructor_body[r-1]=Jr(l,h,null,a,o),[])),[]})},xt=t=>{t=t.trim();const r=t.indexOf("(");return r!==-1?t.substr(0,r):t},ln=(t,r,e,n,a,o,u,c,l)=>{var h=Qr(e,n);r=W(r),r=xt(r),o=Y(a,o),nr([],[t],p=>{p=p[0];var g=`${p.name}.${r}`;r.startsWith("@@")&&(r=Symbol[r.substring(2)]),c&&p.registeredClass.pureVirtualFunctions.push(r);function v(){Fr(`Cannot call ${g} due to unbound types`,h)}var $=p.registeredClass.instancePrototype,O=$[r];return O===void 0||O.overloadTable===void 0&&O.className!==p.name&&O.argCount===e-2?(v.argCount=e-2,v.className=p.name,$[r]=v):(_t($,r,g),$[r].overloadTable[e-2]=v),nr([],h,k=>{var T=Jr(g,k,p,o,u);return $[r].overloadTable===void 0?(T.argCount=e-2,$[r]=T):$[r].overloadTable[e-2]=T,[]}),[]})},Xr=[],J=[],Kr=t=>{t>9&&--J[t+1]===0&&(J[t]=void 0,Xr.push(t))},dn=()=>J.length/2-5-Xr.length,hn=()=>{J.push(0,1,void 0,1,null,1,!0,1,!1,1),s.count_emval_handles=dn},X={toValue:t=>(t||b("Cannot use deleted val. handle = "+t),J[t]),toHandle:t=>{switch(t){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const r=Xr.pop()||J.length;return J[r]=t,J[r+1]=1,r}}}},fn={name:"emscripten::val",fromWireType:t=>{var r=X.toValue(t);return Kr(t),r},toWireType:(t,r)=>X.toHandle(r),argPackAdvance:G,readValueFromPointer:fr,destructorFunction:null},Ot=t=>N(t,fn),pn=(t,r,e)=>{switch(r){case 1:return e?function(n){return this.fromWireType(z[n])}:function(n){return this.fromWireType(I[n])};case 2:return e?function(n){return this.fromWireType(or[n>>1])}:function(n){return this.fromWireType(dr[n>>1])};case 4:return e?function(n){return this.fromWireType(R[n>>2])}:function(n){return this.fromWireType(C[n>>2])};default:throw new TypeError(`invalid integer width (${r}): ${t}`)}},mn=(t,r,e,n)=>{r=W(r);function a(){}a.values={},N(t,{name:r,constructor:a,fromWireType:function(o){return this.constructor.values[o]},toWireType:(o,u)=>u.value,argPackAdvance:G,readValueFromPointer:pn(r,e,n),destructorFunction:null}),Gr(r,a)},Zr=(t,r)=>{var e=er[t];return e===void 0&&b(`${r} has unknown type ${At(t)}`),e},vn=(t,r,e)=>{var n=Zr(t,"enum");r=W(r);var a=n.constructor,o=Object.create(n.constructor.prototype,{value:{value:e},constructor:{value:gr(`${n.name}_${r}`,function(){})}});a.values[e]=o,a[r]=o},rt=t=>{if(t===null)return"null";var r=typeof t;return r==="object"||r==="array"||r==="function"?t.toString():""+t},yn=(t,r)=>{switch(r){case 4:return function(e){return this.fromWireType(ut[e>>2])};case 8:return function(e){return this.fromWireType(ct[e>>3])};default:throw new TypeError(`invalid float width (${r}): ${t}`)}},gn=(t,r,e)=>{r=W(r),N(t,{name:r,fromWireType:n=>n,toWireType:(n,a)=>a,argPackAdvance:G,readValueFromPointer:yn(r,e),destructorFunction:null})},wn=(t,r,e,n,a,o,u)=>{var c=Qr(r,e);t=W(t),t=xt(t),a=Y(n,a),Gr(t,function(){Fr(`Cannot call ${t} due to unbound types`,c)},r-1),nr([],c,l=>{var h=[l[0],null].concat(l.slice(1));return Tt(t,Jr(t,h,null,a,o),r-1),[]})},$n=(t,r,e)=>{switch(r){case 1:return e?n=>z[n]:n=>I[n];case 2:return e?n=>or[n>>1]:n=>dr[n>>1];case 4:return e?n=>R[n>>2]:n=>C[n>>2];default:throw new TypeError(`invalid integer width (${r}): ${t}`)}},bn=(t,r,e,n,a)=>{r=W(r);var o=p=>p;if(n===0){var u=32-8*e;o=p=>p<<u>>>u}var c=r.includes("unsigned"),l=(p,g)=>{},h;c?h=function(p,g){return l(g,this.name),g>>>0}:h=function(p,g){return l(g,this.name),g},N(t,{name:r,fromWireType:o,toWireType:h,argPackAdvance:G,readValueFromPointer:$n(r,e,n!==0),destructorFunction:null})},Cn=(t,r,e)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=n[r];function o(u){var c=C[u>>2],l=C[u+4>>2];return new a(z.buffer,l,c)}e=W(e),N(t,{name:e,fromWireType:o,argPackAdvance:G,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},_n=(t,r)=>{Ot(t)},St=(t,r,e,n)=>{if(!(n>0))return 0;for(var a=e,o=e+n-1,u=0;u<t.length;++u){var c=t.charCodeAt(u);if(c>=55296&&c<=57343){var l=t.charCodeAt(++u);c=65536+((c&1023)<<10)|l&1023}if(c<=127){if(e>=o)break;r[e++]=c}else if(c<=2047){if(e+1>=o)break;r[e++]=192|c>>6,r[e++]=128|c&63}else if(c<=65535){if(e+2>=o)break;r[e++]=224|c>>12,r[e++]=128|c>>6&63,r[e++]=128|c&63}else{if(e+3>=o)break;r[e++]=240|c>>18,r[e++]=128|c>>12&63,r[e++]=128|c>>6&63,r[e++]=128|c&63}}return r[e]=0,e-a},Tn=(t,r,e)=>St(t,I,r,e),Dt=t=>{for(var r=0,e=0;e<t.length;++e){var n=t.charCodeAt(e);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++e):r+=3}return r},Mt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ft=(t,r,e)=>{for(var n=r+e,a=r;t[a]&&!(a>=n);)++a;if(a-r>16&&t.buffer&&Mt)return Mt.decode(t.subarray(r,a));for(var o="";r<a;){var u=t[r++];if(!(u&128)){o+=String.fromCharCode(u);continue}var c=t[r++]&63;if((u&224)==192){o+=String.fromCharCode((u&31)<<6|c);continue}var l=t[r++]&63;if((u&240)==224?u=(u&15)<<12|c<<6|l:u=(u&7)<<18|c<<12|l<<6|t[r++]&63,u<65536)o+=String.fromCharCode(u);else{var h=u-65536;o+=String.fromCharCode(55296|h>>10,56320|h&1023)}}return o},tt=(t,r)=>t?Ft(I,t,r):"",Pn=(t,r)=>{r=W(r);var e=r==="std::string";N(t,{name:r,fromWireType(n){var a=C[n>>2],o=n+4,u;if(e)for(var c=o,l=0;l<=a;++l){var h=o+l;if(l==a||I[h]==0){var p=h-c,g=tt(c,p);u===void 0?u=g:(u+="\0",u+=g),c=h+1}}else{for(var v=new Array(a),l=0;l<a;++l)v[l]=String.fromCharCode(I[o+l]);u=v.join("")}return K(n),u},toWireType(n,a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));var o,u=typeof a=="string";u||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||b("Cannot pass non-string to std::string"),e&&u?o=Dt(a):o=a.length;var c=at(4+o+1),l=c+4;if(C[c>>2]=o,e&&u)Tn(a,l,o+1);else if(u)for(var h=0;h<o;++h){var p=a.charCodeAt(h);p>255&&(K(l),b("String has UTF-16 code units that do not fit in 8 bits")),I[l+h]=p}else for(var h=0;h<o;++h)I[l+h]=a[h];return n!==null&&n.push(K,c),c},argPackAdvance:G,readValueFromPointer:fr,destructorFunction(n){K(n)}})},jt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,En=(t,r)=>{for(var e=t,n=e>>1,a=n+r/2;!(n>=a)&&dr[n];)++n;if(e=n<<1,e-t>32&&jt)return jt.decode(I.subarray(t,e));for(var o="",u=0;!(u>=r/2);++u){var c=or[t+u*2>>1];if(c==0)break;o+=String.fromCharCode(c)}return o},An=(t,r,e)=>{var n;if((n=e)!==null&&n!==void 0||(e=2147483647),e<2)return 0;e-=2;for(var a=r,o=e<t.length*2?e/2:t.length,u=0;u<o;++u){var c=t.charCodeAt(u);or[r>>1]=c,r+=2}return or[r>>1]=0,r-a},xn=t=>t.length*2,On=(t,r)=>{for(var e=0,n="";!(e>=r/4);){var a=R[t+e*4>>2];if(a==0)break;if(++e,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|o&1023)}else n+=String.fromCharCode(a)}return n},Sn=(t,r,e)=>{var n;if((n=e)!==null&&n!==void 0||(e=2147483647),e<4)return 0;for(var a=r,o=a+e-4,u=0;u<t.length;++u){var c=t.charCodeAt(u);if(c>=55296&&c<=57343){var l=t.charCodeAt(++u);c=65536+((c&1023)<<10)|l&1023}if(R[r>>2]=c,r+=4,r+4>o)break}return R[r>>2]=0,r-a},Dn=t=>{for(var r=0,e=0;e<t.length;++e){var n=t.charCodeAt(e);n>=55296&&n<=57343&&++e,r+=4}return r},Mn=(t,r,e)=>{e=W(e);var n,a,o,u;r===2?(n=En,a=An,u=xn,o=c=>dr[c>>1]):r===4&&(n=On,a=Sn,u=Dn,o=c=>C[c>>2]),N(t,{name:e,fromWireType:c=>{for(var l=C[c>>2],h,p=c+4,g=0;g<=l;++g){var v=c+4+g*r;if(g==l||o(v)==0){var $=v-p,O=n(p,$);h===void 0?h=O:(h+="\0",h+=O),p=v+r}}return K(c),h},toWireType:(c,l)=>{typeof l!="string"&&b(`Cannot pass non-string to C++ string type ${e}`);var h=u(l),p=at(4+h+r);return C[p>>2]=h/r,a(l,p+4,h+r),c!==null&&c.push(K,p),p},argPackAdvance:G,readValueFromPointer:fr,destructorFunction(c){K(c)}})},Fn=(t,r,e,n,a,o)=>{Er[t]={name:W(r),rawConstructor:Y(e,n),rawDestructor:Y(a,o),fields:[]}},jn=(t,r,e,n,a,o,u,c,l,h)=>{Er[t].fields.push({fieldName:W(r),getterReturnType:e,getter:Y(n,a),getterContext:o,setterArgumentType:u,setter:Y(c,l),setterContext:h})},Wn=(t,r)=>{r=W(r),N(t,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:(e,n)=>{}})},et=[],In=(t,r,e,n)=>(t=et[t],r=X.toValue(r),t(null,r,e,n)),Rn={},kn=t=>{var r=Rn[t];return r===void 0?W(t):r},Wt=()=>{if(typeof globalThis=="object")return globalThis;function t(r){r.$$$embind_global$$$=r;var e=typeof $$$embind_global$$$=="object"&&r.$$$embind_global$$$==r;return e||delete r.$$$embind_global$$$,e}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&t(global)?$$$embind_global$$$=global:typeof self=="object"&&t(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},Hn=t=>t===0?X.toHandle(Wt()):(t=kn(t),X.toHandle(Wt()[t])),Bn=t=>{var r=et.length;return et.push(t),r},Un=(t,r)=>{for(var e=new Array(t),n=0;n<t;++n)e[n]=Zr(C[r+n*4>>2],"parameter "+n);return e},Vn=Reflect.construct,Ln=(t,r,e)=>{var n=[],a=t.toWireType(n,e);return n.length&&(C[r>>2]=X.toHandle(n)),a},zn=(t,r,e)=>{var n=Un(t,r),a=n.shift();t--;var o=new Array(t),u=(l,h,p,g)=>{for(var v=0,$=0;$<t;++$)o[$]=n[$].readValueFromPointer(g+v),v+=n[$].argPackAdvance;var O=e===1?Vn(h,o):h.apply(l,o);return Ln(a,p,O)},c=`methodCaller<(${n.map(l=>l.name).join(", ")}) => ${a.name}>`;return Bn(gr(c,u))},Yn=t=>{t>9&&(J[t+1]+=1)},Nn=t=>{var r=X.toValue(t);Lr(r),Kr(t)},Gn=(t,r)=>{t=Zr(t,"_emval_take_value");var e=t.readValueFromPointer(r);return X.toHandle(e)},qn=()=>{_r("")},Qn=(t,r,e)=>I.copyWithin(t,r,r+e),Jn=()=>2147483648,Xn=t=>{var r=ar.buffer,e=(t-r.byteLength+65535)/65536;try{return ar.grow(e),lt(),1}catch{}},Kn=t=>{var r=I.length;t>>>=0;var e=Jn();if(t>e)return!1;for(var n=(l,h)=>l+(h-l%h)%h,a=1;a<=4;a*=2){var o=r*(1+.2/a);o=Math.min(o,t+100663296);var u=Math.min(e,n(Math.max(t,o),65536)),c=Xn(u);if(c)return!0}return!1},nt={},Zn=()=>B||"./this.program",wr=()=>{if(!wr.strings){var t=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:t,_:Zn()};for(var e in nt)nt[e]===void 0?delete r[e]:r[e]=nt[e];var n=[];for(var e in r)n.push(`${e}=${r[e]}`);wr.strings=n}return wr.strings},ra=(t,r)=>{for(var e=0;e<t.length;++e)z[r++]=t.charCodeAt(e);z[r]=0},ta=(t,r)=>{var e=0;return wr().forEach((n,a)=>{var o=r+e;C[t+a*4>>2]=o,ra(n,o),e+=n.length+1}),0},ea=(t,r)=>{var e=wr();C[t>>2]=e.length;var n=0;return e.forEach(a=>n+=a.length+1),C[r>>2]=n,0},na=t=>52;function aa(t,r,e,n,a){return 70}var oa=[null,[],[]],ia=(t,r)=>{var e=oa[t];r===0||r===10?((t===1?Cr:q)(Ft(e,0)),e.length=0):e.push(r)},sa=(t,r,e,n)=>{for(var a=0,o=0;o<e;o++){var u=C[r>>2],c=C[r+4>>2];r+=8;for(var l=0;l<c;l++)ia(t,I[u+l]);a+=c}return C[n>>2]=a,0},ua=t=>t,jr=t=>t%4===0&&(t%100!==0||t%400===0),ca=(t,r)=>{for(var e=0,n=0;n<=r;e+=t[n++]);return e},It=[31,29,31,30,31,30,31,31,30,31,30,31],Rt=[31,28,31,30,31,30,31,31,30,31,30,31],la=(t,r)=>{for(var e=new Date(t.getTime());r>0;){var n=jr(e.getFullYear()),a=e.getMonth(),o=(n?It:Rt)[a];if(r>o-e.getDate())r-=o-e.getDate()+1,e.setDate(1),a<11?e.setMonth(a+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1));else return e.setDate(e.getDate()+r),e}return e};function da(t,r,e){var n=e>0?e:Dt(t)+1,a=new Array(n),o=St(t,a,0,a.length);return r&&(a.length=o),a}var ha=(t,r)=>{z.set(t,r)},fa=(t,r,e,n)=>{var a=C[n+40>>2],o={tm_sec:R[n>>2],tm_min:R[n+4>>2],tm_hour:R[n+8>>2],tm_mday:R[n+12>>2],tm_mon:R[n+16>>2],tm_year:R[n+20>>2],tm_wday:R[n+24>>2],tm_yday:R[n+28>>2],tm_isdst:R[n+32>>2],tm_gmtoff:R[n+36>>2],tm_zone:a?tt(a):""},u=tt(e),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in c)u=u.replace(new RegExp(l,"g"),c[l]);var h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"];function g(d,m,S){for(var M=typeof d=="number"?d.toString():d||"";M.length<m;)M=S[0]+M;return M}function v(d,m){return g(d,m,"0")}function $(d,m){function S(cr){return cr<0?-1:cr>0?1:0}var M;return(M=S(d.getFullYear()-m.getFullYear()))===0&&(M=S(d.getMonth()-m.getMonth()))===0&&(M=S(d.getDate()-m.getDate())),M}function O(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function k(d){var m=la(new Date(d.tm_year+1900,0,1),d.tm_yday),S=new Date(m.getFullYear(),0,4),M=new Date(m.getFullYear()+1,0,4),cr=O(S),Ir=O(M);return $(cr,m)<=0?$(Ir,m)<=0?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}var T={"%a":d=>h[d.tm_wday].substring(0,3),"%A":d=>h[d.tm_wday],"%b":d=>p[d.tm_mon].substring(0,3),"%B":d=>p[d.tm_mon],"%C":d=>{var m=d.tm_year+1900;return v(m/100|0,2)},"%d":d=>v(d.tm_mday,2),"%e":d=>g(d.tm_mday,2," "),"%g":d=>k(d).toString().substring(2),"%G":k,"%H":d=>v(d.tm_hour,2),"%I":d=>{var m=d.tm_hour;return m==0?m=12:m>12&&(m-=12),v(m,2)},"%j":d=>v(d.tm_mday+ca(jr(d.tm_year+1900)?It:Rt,d.tm_mon-1),3),"%m":d=>v(d.tm_mon+1,2),"%M":d=>v(d.tm_min,2),"%n":()=>`
`,"%p":d=>d.tm_hour>=0&&d.tm_hour<12?"AM":"PM","%S":d=>v(d.tm_sec,2),"%t":()=>"	","%u":d=>d.tm_wday||7,"%U":d=>{var m=d.tm_yday+7-d.tm_wday;return v(Math.floor(m/7),2)},"%V":d=>{var m=Math.floor((d.tm_yday+7-(d.tm_wday+6)%7)/7);if((d.tm_wday+371-d.tm_yday-2)%7<=2&&m++,m){if(m==53){var S=(d.tm_wday+371-d.tm_yday)%7;S!=4&&(S!=3||!jr(d.tm_year))&&(m=1)}}else{m=52;var M=(d.tm_wday+7-d.tm_yday-1)%7;(M==4||M==5&&jr(d.tm_year%400-1))&&m++}return v(m,2)},"%w":d=>d.tm_wday,"%W":d=>{var m=d.tm_yday+7-(d.tm_wday+6)%7;return v(Math.floor(m/7),2)},"%y":d=>(d.tm_year+1900).toString().substring(2),"%Y":d=>d.tm_year+1900,"%z":d=>{var m=d.tm_gmtoff,S=m>=0;return m=Math.abs(m)/60,m=m/60*100+m%60,(S?"+":"-")+("0000"+m).slice(-4)},"%Z":d=>d.tm_zone,"%%":()=>"%"};u=u.replace(/%%/g,"\0\0");for(var l in T)u.includes(l)&&(u=u.replace(new RegExp(l,"g"),T[l](o)));u=u.replace(/\0\0/g,"%");var F=da(u,!1);return F.length>r?0:(ha(F,t),F.length-1)},pa=(t,r,e,n,a)=>fa(t,r,e,n);yt=s.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},We(),ur=s.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Ge(),Le(),tn(),Et=s.UnboundTypeError=on(Error,"UnboundTypeError"),hn();var ma={s:Te,u:Pe,b:Ae,g:xe,q:Oe,K:Se,f:De,Y:Me,d:Ee,ha:Fe,U:je,ba:Re,fa:sn,ea:cn,w:ln,aa:Ot,x:mn,h:vn,O:gn,P:wn,t:bn,o:Cn,ga:_n,N:Pn,C:Mn,A:Fn,ia:jn,ca:Wn,E:In,ka:Kr,la:Hn,M:zn,Q:Yn,R:Nn,da:Gn,B:qn,$:Qn,Z:Kn,W:ta,X:ea,_:na,T:aa,L:sa,F:Da,D:$a,G:Sa,m:Ma,a:va,e:Ca,p:wa,k:Oa,I:Aa,v:Pa,H:xa,z:ja,S:Ia,l:_a,j:ba,c:ga,n:ya,J:Ea,r:Fa,i:Ta,y:Wa,ja:ua,V:pa},E=_e(),K=s._free=t=>(K=s._free=E.oa)(t),at=s._malloc=t=>(at=s._malloc=E.pa)(t),kt=t=>(kt=E.ra)(t),_=(t,r)=>(_=E.sa)(t,r),$r=t=>($r=E.ta)(t),A=()=>(A=E.ua)(),x=t=>(x=E.va)(t),Ht=t=>(Ht=E.wa)(t),Bt=t=>(Bt=E.xa)(t),Ut=(t,r,e)=>(Ut=E.ya)(t,r,e),Vt=t=>(Vt=E.za)(t);s.dynCall_viijii=(t,r,e,n,a,o,u)=>(s.dynCall_viijii=E.Aa)(t,r,e,n,a,o,u),s.dynCall_jiji=(t,r,e,n,a)=>(s.dynCall_jiji=E.Ba)(t,r,e,n,a);var Lt=s.dynCall_jiiii=(t,r,e,n,a)=>(Lt=s.dynCall_jiiii=E.Ca)(t,r,e,n,a);s.dynCall_iiiiij=(t,r,e,n,a,o,u)=>(s.dynCall_iiiiij=E.Da)(t,r,e,n,a,o,u),s.dynCall_iiiiijj=(t,r,e,n,a,o,u,c,l)=>(s.dynCall_iiiiijj=E.Ea)(t,r,e,n,a,o,u,c,l),s.dynCall_iiiiiijj=(t,r,e,n,a,o,u,c,l,h)=>(s.dynCall_iiiiiijj=E.Fa)(t,r,e,n,a,o,u,c,l,h);function va(t,r){var e=A();try{return P(t)(r)}catch(n){if(x(e),n!==n+0)throw n;_(1,0)}}function ya(t,r,e,n){var a=A();try{P(t)(r,e,n)}catch(o){if(x(a),o!==o+0)throw o;_(1,0)}}function ga(t,r,e){var n=A();try{P(t)(r,e)}catch(a){if(x(n),a!==a+0)throw a;_(1,0)}}function wa(t,r,e,n){var a=A();try{return P(t)(r,e,n)}catch(o){if(x(a),o!==o+0)throw o;_(1,0)}}function $a(t,r,e,n,a){var o=A();try{return P(t)(r,e,n,a)}catch(u){if(x(o),u!==u+0)throw u;_(1,0)}}function ba(t,r){var e=A();try{P(t)(r)}catch(n){if(x(e),n!==n+0)throw n;_(1,0)}}function Ca(t,r,e){var n=A();try{return P(t)(r,e)}catch(a){if(x(n),a!==a+0)throw a;_(1,0)}}function _a(t){var r=A();try{P(t)()}catch(e){if(x(r),e!==e+0)throw e;_(1,0)}}function Ta(t,r,e,n,a,o,u,c,l,h,p){var g=A();try{P(t)(r,e,n,a,o,u,c,l,h,p)}catch(v){if(x(g),v!==v+0)throw v;_(1,0)}}function Pa(t,r,e,n,a,o,u){var c=A();try{return P(t)(r,e,n,a,o,u)}catch(l){if(x(c),l!==l+0)throw l;_(1,0)}}function Ea(t,r,e,n,a){var o=A();try{P(t)(r,e,n,a)}catch(u){if(x(o),u!==u+0)throw u;_(1,0)}}function Aa(t,r,e,n,a,o){var u=A();try{return P(t)(r,e,n,a,o)}catch(c){if(x(u),c!==c+0)throw c;_(1,0)}}function xa(t,r,e,n,a,o,u,c){var l=A();try{return P(t)(r,e,n,a,o,u,c)}catch(h){if(x(l),h!==h+0)throw h;_(1,0)}}function Oa(t,r,e,n,a){var o=A();try{return P(t)(r,e,n,a)}catch(u){if(x(o),u!==u+0)throw u;_(1,0)}}function Sa(t,r,e,n){var a=A();try{return P(t)(r,e,n)}catch(o){if(x(a),o!==o+0)throw o;_(1,0)}}function Da(t,r,e,n){var a=A();try{return P(t)(r,e,n)}catch(o){if(x(a),o!==o+0)throw o;_(1,0)}}function Ma(t){var r=A();try{return P(t)()}catch(e){if(x(r),e!==e+0)throw e;_(1,0)}}function Fa(t,r,e,n,a,o,u,c){var l=A();try{P(t)(r,e,n,a,o,u,c)}catch(h){if(x(l),h!==h+0)throw h;_(1,0)}}function ja(t,r,e,n,a,o,u,c,l,h,p,g){var v=A();try{return P(t)(r,e,n,a,o,u,c,l,h,p,g)}catch($){if(x(v),$!==$+0)throw $;_(1,0)}}function Wa(t,r,e,n,a,o,u,c,l,h,p,g,v,$,O,k){var T=A();try{P(t)(r,e,n,a,o,u,c,l,h,p,g,v,$,O,k)}catch(F){if(x(T),F!==F+0)throw F;_(1,0)}}function Ia(t,r,e,n,a){var o=A();try{return Lt(t,r,e,n,a)}catch(u){if(x(o),u!==u+0)throw u;_(1,0)}}var Wr;hr=function t(){Wr||zt(),Wr||(hr=t)};function zt(){if(tr>0||(he(),tr>0))return;function t(){Wr||(Wr=!0,s.calledRun=!0,!st&&(fe(),w(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),pe()))}s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),t()},1)):t()}if(s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return zt(),f.ready}})();function Ja(i){return ot(it,i)}async function Xa(i,f){return qa(it,i,f)}async function Ka(i,f){return Qa(it,i,f)}const ee=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],Za=[...ee,["unknown"]].map(i=>i[0]),Hr=new Map(ee);function ro(i){for(const[f,s]of Hr)if(i===s)return f;return"unknown"}function to(i){if(ne(i))return{width:i.naturalWidth,height:i.naturalHeight};if(ae(i))return{width:i.width.baseVal.value,height:i.height.baseVal.value};if(oe(i))return{width:i.videoWidth,height:i.videoHeight};if(se(i))return{width:i.width,height:i.height};if(ce(i))return{width:i.displayWidth,height:i.displayHeight};if(ie(i))return{width:i.width,height:i.height};if(ue(i))return{width:i.width,height:i.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function ne(i){try{return i instanceof HTMLImageElement}catch{return!1}}function ae(i){try{return i instanceof SVGImageElement}catch{return!1}}function oe(i){try{return i instanceof HTMLVideoElement}catch{return!1}}function ie(i){try{return i instanceof HTMLCanvasElement}catch{return!1}}function se(i){try{return i instanceof ImageBitmap}catch{return!1}}function ue(i){try{return i instanceof OffscreenCanvas}catch{return!1}}function ce(i){try{return i instanceof VideoFrame}catch{return!1}}function le(i){try{return i instanceof Blob}catch{return!1}}function eo(i){try{return i instanceof ImageData}catch{return!1}}function no(i,f){try{const s=new OffscreenCanvas(i,f);if(s.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return s;throw void 0}catch{const s=document.createElement("canvas");return s.width=i,s.height=f,s}}async function de(i){if(ne(i)&&!await so(i))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(ae(i)&&!await uo(i))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(ce(i)&&co(i))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(oe(i)&&(i.readyState===0||i.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(se(i)&&ho(i))throw new DOMException("The image source is detached.","InvalidStateError");const{width:f,height:s}=to(i);if(f===0||s===0)return null;const w=no(f,s).getContext("2d");w.drawImage(i,0,0);try{return w.getImageData(0,0,f,s)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function ao(i){let f;try{if(globalThis.createImageBitmap)f=await createImageBitmap(i);else if(globalThis.Image){f=new Image;let s="";try{s=URL.createObjectURL(i),f.src=s,await f.decode()}finally{URL.revokeObjectURL(s)}}else return i}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await de(f)}function oo(i){const{width:f,height:s}=i;if(f===0||s===0)return null;const w=i.getContext("2d");try{return w.getImageData(0,0,f,s)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function io(i){if(le(i))return await ao(i);if(eo(i)){if(lo(i))throw new DOMException("The image data has been detached.","InvalidStateError");return i}return ie(i)||ue(i)?oo(i):await de(i)}async function so(i){try{return await i.decode(),!0}catch{return!1}}async function uo(i){var f;try{return await((f=i.decode)==null?void 0:f.call(i)),!0}catch{return!1}}function co(i){return i.format===null}function lo(i){return i.data.buffer.byteLength===0}function ho(i){return i.width===0&&i.height===0}function Kt(i,f){return i instanceof DOMException?new DOMException(`${f}: ${i.message}`,i.name):i instanceof Error?new i.constructor(`${f}: ${i.message}`):new Error(`${f}: ${i}`)}var br;class fo extends EventTarget{constructor(f={}){var s;super(),Ra(this,br,void 0);try{const w=(s=f==null?void 0:f.formats)==null?void 0:s.filter(y=>y!=="unknown");if((w==null?void 0:w.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const y of w??[])if(!Hr.has(y))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${y}' is not a valid enum value of type BarcodeFormat.`);ka(this,br,w??[]),Ja().then(y=>{this.dispatchEvent(new CustomEvent("load",{detail:y}))}).catch(y=>{this.dispatchEvent(new CustomEvent("error",{detail:y}))})}catch(w){throw Kt(w,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return Za.filter(f=>f!=="unknown")}async detect(f){try{const s=await io(f);if(s===null)return[];let w;try{le(s)?w=await Xa(s,{tryHarder:!0,formats:qt(this,br).map(y=>Hr.get(y))}):w=await Ka(s,{tryHarder:!0,formats:qt(this,br).map(y=>Hr.get(y))})}catch(y){throw console.error(y),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return w.map(y=>{const{topLeft:{x:j,y:B},topRight:{x:U,y:V},bottomLeft:{x:H,y:D},bottomRight:{x:Z,y:L}}=y.position,Cr=Math.min(j,U,H,Z),q=Math.min(B,V,D,L),rr=Math.max(j,U,H,Z),ar=Math.max(B,V,D,L);return{boundingBox:new DOMRectReadOnly(Cr,q,rr-Cr,ar-q),rawValue:y.text,format:ro(y.format),cornerPoints:[{x:j,y:B},{x:U,y:V},{x:Z,y:L},{x:H,y:D}]}})}catch(s){throw Kt(s,"Failed to execute 'detect' on 'BarcodeDetector'")}}}br=new WeakMap;globalThis.BarcodeDetector!=null||(globalThis.BarcodeDetector=fo);export{fo as y};
