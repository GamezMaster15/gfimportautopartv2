import{v as Mn,b_ as Ln,C as Bn,G as Hn,bV as zn,l as qe,co as Qt,r as be,w as qn,K as $n,cp as jn,i as F,O as Ft,R as yt,aS as Gn,cq as Wn,a$ as Qn,d as Xn,o as Qe,c as Kn,e as nt,f as H,p as ie,V as Zn,cr as rt,bS as Ee,bQ as ot,P as st,a as De}from"./index-ba7efa84.js";import{_ as Yn,C as Jn,r as Xt,S as er,h as kt,i as tr,j as nr,k as rr,l as or,F as sr,b as Vt,c as Pe,a as ke,m as ar,e as Xe,u as ir,d as lr}from"./firebase-da6e628f.js";import{V as at}from"./VRow-bf744c0d.js";import{V as $}from"./VCol-be91beef.js";import{V as _t}from"./VAlert-8122022d.js";import{m as ur,b as cr,u as dr,c as Kt,f as fr,d as hr,e as pr,a as G,V as it}from"./VTextField-3660a98e.js";import{V as mr}from"./VSelect-ead6db5f.js";import{f as gr}from"./forwardRefs-9d31fcaa.js";import{V as _r}from"./VChip-1538c857.js";function vr(r,n){return n.forEach(function(d){d&&typeof d!="string"&&!Array.isArray(d)&&Object.keys(d).forEach(function(o){if(o!=="default"&&!(o in r)){var e=Object.getOwnPropertyDescriptor(d,o);Object.defineProperty(r,o,e.get?e:{enumerable:!0,get:function(){return d[o]}})}})}),Object.freeze(r)}function on(r,n){return new Promise(function(d,o){let e;return br(r).then(function(t){try{return e=t,d(new Blob([n.slice(0,2),e,n.slice(2)],{type:"image/jpeg"}))}catch(u){return o(u)}},o)})}const br=r=>new Promise((n,d)=>{const o=new FileReader;o.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let u=0;if(t.getUint16(u)!==65496)return d("not a valid JPEG");for(u+=2;;){const c=t.getUint16(u);if(c===65498)break;const h=t.getUint16(u+2);if(c===65505&&t.getUint32(u+4)===1165519206){const y=u+10;let i;switch(t.getUint16(y)){case 18761:i=!0;break;case 19789:i=!1;break;default:return d("TIFF header contains invalid endian")}if(t.getUint16(y+2,i)!==42)return d("TIFF header contains invalid version");const l=t.getUint32(y+4,i),a=y+l+2+12*t.getUint16(y+l,i);for(let f=y+l+2;f<a;f+=12)if(t.getUint16(f,i)==274){if(t.getUint16(f+2,i)!==3)return d("Orientation data type is invalid");if(t.getUint32(f+4,i)!==1)return d("Orientation data count is invalid");t.setUint16(f+8,1,i);break}return n(e.slice(u,u+2+h))}u+=2+h}return n(new Blob)}),o.readAsArrayBuffer(r)});var At={},yr={get exports(){return At},set exports(r){At=r}};(function(r){var n,d,o={};yr.exports=o,o.parse=function(e,t){for(var u=o.bin.readUshort,c=o.bin.readUint,h=0,y={},i=new Uint8Array(e),l=i.length-4;c(i,l)!=101010256;)l--;h=l,h+=4;var a=u(i,h+=4);u(i,h+=2);var f=c(i,h+=2),b=c(i,h+=4);h+=4,h=b;for(var w=0;w<a;w++){c(i,h),h+=4,h+=4,h+=4,c(i,h+=4),f=c(i,h+=4);var E=c(i,h+=4),U=u(i,h+=4),D=u(i,h+2),P=u(i,h+4);h+=6;var k=c(i,h+=8);h+=4,h+=U+D+P,o._readLocal(i,k,y,f,E,t)}return y},o._readLocal=function(e,t,u,c,h,y){var i=o.bin.readUshort,l=o.bin.readUint;l(e,t),i(e,t+=4),i(e,t+=2);var a=i(e,t+=2);l(e,t+=2),l(e,t+=4),t+=4;var f=i(e,t+=8),b=i(e,t+=2);t+=2;var w=o.bin.readUTF8(e,t,f);if(t+=f,t+=b,y)u[w]={size:h,csize:c};else{var E=new Uint8Array(e.buffer,t);if(a==0)u[w]=new Uint8Array(E.buffer.slice(t,t+c));else{if(a!=8)throw"unknown compression method: "+a;var U=new Uint8Array(h);o.inflateRaw(E,U),u[w]=U}}},o.inflateRaw=function(e,t){return o.F.inflate(e,t)},o.inflate=function(e,t){return e[0],e[1],o.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},o.deflate=function(e,t){t==null&&(t={level:6});var u=0,c=new Uint8Array(50+Math.floor(1.1*e.length));c[u]=120,c[u+1]=156,u+=2,u=o.F.deflateRaw(e,c,u,t.level);var h=o.adler(e,0,e.length);return c[u+0]=h>>>24&255,c[u+1]=h>>>16&255,c[u+2]=h>>>8&255,c[u+3]=h>>>0&255,new Uint8Array(c.buffer,0,u+4)},o.deflateRaw=function(e,t){t==null&&(t={level:6});var u=new Uint8Array(50+Math.floor(1.1*e.length)),c=o.F.deflateRaw(e,u,c,t.level);return new Uint8Array(u.buffer,0,c)},o.encode=function(e,t){t==null&&(t=!1);var u=0,c=o.bin.writeUint,h=o.bin.writeUshort,y={};for(var i in e){var l=!o._noNeed(i)&&!t,a=e[i],f=o.crc.crc(a,0,a.length);y[i]={cpr:l,usize:a.length,crc:f,file:l?o.deflateRaw(a):a}}for(var i in y)u+=y[i].file.length+30+46+2*o.bin.sizeUTF8(i);u+=22;var b=new Uint8Array(u),w=0,E=[];for(var i in y){var U=y[i];E.push(w),w=o._writeHeader(b,w,i,U,0)}var D=0,P=w;for(var i in y)U=y[i],E.push(w),w=o._writeHeader(b,w,i,U,1,E[D++]);var k=w-P;return c(b,w,101010256),w+=4,h(b,w+=4,D),h(b,w+=2,D),c(b,w+=2,k),c(b,w+=4,P),w+=4,w+=2,b.buffer},o._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},o._writeHeader=function(e,t,u,c,h,y){var i=o.bin.writeUint,l=o.bin.writeUshort,a=c.file;return i(e,t,h==0?67324752:33639248),t+=4,h==1&&(t+=2),l(e,t,20),l(e,t+=2,0),l(e,t+=2,c.cpr?8:0),i(e,t+=2,0),i(e,t+=4,c.crc),i(e,t+=4,a.length),i(e,t+=4,c.usize),l(e,t+=4,o.bin.sizeUTF8(u)),l(e,t+=2,0),t+=2,h==1&&(t+=2,t+=2,i(e,t+=6,y),t+=4),t+=o.bin.writeUTF8(e,t,u),h==0&&(e.set(a,t),t+=a.length),t},o.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var u=t,c=0;c<8;c++)1&u?u=3988292384^u>>>1:u>>>=1;e[t]=u}return e}(),update:function(e,t,u,c){for(var h=0;h<c;h++)e=o.crc.table[255&(e^t[u+h])]^e>>>8;return e},crc:function(e,t,u){return 4294967295^o.crc.update(4294967295,e,t,u)}},o.adler=function(e,t,u){for(var c=1,h=0,y=t,i=t+u;y<i;){for(var l=Math.min(y+5552,i);y<l;)h+=c+=e[y++];c%=65521,h%=65521}return h<<16|c},o.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255,e[t+2]=u>>16&255,e[t+3]=u>>24&255},readASCII:function(e,t,u){for(var c="",h=0;h<u;h++)c+=String.fromCharCode(e[t+h]);return c},writeASCII:function(e,t,u){for(var c=0;c<u.length;c++)e[t+c]=u.charCodeAt(c)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,u){for(var c,h="",y=0;y<u;y++)h+="%"+o.bin.pad(e[t+y].toString(16));try{c=decodeURIComponent(h)}catch{return o.bin.readASCII(e,t,u)}return c},writeUTF8:function(e,t,u){for(var c=u.length,h=0,y=0;y<c;y++){var i=u.charCodeAt(y);if(!(4294967168&i))e[t+h]=i,h++;else if(!(4294965248&i))e[t+h]=192|i>>6,e[t+h+1]=128|i>>0&63,h+=2;else if(!(4294901760&i))e[t+h]=224|i>>12,e[t+h+1]=128|i>>6&63,e[t+h+2]=128|i>>0&63,h+=3;else{if(4292870144&i)throw"e";e[t+h]=240|i>>18,e[t+h+1]=128|i>>12&63,e[t+h+2]=128|i>>6&63,e[t+h+3]=128|i>>0&63,h+=4}}return h},sizeUTF8:function(e){for(var t=e.length,u=0,c=0;c<t;c++){var h=e.charCodeAt(c);if(!(4294967168&h))u++;else if(!(4294965248&h))u+=2;else if(!(4294901760&h))u+=3;else{if(4292870144&h)throw"e";u+=4}}return u}},o.F={},o.F.deflateRaw=function(e,t,u,c){var h=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][c],y=o.F.U,i=o.F._goodIndex;o.F._hash;var l=o.F._putsE,a=0,f=u<<3,b=0,w=e.length;if(c==0){for(;a<w;)l(t,f,a+(g=Math.min(65535,w-a))==w?1:0),f=o.F._copyExact(e,a,g,t,f+8),a+=g;return f>>>3}var E=y.lits,U=y.strt,D=y.prev,P=0,k=0,O=0,A=0,V=0,m=0;for(w>2&&(U[m=o.F._hash(e,0)]=0),a=0;a<w;a++){if(V=m,a+1<w-2){m=o.F._hash(e,a+1);var s=a+1&32767;D[s]=U[m],U[m]=s}if(b<=a){(P>14e3||k>26697)&&w-a>100&&(b<a&&(E[P]=a-b,P+=2,b=a),f=o.F._writeBlock(a==w-1||b==w?1:0,E,P,A,e,O,a-O,t,f),P=k=A=0,O=a);var v=0;a<w-2&&(v=o.F._bestMatch(e,a,D,V,Math.min(h[2],w-a),h[3]));var g=v>>>16,T=65535&v;if(v!=0){T=65535&v;var C=i(g=v>>>16,y.of0);y.lhst[257+C]++;var R=i(T,y.df0);y.dhst[R]++,A+=y.exb[C]+y.dxb[R],E[P]=g<<23|a-b,E[P+1]=T<<16|C<<8|R,P+=2,b=a+g}else y.lhst[e[a]]++;k++}}for(O==a&&e.length!=0||(b<a&&(E[P]=a-b,P+=2,b=a),f=o.F._writeBlock(1,E,P,A,e,O,a-O,t,f),P=0,k=0,P=k=A=0,O=a);7&f;)f++;return f>>>3},o.F._bestMatch=function(e,t,u,c,h,y){var i=32767&t,l=u[i],a=i-l+32768&32767;if(l==i||c!=o.F._hash(e,t-a))return 0;for(var f=0,b=0,w=Math.min(32767,t);a<=w&&--y!=0&&l!=i;){if(f==0||e[t+f]==e[t+f-a]){var E=o.F._howLong(e,t,a);if(E>f){if(b=a,(f=E)>=h)break;a+2<E&&(E=a+2);for(var U=0,D=0;D<E-2;D++){var P=t-a+D+32768&32767,k=P-u[P]+32768&32767;k>U&&(U=k,l=P)}}}a+=(i=l)-(l=u[i])+32768&32767}return f<<16|b},o.F._howLong=function(e,t,u){if(e[t]!=e[t-u]||e[t+1]!=e[t+1-u]||e[t+2]!=e[t+2-u])return 0;var c=t,h=Math.min(e.length,t+258);for(t+=3;t<h&&e[t]==e[t-u];)t++;return t-c},o.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(e,t,u,c,h,y,i,l,a){var f,b,w,E,U,D,P,k,O,A=o.F.U,V=o.F._putsF,m=o.F._putsE;A.lhst[256]++,b=(f=o.F.getTrees())[0],w=f[1],E=f[2],U=f[3],D=f[4],P=f[5],k=f[6],O=f[7];var s=32+(a+3&7?8-(a+3&7):0)+(i<<3),v=c+o.F.contSize(A.fltree,A.lhst)+o.F.contSize(A.fdtree,A.dhst),g=c+o.F.contSize(A.ltree,A.lhst)+o.F.contSize(A.dtree,A.dhst);g+=14+3*P+o.F.contSize(A.itree,A.ihst)+(2*A.ihst[16]+3*A.ihst[17]+7*A.ihst[18]);for(var T=0;T<286;T++)A.lhst[T]=0;for(T=0;T<30;T++)A.dhst[T]=0;for(T=0;T<19;T++)A.ihst[T]=0;var C=s<v&&s<g?0:v<g?1:2;if(V(l,a,e),V(l,a+1,C),a+=3,C==0){for(;7&a;)a++;a=o.F._copyExact(h,y,i,l,a)}else{var R,S;if(C==1&&(R=A.fltree,S=A.fdtree),C==2){o.F.makeCodes(A.ltree,b),o.F.revCodes(A.ltree,b),o.F.makeCodes(A.dtree,w),o.F.revCodes(A.dtree,w),o.F.makeCodes(A.itree,E),o.F.revCodes(A.itree,E),R=A.ltree,S=A.dtree,m(l,a,U-257),m(l,a+=5,D-1),m(l,a+=5,P-4),a+=4;for(var _=0;_<P;_++)m(l,a+3*_,A.itree[1+(A.ordr[_]<<1)]);a+=3*P,a=o.F._codeTiny(k,A.itree,l,a),a=o.F._codeTiny(O,A.itree,l,a)}for(var p=y,N=0;N<u;N+=2){for(var I=t[N],M=I>>>23,q=p+(8388607&I);p<q;)a=o.F._writeLit(h[p++],R,l,a);if(M!=0){var B=t[N+1],z=B>>16,L=B>>8&255,x=255&B;m(l,a=o.F._writeLit(257+L,R,l,a),M-A.of0[L]),a+=A.exb[L],V(l,a=o.F._writeLit(x,S,l,a),z-A.df0[x]),a+=A.dxb[x],p+=M}}a=o.F._writeLit(256,R,l,a)}return a},o.F._copyExact=function(e,t,u,c,h){var y=h>>>3;return c[y]=u,c[y+1]=u>>>8,c[y+2]=255-c[y],c[y+3]=255-c[y+1],y+=4,c.set(new Uint8Array(e.buffer,t,u),y),h+(u+4<<3)},o.F.getTrees=function(){for(var e=o.F.U,t=o.F._hufTree(e.lhst,e.ltree,15),u=o.F._hufTree(e.dhst,e.dtree,15),c=[],h=o.F._lenCodes(e.ltree,c),y=[],i=o.F._lenCodes(e.dtree,y),l=0;l<c.length;l+=2)e.ihst[c[l]]++;for(l=0;l<y.length;l+=2)e.ihst[y[l]]++;for(var a=o.F._hufTree(e.ihst,e.itree,7),f=19;f>4&&e.itree[1+(e.ordr[f-1]<<1)]==0;)f--;return[t,u,a,h,i,f,c,y]},o.F.getSecond=function(e){for(var t=[],u=0;u<e.length;u+=2)t.push(e[u+1]);return t},o.F.nonZero=function(e){for(var t="",u=0;u<e.length;u+=2)e[u+1]!=0&&(t+=(u>>1)+",");return t},o.F.contSize=function(e,t){for(var u=0,c=0;c<t.length;c++)u+=t[c]*e[1+(c<<1)];return u},o.F._codeTiny=function(e,t,u,c){for(var h=0;h<e.length;h+=2){var y=e[h],i=e[h+1];c=o.F._writeLit(y,t,u,c);var l=y==16?2:y==17?3:7;y>15&&(o.F._putsE(u,c,i,l),c+=l)}return c},o.F._lenCodes=function(e,t){for(var u=e.length;u!=2&&e[u-1]==0;)u-=2;for(var c=0;c<u;c+=2){var h=e[c+1],y=c+3<u?e[c+3]:-1,i=c+5<u?e[c+5]:-1,l=c==0?-1:e[c-1];if(h==0&&y==h&&i==h){for(var a=c+5;a+2<u&&e[a+2]==h;)a+=2;(f=Math.min(a+1-c>>>1,138))<11?t.push(17,f-3):t.push(18,f-11),c+=2*f-2}else if(h==l&&y==h&&i==h){for(a=c+5;a+2<u&&e[a+2]==h;)a+=2;var f=Math.min(a+1-c>>>1,6);t.push(16,f-3),c+=2*f-2}else t.push(h,0)}return u>>>1},o.F._hufTree=function(e,t,u){var c=[],h=e.length,y=t.length,i=0;for(i=0;i<y;i+=2)t[i]=0,t[i+1]=0;for(i=0;i<h;i++)e[i]!=0&&c.push({lit:i,f:e[i]});var l=c.length,a=c.slice(0);if(l==0)return 0;if(l==1){var f=c[0].lit;return a=f==0?1:0,t[1+(f<<1)]=1,t[1+(a<<1)]=1,1}c.sort(function(k,O){return k.f-O.f});var b=c[0],w=c[1],E=0,U=1,D=2;for(c[0]={lit:-1,f:b.f+w.f,l:b,r:w,d:0};U!=l-1;)b=E!=U&&(D==l||c[E].f<c[D].f)?c[E++]:c[D++],w=E!=U&&(D==l||c[E].f<c[D].f)?c[E++]:c[D++],c[U++]={lit:-1,f:b.f+w.f,l:b,r:w};var P=o.F.setDepth(c[U-1],0);for(P>u&&(o.F.restrictDepth(a,u,P),P=u),i=0;i<l;i++)t[1+(a[i].lit<<1)]=a[i].d;return P},o.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(o.F.setDepth(e.l,t+1),o.F.setDepth(e.r,t+1))},o.F.restrictDepth=function(e,t,u){var c=0,h=1<<u-t,y=0;for(e.sort(function(l,a){return a.d==l.d?l.f-a.f:a.d-l.d}),c=0;c<e.length&&e[c].d>t;c++){var i=e[c].d;e[c].d=t,y+=h-(1<<u-i)}for(y>>>=u-t;y>0;)(i=e[c].d)<t?(e[c].d++,y-=1<<t-i-1):c++;for(;c>=0;c--)e[c].d==t&&y<0&&(e[c].d--,y++);y!=0&&console.log("debt left")},o.F._goodIndex=function(e,t){var u=0;return t[16|u]<=e&&(u|=16),t[8|u]<=e&&(u|=8),t[4|u]<=e&&(u|=4),t[2|u]<=e&&(u|=2),t[1|u]<=e&&(u|=1),u},o.F._writeLit=function(e,t,u,c){return o.F._putsF(u,c,t[e<<1]),c+t[1+(e<<1)]},o.F.inflate=function(e,t){var u=Uint8Array;if(e[0]==3&&e[1]==0)return t||new u(0);var c=o.F,h=c._bitsF,y=c._bitsE,i=c._decodeTiny,l=c.makeCodes,a=c.codes2map,f=c._get17,b=c.U,w=t==null;w&&(t=new u(e.length>>>2<<3));for(var E,U,D=0,P=0,k=0,O=0,A=0,V=0,m=0,s=0,v=0;D==0;)if(D=h(e,v,1),P=h(e,v+1,2),v+=3,P!=0){if(w&&(t=o.F._check(t,s+(1<<17))),P==1&&(E=b.flmap,U=b.fdmap,V=511,m=31),P==2){k=y(e,v,5)+257,O=y(e,v+5,5)+1,A=y(e,v+10,4)+4,v+=14;for(var g=0;g<38;g+=2)b.itree[g]=0,b.itree[g+1]=0;var T=1;for(g=0;g<A;g++){var C=y(e,v+3*g,3);b.itree[1+(b.ordr[g]<<1)]=C,C>T&&(T=C)}v+=3*A,l(b.itree,T),a(b.itree,T,b.imap),E=b.lmap,U=b.dmap,v=i(b.imap,(1<<T)-1,k+O,e,v,b.ttree);var R=c._copyOut(b.ttree,0,k,b.ltree);V=(1<<R)-1;var S=c._copyOut(b.ttree,k,O,b.dtree);m=(1<<S)-1,l(b.ltree,R),a(b.ltree,R,E),l(b.dtree,S),a(b.dtree,S,U)}for(;;){var _=E[f(e,v)&V];v+=15&_;var p=_>>>4;if(!(p>>>8))t[s++]=p;else{if(p==256)break;var N=s+p-254;if(p>264){var I=b.ldef[p-257];N=s+(I>>>3)+y(e,v,7&I),v+=7&I}var M=U[f(e,v)&m];v+=15&M;var q=M>>>4,B=b.ddef[q],z=(B>>>4)+h(e,v,15&B);for(v+=15&B,w&&(t=o.F._check(t,s+(1<<17)));s<N;)t[s]=t[s++-z],t[s]=t[s++-z],t[s]=t[s++-z],t[s]=t[s++-z];s=N}}}else{7&v&&(v+=8-(7&v));var L=4+(v>>>3),x=e[L-4]|e[L-3]<<8;w&&(t=o.F._check(t,s+x)),t.set(new u(e.buffer,e.byteOffset+L,x),s),v=L+x<<3,s+=x}return t.length==s?t:t.slice(0,s)},o.F._check=function(e,t){var u=e.length;if(t<=u)return e;var c=new Uint8Array(Math.max(u<<1,t));return c.set(e,0),c},o.F._decodeTiny=function(e,t,u,c,h,y){for(var i=o.F._bitsE,l=o.F._get17,a=0;a<u;){var f=e[l(c,h)&t];h+=15&f;var b=f>>>4;if(b<=15)y[a]=b,a++;else{var w=0,E=0;b==16?(E=3+i(c,h,2),h+=2,w=y[a-1]):b==17?(E=3+i(c,h,3),h+=3):b==18&&(E=11+i(c,h,7),h+=7);for(var U=a+E;a<U;)y[a]=w,a++}}return h},o.F._copyOut=function(e,t,u,c){for(var h=0,y=0,i=c.length>>>1;y<u;){var l=e[y+t];c[y<<1]=0,c[1+(y<<1)]=l,l>h&&(h=l),y++}for(;y<i;)c[y<<1]=0,c[1+(y<<1)]=0,y++;return h},o.F.makeCodes=function(e,t){for(var u,c,h,y,i=o.F.U,l=e.length,a=i.bl_count,f=0;f<=t;f++)a[f]=0;for(f=1;f<l;f+=2)a[e[f]]++;var b=i.next_code;for(u=0,a[0]=0,c=1;c<=t;c++)u=u+a[c-1]<<1,b[c]=u;for(h=0;h<l;h+=2)(y=e[h+1])!=0&&(e[h]=b[y],b[y]++)},o.F.codes2map=function(e,t,u){for(var c=e.length,h=o.F.U.rev15,y=0;y<c;y+=2)if(e[y+1]!=0)for(var i=y>>1,l=e[y+1],a=i<<4|l,f=t-l,b=e[y]<<f,w=b+(1<<f);b!=w;)u[h[b]>>>15-t]=a,b++},o.F.revCodes=function(e,t){for(var u=o.F.U.rev15,c=15-t,h=0;h<e.length;h+=2){var y=e[h]<<t-e[h+1];e[h]=u[y]>>>c}},o.F._putsE=function(e,t,u){u<<=7&t;var c=t>>>3;e[c]|=u,e[c+1]|=u>>>8},o.F._putsF=function(e,t,u){u<<=7&t;var c=t>>>3;e[c]|=u,e[c+1]|=u>>>8,e[c+2]|=u>>>16},o.F._bitsE=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<u)-1},o.F._bitsF=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<u)-1},o.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},o.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},o.F.U=(n=Uint16Array,d=Uint32Array,{next_code:new n(16),bl_count:new n(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new n(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new d(32),flmap:new n(512),fltree:[],fdmap:new n(32),fdtree:[],lmap:new n(32768),ltree:[],ttree:[],dmap:new n(32768),dtree:[],imap:new n(512),itree:[],rev15:new n(32768),lhst:new d(286),dhst:new d(30),ihst:new d(19),lits:new d(15e3),strt:new n(65536),prev:new n(32768)}),function(){for(var e=o.F.U,t=0;t<32768;t++){var u=t;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,e.rev15[t]=(u>>>16|u<<16)>>>17}function c(h,y,i){for(;y--!=0;)h.push(0,i)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];c(e.fltree,144,8),c(e.fltree,112,9),c(e.fltree,24,7),c(e.fltree,8,8),o.F.makeCodes(e.fltree,9),o.F.codes2map(e.fltree,9,e.flmap),o.F.revCodes(e.fltree,9),c(e.fdtree,32,5),o.F.makeCodes(e.fdtree,5),o.F.codes2map(e.fdtree,5,e.fdmap),o.F.revCodes(e.fdtree,5),c(e.itree,19,0),c(e.ltree,286,0),c(e.dtree,30,0),c(e.ttree,320,0)}()})();var wr=vr({__proto__:null,default:At},[At]);const Ue=function(){var r={nextZero(i,l){for(;i[l]!=0;)l++;return l},readUshort:(i,l)=>i[l]<<8|i[l+1],writeUshort(i,l,a){i[l]=a>>8&255,i[l+1]=255&a},readUint:(i,l)=>16777216*i[l]+(i[l+1]<<16|i[l+2]<<8|i[l+3]),writeUint(i,l,a){i[l]=a>>24&255,i[l+1]=a>>16&255,i[l+2]=a>>8&255,i[l+3]=255&a},readASCII(i,l,a){let f="";for(let b=0;b<a;b++)f+=String.fromCharCode(i[l+b]);return f},writeASCII(i,l,a){for(let f=0;f<a.length;f++)i[l+f]=a.charCodeAt(f)},readBytes(i,l,a){const f=[];for(let b=0;b<a;b++)f.push(i[l+b]);return f},pad:i=>i.length<2?`0${i}`:i,readUTF8(i,l,a){let f,b="";for(let w=0;w<a;w++)b+=`%${r.pad(i[l+w].toString(16))}`;try{f=decodeURIComponent(b)}catch{return r.readASCII(i,l,a)}return f}};function n(i,l,a,f){const b=l*a,w=t(f),E=Math.ceil(l*w/8),U=new Uint8Array(4*b),D=new Uint32Array(U.buffer),{ctype:P}=f,{depth:k}=f,O=r.readUshort;if(P==6){const I=b<<2;if(k==8)for(var A=0;A<I;A+=4)U[A]=i[A],U[A+1]=i[A+1],U[A+2]=i[A+2],U[A+3]=i[A+3];if(k==16)for(A=0;A<I;A++)U[A]=i[A<<1]}else if(P==2){const I=f.tabs.tRNS;if(I==null){if(k==8)for(A=0;A<b;A++){var V=3*A;D[A]=255<<24|i[V+2]<<16|i[V+1]<<8|i[V]}if(k==16)for(A=0;A<b;A++)V=6*A,D[A]=255<<24|i[V+4]<<16|i[V+2]<<8|i[V]}else{var m=I[0];const M=I[1],q=I[2];if(k==8)for(A=0;A<b;A++){var s=A<<2;V=3*A,D[A]=255<<24|i[V+2]<<16|i[V+1]<<8|i[V],i[V]==m&&i[V+1]==M&&i[V+2]==q&&(U[s+3]=0)}if(k==16)for(A=0;A<b;A++)s=A<<2,V=6*A,D[A]=255<<24|i[V+4]<<16|i[V+2]<<8|i[V],O(i,V)==m&&O(i,V+2)==M&&O(i,V+4)==q&&(U[s+3]=0)}}else if(P==3){const I=f.tabs.PLTE,M=f.tabs.tRNS,q=M?M.length:0;if(k==1)for(var v=0;v<a;v++){var g=v*E,T=v*l;for(A=0;A<l;A++){s=T+A<<2;var C=3*(R=i[g+(A>>3)]>>7-((7&A)<<0)&1);U[s]=I[C],U[s+1]=I[C+1],U[s+2]=I[C+2],U[s+3]=R<q?M[R]:255}}if(k==2)for(v=0;v<a;v++)for(g=v*E,T=v*l,A=0;A<l;A++)s=T+A<<2,C=3*(R=i[g+(A>>2)]>>6-((3&A)<<1)&3),U[s]=I[C],U[s+1]=I[C+1],U[s+2]=I[C+2],U[s+3]=R<q?M[R]:255;if(k==4)for(v=0;v<a;v++)for(g=v*E,T=v*l,A=0;A<l;A++)s=T+A<<2,C=3*(R=i[g+(A>>1)]>>4-((1&A)<<2)&15),U[s]=I[C],U[s+1]=I[C+1],U[s+2]=I[C+2],U[s+3]=R<q?M[R]:255;if(k==8)for(A=0;A<b;A++){var R;s=A<<2,C=3*(R=i[A]),U[s]=I[C],U[s+1]=I[C+1],U[s+2]=I[C+2],U[s+3]=R<q?M[R]:255}}else if(P==4){if(k==8)for(A=0;A<b;A++){s=A<<2;var S=i[_=A<<1];U[s]=S,U[s+1]=S,U[s+2]=S,U[s+3]=i[_+1]}if(k==16)for(A=0;A<b;A++){var _;s=A<<2,S=i[_=A<<2],U[s]=S,U[s+1]=S,U[s+2]=S,U[s+3]=i[_+2]}}else if(P==0)for(m=f.tabs.tRNS?f.tabs.tRNS:-1,v=0;v<a;v++){const I=v*E,M=v*l;if(k==1)for(var p=0;p<l;p++){var N=(S=255*(i[I+(p>>>3)]>>>7-(7&p)&1))==255*m?0:255;D[M+p]=N<<24|S<<16|S<<8|S}else if(k==2)for(p=0;p<l;p++)N=(S=85*(i[I+(p>>>2)]>>>6-((3&p)<<1)&3))==85*m?0:255,D[M+p]=N<<24|S<<16|S<<8|S;else if(k==4)for(p=0;p<l;p++)N=(S=17*(i[I+(p>>>1)]>>>4-((1&p)<<2)&15))==17*m?0:255,D[M+p]=N<<24|S<<16|S<<8|S;else if(k==8)for(p=0;p<l;p++)N=(S=i[I+p])==m?0:255,D[M+p]=N<<24|S<<16|S<<8|S;else if(k==16)for(p=0;p<l;p++)S=i[I+(p<<1)],N=O(i,I+(p<<1))==m?0:255,D[M+p]=N<<24|S<<16|S<<8|S}return U}function d(i,l,a,f){const b=t(i),w=Math.ceil(a*b/8),E=new Uint8Array((w+1+i.interlace)*f);return l=i.tabs.CgBI?e(l,E):o(l,E),i.interlace==0?l=u(l,i,0,a,f):i.interlace==1&&(l=function(D,P){const k=P.width,O=P.height,A=t(P),V=A>>3,m=Math.ceil(k*A/8),s=new Uint8Array(O*m);let v=0;const g=[0,0,4,0,2,0,1],T=[0,4,0,2,0,1,0],C=[8,8,8,4,4,2,2],R=[8,8,4,4,2,2,1];let S=0;for(;S<7;){const p=C[S],N=R[S];let I=0,M=0,q=g[S];for(;q<O;)q+=p,M++;let B=T[S];for(;B<k;)B+=N,I++;const z=Math.ceil(I*A/8);u(D,P,v,I,M);let L=0,x=g[S];for(;x<O;){let j=T[S],X=v+L*z<<3;for(;j<k;){var _;if(A==1&&(_=(_=D[X>>3])>>7-(7&X)&1,s[x*m+(j>>3)]|=_<<7-((7&j)<<0)),A==2&&(_=(_=D[X>>3])>>6-(7&X)&3,s[x*m+(j>>2)]|=_<<6-((3&j)<<1)),A==4&&(_=(_=D[X>>3])>>4-(7&X)&15,s[x*m+(j>>1)]|=_<<4-((1&j)<<2)),A>=8){const Q=x*m+j*V;for(let W=0;W<V;W++)s[Q+W]=D[(X>>3)+W]}X+=A,j+=N}L++,x+=p}I*M!=0&&(v+=M*(1+z)),S+=1}return s}(l,i)),l}function o(i,l){return e(new Uint8Array(i.buffer,2,i.length-6),l)}var e=function(){const i={H:{}};return i.H.N=function(l,a){const f=Uint8Array;let b,w,E=0,U=0,D=0,P=0,k=0,O=0,A=0,V=0,m=0;if(l[0]==3&&l[1]==0)return a||new f(0);const s=i.H,v=s.b,g=s.e,T=s.R,C=s.n,R=s.A,S=s.Z,_=s.m,p=a==null;for(p&&(a=new f(l.length>>>2<<5));E==0;)if(E=v(l,m,1),U=v(l,m+1,2),m+=3,U!=0){if(p&&(a=i.H.W(a,V+(1<<17))),U==1&&(b=_.J,w=_.h,O=511,A=31),U==2){D=g(l,m,5)+257,P=g(l,m+5,5)+1,k=g(l,m+10,4)+4,m+=14;let I=1;for(var N=0;N<38;N+=2)_.Q[N]=0,_.Q[N+1]=0;for(N=0;N<k;N++){const B=g(l,m+3*N,3);_.Q[1+(_.X[N]<<1)]=B,B>I&&(I=B)}m+=3*k,C(_.Q,I),R(_.Q,I,_.u),b=_.w,w=_.d,m=T(_.u,(1<<I)-1,D+P,l,m,_.v);const M=s.V(_.v,0,D,_.C);O=(1<<M)-1;const q=s.V(_.v,D,P,_.D);A=(1<<q)-1,C(_.C,M),R(_.C,M,b),C(_.D,q),R(_.D,q,w)}for(;;){const I=b[S(l,m)&O];m+=15&I;const M=I>>>4;if(!(M>>>8))a[V++]=M;else{if(M==256)break;{let q=V+M-254;if(M>264){const j=_.q[M-257];q=V+(j>>>3)+g(l,m,7&j),m+=7&j}const B=w[S(l,m)&A];m+=15&B;const z=B>>>4,L=_.c[z],x=(L>>>4)+v(l,m,15&L);for(m+=15&L;V<q;)a[V]=a[V++-x],a[V]=a[V++-x],a[V]=a[V++-x],a[V]=a[V++-x];V=q}}}}else{7&m&&(m+=8-(7&m));const I=4+(m>>>3),M=l[I-4]|l[I-3]<<8;p&&(a=i.H.W(a,V+M)),a.set(new f(l.buffer,l.byteOffset+I,M),V),m=I+M<<3,V+=M}return a.length==V?a:a.slice(0,V)},i.H.W=function(l,a){const f=l.length;if(a<=f)return l;const b=new Uint8Array(f<<1);return b.set(l,0),b},i.H.R=function(l,a,f,b,w,E){const U=i.H.e,D=i.H.Z;let P=0;for(;P<f;){const k=l[D(b,w)&a];w+=15&k;const O=k>>>4;if(O<=15)E[P]=O,P++;else{let A=0,V=0;O==16?(V=3+U(b,w,2),w+=2,A=E[P-1]):O==17?(V=3+U(b,w,3),w+=3):O==18&&(V=11+U(b,w,7),w+=7);const m=P+V;for(;P<m;)E[P]=A,P++}}return w},i.H.V=function(l,a,f,b){let w=0,E=0;const U=b.length>>>1;for(;E<f;){const D=l[E+a];b[E<<1]=0,b[1+(E<<1)]=D,D>w&&(w=D),E++}for(;E<U;)b[E<<1]=0,b[1+(E<<1)]=0,E++;return w},i.H.n=function(l,a){const f=i.H.m,b=l.length;let w,E,U,D;const P=f.j;for(var k=0;k<=a;k++)P[k]=0;for(k=1;k<b;k+=2)P[l[k]]++;const O=f.K;for(w=0,P[0]=0,E=1;E<=a;E++)w=w+P[E-1]<<1,O[E]=w;for(U=0;U<b;U+=2)D=l[U+1],D!=0&&(l[U]=O[D],O[D]++)},i.H.A=function(l,a,f){const b=l.length,w=i.H.m.r;for(let E=0;E<b;E+=2)if(l[E+1]!=0){const U=E>>1,D=l[E+1],P=U<<4|D,k=a-D;let O=l[E]<<k;const A=O+(1<<k);for(;O!=A;)f[w[O]>>>15-a]=P,O++}},i.H.l=function(l,a){const f=i.H.m.r,b=15-a;for(let w=0;w<l.length;w+=2){const E=l[w]<<a-l[w+1];l[w]=f[E]>>>b}},i.H.M=function(l,a,f){f<<=7&a;const b=a>>>3;l[b]|=f,l[b+1]|=f>>>8},i.H.I=function(l,a,f){f<<=7&a;const b=a>>>3;l[b]|=f,l[b+1]|=f>>>8,l[b+2]|=f>>>16},i.H.e=function(l,a,f){return(l[a>>>3]|l[1+(a>>>3)]<<8)>>>(7&a)&(1<<f)-1},i.H.b=function(l,a,f){return(l[a>>>3]|l[1+(a>>>3)]<<8|l[2+(a>>>3)]<<16)>>>(7&a)&(1<<f)-1},i.H.Z=function(l,a){return(l[a>>>3]|l[1+(a>>>3)]<<8|l[2+(a>>>3)]<<16)>>>(7&a)},i.H.i=function(l,a){return(l[a>>>3]|l[1+(a>>>3)]<<8|l[2+(a>>>3)]<<16|l[3+(a>>>3)]<<24)>>>(7&a)},i.H.m=function(){const l=Uint16Array,a=Uint32Array;return{K:new l(16),j:new l(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new l(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new a(32),J:new l(512),_:[],h:new l(32),$:[],w:new l(32768),C:[],v:[],d:new l(32768),D:[],u:new l(512),Q:[],r:new l(32768),s:new a(286),Y:new a(30),a:new a(19),t:new a(15e3),k:new l(65536),g:new l(32768)}}(),function(){const l=i.H.m;for(var a=0;a<32768;a++){let b=a;b=(2863311530&b)>>>1|(1431655765&b)<<1,b=(3435973836&b)>>>2|(858993459&b)<<2,b=(4042322160&b)>>>4|(252645135&b)<<4,b=(4278255360&b)>>>8|(16711935&b)<<8,l.r[a]=(b>>>16|b<<16)>>>17}function f(b,w,E){for(;w--!=0;)b.push(0,E)}for(a=0;a<32;a++)l.q[a]=l.S[a]<<3|l.T[a],l.c[a]=l.p[a]<<4|l.z[a];f(l._,144,8),f(l._,112,9),f(l._,24,7),f(l._,8,8),i.H.n(l._,9),i.H.A(l._,9,l.J),i.H.l(l._,9),f(l.$,32,5),i.H.n(l.$,5),i.H.A(l.$,5,l.h),i.H.l(l.$,5),f(l.Q,19,0),f(l.C,286,0),f(l.D,30,0),f(l.v,320,0)}(),i.H.N}();function t(i){return[1,null,3,1,2,null,4][i.ctype]*i.depth}function u(i,l,a,f,b){let w=t(l);const E=Math.ceil(f*w/8);let U,D;w=Math.ceil(w/8);let P=i[a],k=0;if(P>1&&(i[a]=[0,0,1][P-2]),P==3)for(k=w;k<E;k++)i[k+1]=i[k+1]+(i[k+1-w]>>>1)&255;for(let O=0;O<b;O++)if(U=a+O*E,D=U+O+1,P=i[D-1],k=0,P==0)for(;k<E;k++)i[U+k]=i[D+k];else if(P==1){for(;k<w;k++)i[U+k]=i[D+k];for(;k<E;k++)i[U+k]=i[D+k]+i[U+k-w]}else if(P==2)for(;k<E;k++)i[U+k]=i[D+k]+i[U+k-E];else if(P==3){for(;k<w;k++)i[U+k]=i[D+k]+(i[U+k-E]>>>1);for(;k<E;k++)i[U+k]=i[D+k]+(i[U+k-E]+i[U+k-w]>>>1)}else{for(;k<w;k++)i[U+k]=i[D+k]+c(0,i[U+k-E],0);for(;k<E;k++)i[U+k]=i[D+k]+c(i[U+k-w],i[U+k-E],i[U+k-w-E])}return i}function c(i,l,a){const f=i+l-a,b=f-i,w=f-l,E=f-a;return b*b<=w*w&&b*b<=E*E?i:w*w<=E*E?l:a}function h(i,l,a){a.width=r.readUint(i,l),l+=4,a.height=r.readUint(i,l),l+=4,a.depth=i[l],l++,a.ctype=i[l],l++,a.compress=i[l],l++,a.filter=i[l],l++,a.interlace=i[l],l++}function y(i,l,a,f,b,w,E,U,D){const P=Math.min(l,b),k=Math.min(a,w);let O=0,A=0;for(let S=0;S<k;S++)for(let _=0;_<P;_++)if(E>=0&&U>=0?(O=S*l+_<<2,A=(U+S)*b+E+_<<2):(O=(-U+S)*l-E+_<<2,A=S*b+_<<2),D==0)f[A]=i[O],f[A+1]=i[O+1],f[A+2]=i[O+2],f[A+3]=i[O+3];else if(D==1){var V=i[O+3]*.00392156862745098,m=i[O]*V,s=i[O+1]*V,v=i[O+2]*V,g=f[A+3]*(1/255),T=f[A]*g,C=f[A+1]*g,R=f[A+2]*g;const p=1-V,N=V+g*p,I=N==0?0:1/N;f[A+3]=255*N,f[A+0]=(m+T*p)*I,f[A+1]=(s+C*p)*I,f[A+2]=(v+R*p)*I}else if(D==2)V=i[O+3],m=i[O],s=i[O+1],v=i[O+2],g=f[A+3],T=f[A],C=f[A+1],R=f[A+2],V==g&&m==T&&s==C&&v==R?(f[A]=0,f[A+1]=0,f[A+2]=0,f[A+3]=0):(f[A]=m,f[A+1]=s,f[A+2]=v,f[A+3]=V);else if(D==3){if(V=i[O+3],m=i[O],s=i[O+1],v=i[O+2],g=f[A+3],T=f[A],C=f[A+1],R=f[A+2],V==g&&m==T&&s==C&&v==R)continue;if(V<220&&g>20)return!1}return!0}return{decode:function(l){const a=new Uint8Array(l);let f=8;const b=r,w=b.readUshort,E=b.readUint,U={tabs:{},frames:[]},D=new Uint8Array(a.length);let P,k=0,O=0;const A=[137,80,78,71,13,10,26,10];for(var V=0;V<8;V++)if(a[V]!=A[V])throw"The input is not a PNG file!";for(;f<a.length;){const S=b.readUint(a,f);f+=4;const _=b.readASCII(a,f,4);if(f+=4,_=="IHDR")h(a,f,U);else if(_=="iCCP"){for(var m=f;a[m]!=0;)m++;b.readASCII(a,f,m-f),a[m+1];const p=a.slice(m+2,f+S);let N=null;try{N=o(p)}catch{N=e(p)}U.tabs[_]=N}else if(_=="CgBI")U.tabs[_]=a.slice(f,f+4);else if(_=="IDAT"){for(V=0;V<S;V++)D[k+V]=a[f+V];k+=S}else if(_=="acTL")U.tabs[_]={num_frames:E(a,f),num_plays:E(a,f+4)},P=new Uint8Array(a.length);else if(_=="fcTL"){O!=0&&((R=U.frames[U.frames.length-1]).data=d(U,P.slice(0,O),R.rect.width,R.rect.height),O=0);const p={x:E(a,f+12),y:E(a,f+16),width:E(a,f+4),height:E(a,f+8)};let N=w(a,f+22);N=w(a,f+20)/(N==0?100:N);const I={rect:p,delay:Math.round(1e3*N),dispose:a[f+24],blend:a[f+25]};U.frames.push(I)}else if(_=="fdAT"){for(V=0;V<S-4;V++)P[O+V]=a[f+V+4];O+=S-4}else if(_=="pHYs")U.tabs[_]=[b.readUint(a,f),b.readUint(a,f+4),a[f+8]];else if(_=="cHRM")for(U.tabs[_]=[],V=0;V<8;V++)U.tabs[_].push(b.readUint(a,f+4*V));else if(_=="tEXt"||_=="zTXt"){U.tabs[_]==null&&(U.tabs[_]={});var s=b.nextZero(a,f),v=b.readASCII(a,f,s-f),g=f+S-s-1;if(_=="tEXt")C=b.readASCII(a,s+1,g);else{var T=o(a.slice(s+2,s+2+g));C=b.readUTF8(T,0,T.length)}U.tabs[_][v]=C}else if(_=="iTXt"){U.tabs[_]==null&&(U.tabs[_]={}),s=0,m=f,s=b.nextZero(a,m),v=b.readASCII(a,m,s-m);const p=a[m=s+1];var C;a[m+1],m+=2,s=b.nextZero(a,m),b.readASCII(a,m,s-m),m=s+1,s=b.nextZero(a,m),b.readUTF8(a,m,s-m),g=S-((m=s+1)-f),p==0?C=b.readUTF8(a,m,g):(T=o(a.slice(m,m+g)),C=b.readUTF8(T,0,T.length)),U.tabs[_][v]=C}else if(_=="PLTE")U.tabs[_]=b.readBytes(a,f,S);else if(_=="hIST"){const p=U.tabs.PLTE.length/3;for(U.tabs[_]=[],V=0;V<p;V++)U.tabs[_].push(w(a,f+2*V))}else if(_=="tRNS")U.ctype==3?U.tabs[_]=b.readBytes(a,f,S):U.ctype==0?U.tabs[_]=w(a,f):U.ctype==2&&(U.tabs[_]=[w(a,f),w(a,f+2),w(a,f+4)]);else if(_=="gAMA")U.tabs[_]=b.readUint(a,f)/1e5;else if(_=="sRGB")U.tabs[_]=a[f];else if(_=="bKGD")U.ctype==0||U.ctype==4?U.tabs[_]=[w(a,f)]:U.ctype==2||U.ctype==6?U.tabs[_]=[w(a,f),w(a,f+2),w(a,f+4)]:U.ctype==3&&(U.tabs[_]=a[f]);else if(_=="IEND")break;f+=S,b.readUint(a,f),f+=4}var R;return O!=0&&((R=U.frames[U.frames.length-1]).data=d(U,P.slice(0,O),R.rect.width,R.rect.height)),U.data=d(U,D,U.width,U.height),delete U.compress,delete U.interlace,delete U.filter,U},toRGBA8:function(l){const a=l.width,f=l.height;if(l.tabs.acTL==null)return[n(l.data,a,f,l).buffer];const b=[];l.frames[0].data==null&&(l.frames[0].data=l.data);const w=a*f*4,E=new Uint8Array(w),U=new Uint8Array(w),D=new Uint8Array(w);for(let k=0;k<l.frames.length;k++){const O=l.frames[k],A=O.rect.x,V=O.rect.y,m=O.rect.width,s=O.rect.height,v=n(O.data,m,s,l);if(k!=0)for(var P=0;P<w;P++)D[P]=E[P];if(O.blend==0?y(v,m,s,E,a,f,A,V,0):O.blend==1&&y(v,m,s,E,a,f,A,V,1),b.push(E.buffer.slice(0)),O.dispose!=0){if(O.dispose==1)y(U,m,s,E,a,f,A,V,0);else if(O.dispose==2)for(P=0;P<w;P++)E[P]=D[P]}}return b},_paeth:c,_copyTile:y,_bin:r}}();(function(){const{_copyTile:r}=Ue,{_bin:n}=Ue,d=Ue._paeth;var o={table:function(){const m=new Uint32Array(256);for(let s=0;s<256;s++){let v=s;for(let g=0;g<8;g++)1&v?v=3988292384^v>>>1:v>>>=1;m[s]=v}return m}(),update(m,s,v,g){for(let T=0;T<g;T++)m=o.table[255&(m^s[v+T])]^m>>>8;return m},crc:(m,s,v)=>4294967295^o.update(4294967295,m,s,v)};function e(m,s,v,g){s[v]+=m[0]*g>>4,s[v+1]+=m[1]*g>>4,s[v+2]+=m[2]*g>>4,s[v+3]+=m[3]*g>>4}function t(m){return Math.max(0,Math.min(255,m))}function u(m,s){const v=m[0]-s[0],g=m[1]-s[1],T=m[2]-s[2],C=m[3]-s[3];return v*v+g*g+T*T+C*C}function c(m,s,v,g,T,C,R){R==null&&(R=1);const S=g.length,_=[];for(var p=0;p<S;p++){const x=g[p];_.push([x>>>0&255,x>>>8&255,x>>>16&255,x>>>24&255])}for(p=0;p<S;p++){let x=4294967295;for(var N=0,I=0;I<S;I++){var M=u(_[p],_[I]);I!=p&&M<x&&(x=M,N=I)}}const q=new Uint32Array(T.buffer),B=new Int16Array(s*v*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(p=0;p<z.length;p++)z[p]=255*((z[p]+.5)/16-.5);for(let x=0;x<v;x++)for(let j=0;j<s;j++){var L;p=4*(x*s+j),R!=2?L=[t(m[p]+B[p]),t(m[p+1]+B[p+1]),t(m[p+2]+B[p+2]),t(m[p+3]+B[p+3])]:(M=z[4*(3&x)+(3&j)],L=[t(m[p]+M),t(m[p+1]+M),t(m[p+2]+M),t(m[p+3]+M)]),N=0;let X=16777215;for(I=0;I<S;I++){const K=u(L,_[I]);K<X&&(X=K,N=I)}const Q=_[N],W=[L[0]-Q[0],L[1]-Q[1],L[2]-Q[2],L[3]-Q[3]];R==1&&(j!=s-1&&e(W,B,p+4,7),x!=v-1&&(j!=0&&e(W,B,p+4*s-4,3),e(W,B,p+4*s,5),j!=s-1&&e(W,B,p+4*s+4,1))),C[p>>2]=N,q[p>>2]=g[N]}}function h(m,s,v,g,T){T==null&&(T={});const{crc:C}=o,R=n.writeUint,S=n.writeUshort,_=n.writeASCII;let p=8;const N=m.frames.length>1;let I,M=!1,q=33+(N?20:0);if(T.sRGB!=null&&(q+=13),T.pHYs!=null&&(q+=21),T.iCCP!=null&&(I=pako.deflate(T.iCCP),q+=21+I.length+4),m.ctype==3){for(var B=m.plte.length,z=0;z<B;z++)m.plte[z]>>>24!=255&&(M=!0);q+=8+3*B+4+(M?8+1*B+4:0)}for(var L=0;L<m.frames.length;L++)N&&(q+=38),q+=(Q=m.frames[L]).cimg.length+12,L!=0&&(q+=4);q+=12;const x=new Uint8Array(q),j=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)x[z]=j[z];if(R(x,p,13),p+=4,_(x,p,"IHDR"),p+=4,R(x,p,s),p+=4,R(x,p,v),p+=4,x[p]=m.depth,p++,x[p]=m.ctype,p++,x[p]=0,p++,x[p]=0,p++,x[p]=0,p++,R(x,p,C(x,p-17,17)),p+=4,T.sRGB!=null&&(R(x,p,1),p+=4,_(x,p,"sRGB"),p+=4,x[p]=T.sRGB,p++,R(x,p,C(x,p-5,5)),p+=4),T.iCCP!=null){const W=13+I.length;R(x,p,W),p+=4,_(x,p,"iCCP"),p+=4,_(x,p,"ICC profile"),p+=11,p+=2,x.set(I,p),p+=I.length,R(x,p,C(x,p-(W+4),W+4)),p+=4}if(T.pHYs!=null&&(R(x,p,9),p+=4,_(x,p,"pHYs"),p+=4,R(x,p,T.pHYs[0]),p+=4,R(x,p,T.pHYs[1]),p+=4,x[p]=T.pHYs[2],p++,R(x,p,C(x,p-13,13)),p+=4),N&&(R(x,p,8),p+=4,_(x,p,"acTL"),p+=4,R(x,p,m.frames.length),p+=4,R(x,p,T.loop!=null?T.loop:0),p+=4,R(x,p,C(x,p-12,12)),p+=4),m.ctype==3){for(R(x,p,3*(B=m.plte.length)),p+=4,_(x,p,"PLTE"),p+=4,z=0;z<B;z++){const W=3*z,K=m.plte[z],re=255&K,ae=K>>>8&255,Me=K>>>16&255;x[p+W+0]=re,x[p+W+1]=ae,x[p+W+2]=Me}if(p+=3*B,R(x,p,C(x,p-3*B-4,3*B+4)),p+=4,M){for(R(x,p,B),p+=4,_(x,p,"tRNS"),p+=4,z=0;z<B;z++)x[p+z]=m.plte[z]>>>24&255;p+=B,R(x,p,C(x,p-B-4,B+4)),p+=4}}let X=0;for(L=0;L<m.frames.length;L++){var Q=m.frames[L];N&&(R(x,p,26),p+=4,_(x,p,"fcTL"),p+=4,R(x,p,X++),p+=4,R(x,p,Q.rect.width),p+=4,R(x,p,Q.rect.height),p+=4,R(x,p,Q.rect.x),p+=4,R(x,p,Q.rect.y),p+=4,S(x,p,g[L]),p+=2,S(x,p,1e3),p+=2,x[p]=Q.dispose,p++,x[p]=Q.blend,p++,R(x,p,C(x,p-30,30)),p+=4);const W=Q.cimg;R(x,p,(B=W.length)+(L==0?0:4)),p+=4;const K=p;_(x,p,L==0?"IDAT":"fdAT"),p+=4,L!=0&&(R(x,p,X++),p+=4),x.set(W,p),p+=B,R(x,p,C(x,K,p-K)),p+=4}return R(x,p,0),p+=4,_(x,p,"IEND"),p+=4,R(x,p,C(x,p-4,4)),p+=4,x.buffer}function y(m,s,v){for(let g=0;g<m.frames.length;g++){const T=m.frames[g];T.rect.width;const C=T.rect.height,R=new Uint8Array(C*T.bpl+C);T.cimg=f(T.img,C,T.bpp,T.bpl,R,s,v)}}function i(m,s,v,g,T){const C=T[0],R=T[1],S=T[2],_=T[3],p=T[4],N=T[5];let I=6,M=8,q=255;for(var B=0;B<m.length;B++){const ue=new Uint8Array(m[B]);for(var z=ue.length,L=0;L<z;L+=4)q&=ue[L+3]}const x=q!=255,j=function(ee,Z,le,fe,oe,_e){const se=[];for(var Y=0;Y<ee.length;Y++){const he=new Uint8Array(ee[Y]),Ae=new Uint32Array(he.buffer);var ve;let we=0,Se=0,Te=Z,Be=le,St=fe?1:0;if(Y!=0){const Nn=_e||fe||Y==1||se[Y-2].dispose!=0?1:2;let Pt=0,Gt=1e9;for(let et=0;et<Nn;et++){var Ve=new Uint8Array(ee[Y-1-et]);const Dn=new Uint32Array(ee[Y-1-et]);let xe=Z,Oe=le,We=-1,tt=-1;for(let He=0;He<le;He++)for(let ze=0;ze<Z;ze++)Ae[ce=He*Z+ze]!=Dn[ce]&&(ze<xe&&(xe=ze),ze>We&&(We=ze),He<Oe&&(Oe=He),He>tt&&(tt=He));We==-1&&(xe=Oe=We=tt=0),oe&&((1&xe)==1&&xe--,(1&Oe)==1&&Oe--);const Wt=(We-xe+1)*(tt-Oe+1);Wt<Gt&&(Gt=Wt,Pt=et,we=xe,Se=Oe,Te=We-xe+1,Be=tt-Oe+1)}Ve=new Uint8Array(ee[Y-1-Pt]),Pt==1&&(se[Y-1].dispose=2),ve=new Uint8Array(Te*Be*4),r(Ve,Z,le,ve,Te,Be,-we,-Se,0),St=r(he,Z,le,ve,Te,Be,-we,-Se,3)?1:0,St==1?a(he,Z,le,ve,{x:we,y:Se,width:Te,height:Be}):r(he,Z,le,ve,Te,Be,-we,-Se,0)}else ve=he.slice(0);se.push({rect:{x:we,y:Se,width:Te,height:Be},img:ve,blend:St,dispose:0})}if(fe)for(Y=0;Y<se.length;Y++){if((Le=se[Y]).blend==1)continue;const he=Le.rect,Ae=se[Y-1].rect,we=Math.min(he.x,Ae.x),Se=Math.min(he.y,Ae.y),Te={x:we,y:Se,width:Math.max(he.x+he.width,Ae.x+Ae.width)-we,height:Math.max(he.y+he.height,Ae.y+Ae.height)-Se};se[Y-1].dispose=1,Y-1!=0&&l(ee,Z,le,se,Y-1,Te,oe),l(ee,Z,le,se,Y,Te,oe)}let gt=0;if(ee.length!=1)for(var ce=0;ce<se.length;ce++){var Le;gt+=(Le=se[ce]).rect.width*Le.rect.height}return se}(m,s,v,C,R,S),X={},Q=[],W=[];if(g!=0){const ue=[];for(L=0;L<j.length;L++)ue.push(j[L].img.buffer);const ee=function(oe){let _e=0;for(var se=0;se<oe.length;se++)_e+=oe[se].byteLength;const Y=new Uint8Array(_e);let ve=0;for(se=0;se<oe.length;se++){const Ve=new Uint8Array(oe[se]),gt=Ve.length;for(let ce=0;ce<gt;ce+=4){let Le=Ve[ce],he=Ve[ce+1],Ae=Ve[ce+2];const we=Ve[ce+3];we==0&&(Le=he=Ae=0),Y[ve+ce]=Le,Y[ve+ce+1]=he,Y[ve+ce+2]=Ae,Y[ve+ce+3]=we}ve+=gt}return Y.buffer}(ue),Z=w(ee,g);for(L=0;L<Z.plte.length;L++)Q.push(Z.plte[L].est.rgba);let le=0;for(L=0;L<j.length;L++){const fe=(re=j[L]).img.length;var K=new Uint8Array(Z.inds.buffer,le>>2,fe>>2);W.push(K);const oe=new Uint8Array(Z.abuf,le,fe);N&&c(re.img,re.rect.width,re.rect.height,Q,oe,K),re.img.set(oe),le+=fe}}else for(B=0;B<j.length;B++){var re=j[B];const ue=new Uint32Array(re.img.buffer);var ae=re.rect.width;for(z=ue.length,K=new Uint8Array(z),W.push(K),L=0;L<z;L++){const ee=ue[L];if(L!=0&&ee==ue[L-1])K[L]=K[L-1];else if(L>ae&&ee==ue[L-ae])K[L]=K[L-ae];else{let Z=X[ee];if(Z==null&&(X[ee]=Z=Q.length,Q.push(ee),Q.length>=300))break;K[L]=Z}}}const Me=Q.length;for(Me<=256&&p==0&&(M=Me<=2?1:Me<=4?2:Me<=16?4:8,M=Math.max(M,_)),B=0;B<j.length;B++){(re=j[B]).rect.x,re.rect.y,ae=re.rect.width;const ue=re.rect.height;let ee=re.img;new Uint32Array(ee.buffer);let Z=4*ae,le=4;if(Me<=256&&p==0){Z=Math.ceil(M*ae/8);var Re=new Uint8Array(Z*ue);const fe=W[B];for(let oe=0;oe<ue;oe++){L=oe*Z;const _e=oe*ae;if(M==8)for(var ne=0;ne<ae;ne++)Re[L+ne]=fe[_e+ne];else if(M==4)for(ne=0;ne<ae;ne++)Re[L+(ne>>1)]|=fe[_e+ne]<<4-4*(1&ne);else if(M==2)for(ne=0;ne<ae;ne++)Re[L+(ne>>2)]|=fe[_e+ne]<<6-2*(3&ne);else if(M==1)for(ne=0;ne<ae;ne++)Re[L+(ne>>3)]|=fe[_e+ne]<<7-1*(7&ne)}ee=Re,I=3,le=1}else if(x==0&&j.length==1){Re=new Uint8Array(ae*ue*3);const fe=ae*ue;for(L=0;L<fe;L++){const oe=3*L,_e=4*L;Re[oe]=ee[_e],Re[oe+1]=ee[_e+1],Re[oe+2]=ee[_e+2]}ee=Re,I=2,le=3,Z=3*ae}re.img=ee,re.bpl=Z,re.bpp=le}return{ctype:I,depth:M,plte:Q,frames:j}}function l(m,s,v,g,T,C,R){const S=Uint8Array,_=Uint32Array,p=new S(m[T-1]),N=new _(m[T-1]),I=T+1<m.length?new S(m[T+1]):null,M=new S(m[T]),q=new _(M.buffer);let B=s,z=v,L=-1,x=-1;for(let X=0;X<C.height;X++)for(let Q=0;Q<C.width;Q++){const W=C.x+Q,K=C.y+X,re=K*s+W,ae=q[re];ae==0||g[T-1].dispose==0&&N[re]==ae&&(I==null||I[4*re+3]!=0)||(W<B&&(B=W),W>L&&(L=W),K<z&&(z=K),K>x&&(x=K))}L==-1&&(B=z=L=x=0),R&&((1&B)==1&&B--,(1&z)==1&&z--),C={x:B,y:z,width:L-B+1,height:x-z+1};const j=g[T];j.rect=C,j.blend=1,j.img=new Uint8Array(C.width*C.height*4),g[T-1].dispose==0?(r(p,s,v,j.img,C.width,C.height,-C.x,-C.y,0),a(M,s,v,j.img,C)):r(M,s,v,j.img,C.width,C.height,-C.x,-C.y,0)}function a(m,s,v,g,T){r(m,s,v,g,T.width,T.height,-T.x,-T.y,2)}function f(m,s,v,g,T,C,R){const S=[];let _,p=[0,1,2,3,4];C!=-1?p=[C]:(s*g>5e5||v==1)&&(p=[0]),R&&(_={level:0});const N=wr;for(var I=0;I<p.length;I++){for(let B=0;B<s;B++)b(T,m,B,g,v,p[I]);S.push(N.deflate(T,_))}let M,q=1e9;for(I=0;I<S.length;I++)S[I].length<q&&(M=I,q=S[I].length);return S[M]}function b(m,s,v,g,T,C){const R=v*g;let S=R+v;if(m[S]=C,S++,C==0)if(g<500)for(var _=0;_<g;_++)m[S+_]=s[R+_];else m.set(new Uint8Array(s.buffer,R,g),S);else if(C==1){for(_=0;_<T;_++)m[S+_]=s[R+_];for(_=T;_<g;_++)m[S+_]=s[R+_]-s[R+_-T]+256&255}else if(v==0){for(_=0;_<T;_++)m[S+_]=s[R+_];if(C==2)for(_=T;_<g;_++)m[S+_]=s[R+_];if(C==3)for(_=T;_<g;_++)m[S+_]=s[R+_]-(s[R+_-T]>>1)+256&255;if(C==4)for(_=T;_<g;_++)m[S+_]=s[R+_]-d(s[R+_-T],0,0)+256&255}else{if(C==2)for(_=0;_<g;_++)m[S+_]=s[R+_]+256-s[R+_-g]&255;if(C==3){for(_=0;_<T;_++)m[S+_]=s[R+_]+256-(s[R+_-g]>>1)&255;for(_=T;_<g;_++)m[S+_]=s[R+_]+256-(s[R+_-g]+s[R+_-T]>>1)&255}if(C==4){for(_=0;_<T;_++)m[S+_]=s[R+_]+256-d(0,s[R+_-g],0)&255;for(_=T;_<g;_++)m[S+_]=s[R+_]+256-d(s[R+_-T],s[R+_-g],s[R+_-T-g])&255}}}function w(m,s){const v=new Uint8Array(m),g=v.slice(0),T=new Uint32Array(g.buffer),C=E(g,s),R=C[0],S=C[1],_=v.length,p=new Uint8Array(_>>2);let N;if(v.length<2e7)for(var I=0;I<_;I+=4)N=U(R,M=v[I]*(1/255),q=v[I+1]*(1/255),B=v[I+2]*(1/255),z=v[I+3]*(1/255)),p[I>>2]=N.ind,T[I>>2]=N.est.rgba;else for(I=0;I<_;I+=4){var M=v[I]*.00392156862745098,q=v[I+1]*(1/255),B=v[I+2]*(1/255),z=v[I+3]*(1/255);for(N=R;N.left;)N=D(N.est,M,q,B,z)<=0?N.left:N.right;p[I>>2]=N.ind,T[I>>2]=N.est.rgba}return{abuf:g.buffer,inds:p,plte:S}}function E(m,s,v){v==null&&(v=1e-4);const g=new Uint32Array(m.buffer),T={i0:0,i1:m.length,bst:null,est:null,tdst:0,left:null,right:null};T.bst=O(m,T.i0,T.i1),T.est=A(T.bst);const C=[T];for(;C.length<s;){let S=0,_=0;for(var R=0;R<C.length;R++)C[R].est.L>S&&(S=C[R].est.L,_=R);if(S<v)break;const p=C[_],N=P(m,g,p.i0,p.i1,p.est.e,p.est.eMq255);if(p.i0>=N||p.i1<=N){p.est.L=0;continue}const I={i0:p.i0,i1:N,bst:null,est:null,tdst:0,left:null,right:null};I.bst=O(m,I.i0,I.i1),I.est=A(I.bst);const M={i0:N,i1:p.i1,bst:null,est:null,tdst:0,left:null,right:null};for(M.bst={R:[],m:[],N:p.bst.N-I.bst.N},R=0;R<16;R++)M.bst.R[R]=p.bst.R[R]-I.bst.R[R];for(R=0;R<4;R++)M.bst.m[R]=p.bst.m[R]-I.bst.m[R];M.est=A(M.bst),p.left=I,p.right=M,C[_]=I,C.push(M)}for(C.sort((S,_)=>_.bst.N-S.bst.N),R=0;R<C.length;R++)C[R].ind=R;return[T,C]}function U(m,s,v,g,T){if(m.left==null)return m.tdst=function(I,M,q,B,z){const L=M-I[0],x=q-I[1],j=B-I[2],X=z-I[3];return L*L+x*x+j*j+X*X}(m.est.q,s,v,g,T),m;const C=D(m.est,s,v,g,T);let R=m.left,S=m.right;C>0&&(R=m.right,S=m.left);const _=U(R,s,v,g,T);if(_.tdst<=C*C)return _;const p=U(S,s,v,g,T);return p.tdst<_.tdst?p:_}function D(m,s,v,g,T){const{e:C}=m;return C[0]*s+C[1]*v+C[2]*g+C[3]*T-m.eMq}function P(m,s,v,g,T,C){for(g-=4;v<g;){for(;k(m,v,T)<=C;)v+=4;for(;k(m,g,T)>C;)g-=4;if(v>=g)break;const R=s[v>>2];s[v>>2]=s[g>>2],s[g>>2]=R,v+=4,g-=4}for(;k(m,v,T)>C;)v-=4;return v+4}function k(m,s,v){return m[s]*v[0]+m[s+1]*v[1]+m[s+2]*v[2]+m[s+3]*v[3]}function O(m,s,v){const g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=[0,0,0,0],C=v-s>>2;for(let R=s;R<v;R+=4){const S=m[R]*.00392156862745098,_=m[R+1]*(1/255),p=m[R+2]*(1/255),N=m[R+3]*(1/255);T[0]+=S,T[1]+=_,T[2]+=p,T[3]+=N,g[0]+=S*S,g[1]+=S*_,g[2]+=S*p,g[3]+=S*N,g[5]+=_*_,g[6]+=_*p,g[7]+=_*N,g[10]+=p*p,g[11]+=p*N,g[15]+=N*N}return g[4]=g[1],g[8]=g[2],g[9]=g[6],g[12]=g[3],g[13]=g[7],g[14]=g[11],{R:g,m:T,N:C}}function A(m){const{R:s}=m,{m:v}=m,{N:g}=m,T=v[0],C=v[1],R=v[2],S=v[3],_=g==0?0:1/g,p=[s[0]-T*T*_,s[1]-T*C*_,s[2]-T*R*_,s[3]-T*S*_,s[4]-C*T*_,s[5]-C*C*_,s[6]-C*R*_,s[7]-C*S*_,s[8]-R*T*_,s[9]-R*C*_,s[10]-R*R*_,s[11]-R*S*_,s[12]-S*T*_,s[13]-S*C*_,s[14]-S*R*_,s[15]-S*S*_],N=p,I=V;let M=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,B=0;if(g!=0)for(let L=0;L<16&&(M=I.multVec(N,M),B=Math.sqrt(I.dot(M,M)),M=I.sml(1/B,M),!(L!=0&&Math.abs(B-q)<1e-9));L++)q=B;const z=[T*_,C*_,R*_,S*_];return{Cov:p,q:z,e:M,L:q,eMq255:I.dot(I.sml(255,z),M),eMq:I.dot(M,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var V={multVec:(m,s)=>[m[0]*s[0]+m[1]*s[1]+m[2]*s[2]+m[3]*s[3],m[4]*s[0]+m[5]*s[1]+m[6]*s[2]+m[7]*s[3],m[8]*s[0]+m[9]*s[1]+m[10]*s[2]+m[11]*s[3],m[12]*s[0]+m[13]*s[1]+m[14]*s[2]+m[15]*s[3]],dot:(m,s)=>m[0]*s[0]+m[1]*s[1]+m[2]*s[2]+m[3]*s[3],sml:(m,s)=>[m*s[0],m*s[1],m*s[2],m*s[3]]};Ue.encode=function(s,v,g,T,C,R,S){T==null&&(T=0),S==null&&(S=!1);const _=i(s,v,g,T,[!1,!1,!1,0,S,!1]);return y(_,-1),h(_,v,g,C,R)},Ue.encodeLL=function(s,v,g,T,C,R,S,_){const p={ctype:0+(T==1?0:2)+(C==0?0:4),depth:R,frames:[]},N=(T+C)*R,I=N*v;for(let M=0;M<s.length;M++)p.frames.push({rect:{x:0,y:0,width:v,height:g},img:new Uint8Array(s[M]),blend:0,dispose:1,bpp:Math.ceil(N/8),bpl:Math.ceil(I/8)});return y(p,0,!0),h(p,v,g,S,_)},Ue.encode.compress=i,Ue.encode.dither=c,Ue.quantize=w,Ue.quantize.getKDtree=E,Ue.quantize.getNearest=U})();const sn={toArrayBuffer(r,n){const d=r.width,o=r.height,e=d<<2,t=r.getContext("2d").getImageData(0,0,d,o),u=new Uint32Array(t.data.buffer),c=(32*d+31)/32<<2,h=c*o,y=122+h,i=new ArrayBuffer(y),l=new DataView(i),a=1<<20;let f,b,w,E,U=a,D=0,P=0,k=0;function O(m){l.setUint16(P,m,!0),P+=2}function A(m){l.setUint32(P,m,!0),P+=4}function V(m){P+=m}O(19778),A(y),V(4),A(122),A(108),A(d),A(-o>>>0),O(1),O(32),A(3),A(h),A(2835),A(2835),V(8),A(16711680),A(65280),A(255),A(4278190080),A(1466527264),function m(){for(;D<o&&U>0;){for(E=122+D*c,f=0;f<e;)U--,b=u[k++],w=b>>>24,l.setUint32(E+f,b<<8|w),f+=4;D++}k<u.length?(U=a,setTimeout(m,sn._dly)):n(i)}()},toBlob(r,n){this.toArrayBuffer(r,d=>{n(new Blob([d],{type:"image/bmp"}))})},_dly:9};var ge={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Ar={[ge.CHROME]:16384,[ge.FIREFOX]:11180,[ge.DESKTOP_SAFARI]:16384,[ge.IE]:8192,[ge.IOS]:4096,[ge.ETC]:8192};const Lt=typeof window<"u",an=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ut=Lt&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Ur=(Lt||an)&&(Ut&&Ut.getOriginalSymbol(window,"File")||typeof File<"u"&&File),ln=(Lt||an)&&(Ut&&Ut.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Bt(r,n,d=Date.now()){return new Promise(o=>{const e=r.split(","),t=e[0].match(/:(.*?);/)[1],u=globalThis.atob(e[1]);let c=u.length;const h=new Uint8Array(c);for(;c--;)h[c]=u.charCodeAt(c);const y=new Blob([h],{type:t});y.name=n,y.lastModified=d,o(y)})}function un(r){return new Promise((n,d)=>{const o=new ln;o.onload=()=>n(o.result),o.onerror=e=>d(e),o.readAsDataURL(r)})}function cn(r){return new Promise((n,d)=>{const o=new Image;o.onload=()=>n(o),o.onerror=e=>d(e),o.src=r})}function $e(){if($e.cachedResult!==void 0)return $e.cachedResult;let r=ge.ETC;const{userAgent:n}=navigator;return/Chrom(e|ium)/i.test(n)?r=ge.CHROME:/iP(ad|od|hone)/i.test(n)&&/WebKit/i.test(n)?r=ge.IOS:/Safari/i.test(n)?r=ge.DESKTOP_SAFARI:/Firefox/i.test(n)?r=ge.FIREFOX:(/MSIE/i.test(n)||document.documentMode)&&(r=ge.IE),$e.cachedResult=r,$e.cachedResult}function dn(r,n){const d=$e(),o=Ar[d];let e=r,t=n,u=e*t;const c=e>t?t/e:e/t;for(;u>o*o;){const h=(o+e)/2,y=(o+t)/2;h<y?(t=y,e=y*c):(t=h*c,e=h),u=e*t}return{width:e,height:t}}function Ct(r,n){let d,o;try{if(d=new OffscreenCanvas(r,n),o=d.getContext("2d"),o===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{d=document.createElement("canvas"),o=d.getContext("2d")}return d.width=r,d.height=n,[d,o]}function fn(r,n){const{width:d,height:o}=dn(r.width,r.height),[e,t]=Ct(d,o);return n&&/jpe?g/.test(n)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(r,0,0,e.width,e.height),e}function wt(){return wt.cachedResult!==void 0||(wt.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),wt.cachedResult}function Rt(r,n={}){return new Promise(function(d,o){let e,t;var u=function(){try{return t=fn(e,n.fileType||r.type),d([e,t])}catch(h){return o(h)}},c=function(h){try{var y=function(i){try{throw i}catch(l){return o(l)}};try{let i;return un(r).then(function(l){try{return i=l,cn(i).then(function(a){try{return e=a,function(){try{return u()}catch(f){return o(f)}}()}catch(f){return y(f)}},y)}catch(a){return y(a)}},y)}catch(i){y(i)}}catch(i){return o(i)}};try{if(wt()||[ge.DESKTOP_SAFARI,ge.MOBILE_SAFARI].includes($e()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(r).then(function(h){try{return e=h,u()}catch{return c()}},c)}catch{c()}})}function Tt(r,n,d,o,e=1){return new Promise(function(t,u){let c;if(n==="image/png"){let y,i,l;return y=r.getContext("2d"),{data:i}=y.getImageData(0,0,r.width,r.height),l=Ue.encode([i.buffer],r.width,r.height,4096*e),c=new Blob([l],{type:n}),c.name=d,c.lastModified=o,h.call(this)}{let y=function(){return h.call(this)};if(n==="image/bmp")return new Promise(i=>sn.toBlob(r,i)).then(function(i){try{return c=i,c.name=d,c.lastModified=o,y.call(this)}catch(l){return u(l)}}.bind(this),u);{let i=function(){return y.call(this)};if(typeof OffscreenCanvas=="function"&&r instanceof OffscreenCanvas)return r.convertToBlob({type:n,quality:e}).then(function(l){try{return c=l,c.name=d,c.lastModified=o,i.call(this)}catch(a){return u(a)}}.bind(this),u);{let l;return l=r.toDataURL(n,e),Bt(l,d,o).then(function(a){try{return c=a,i.call(this)}catch(f){return u(f)}}.bind(this),u)}}}function h(){return t(c)}})}function Ce(r){r.width=0,r.height=0}function Ye(){return new Promise(function(r,n){let d,o,e,t;return Ye.cachedResult!==void 0?r(Ye.cachedResult):Bt("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(u){try{return d=u,Rt(d).then(function(c){try{return o=c[1],Tt(o,d.type,d.name,d.lastModified).then(function(h){try{return e=h,Ce(o),Rt(e).then(function(y){try{return t=y[0],Ye.cachedResult=t.width===1&&t.height===2,r(Ye.cachedResult)}catch(i){return n(i)}},n)}catch(y){return n(y)}},n)}catch(h){return n(h)}},n)}catch(c){return n(c)}},n)})}function hn(r){return new Promise((n,d)=>{const o=new ln;o.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return n(-2);const u=t.byteLength;let c=2;for(;c<u;){if(t.getUint16(c+2,!1)<=8)return n(-1);const h=t.getUint16(c,!1);if(c+=2,h==65505){if(t.getUint32(c+=2,!1)!=1165519206)return n(-1);const y=t.getUint16(c+=6,!1)==18761;c+=t.getUint32(c+4,y);const i=t.getUint16(c,y);c+=2;for(let l=0;l<i;l++)if(t.getUint16(c+12*l,y)==274)return n(t.getUint16(c+12*l+8,y))}else{if((65280&h)!=65280)break;c+=t.getUint16(c,!1)}}return n(-1)},o.onerror=e=>d(e),o.readAsArrayBuffer(r)})}function pn(r,n){const{width:d}=r,{height:o}=r,{maxWidthOrHeight:e}=n;let t,u=r;return isFinite(e)&&(d>e||o>e)&&([u,t]=Ct(d,o),d>o?(u.width=e,u.height=o/d*e):(u.width=d/o*e,u.height=e),t.drawImage(r,0,0,u.width,u.height),Ce(r)),u}function mn(r,n){const{width:d}=r,{height:o}=r,[e,t]=Ct(d,o);switch(n>4&&n<9?(e.width=o,e.height=d):(e.width=d,e.height=o),n){case 2:t.transform(-1,0,0,1,d,0);break;case 3:t.transform(-1,0,0,-1,d,o);break;case 4:t.transform(1,0,0,-1,0,o);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,o,0);break;case 7:t.transform(0,-1,-1,0,o,d);break;case 8:t.transform(0,-1,1,0,0,d)}return t.drawImage(r,0,0,d,o),Ce(r),e}function Zt(r,n,d=0){return new Promise(function(o,e){let t,u,c,h,y,i,l,a,f,b,w,E,U,D,P,k,O,A,V,m;function s(g=5){if(n.signal&&n.signal.aborted)throw n.signal.reason;t+=g,n.onProgress(Math.min(t,100))}function v(g){if(n.signal&&n.signal.aborted)throw n.signal.reason;t=Math.min(Math.max(g,t),100),n.onProgress(t)}return t=d,u=n.maxIteration||10,c=1024*n.maxSizeMB*1024,s(),Rt(r,n).then(function(g){try{return[,h]=g,s(),y=pn(h,n),s(),new Promise(function(T,C){var R;if(!(R=n.exifOrientation))return hn(r).then(function(_){try{return R=_,S.call(this)}catch(p){return C(p)}}.bind(this),C);function S(){return T(R)}return S.call(this)}).then(function(T){try{return i=T,s(),Ye().then(function(C){try{return l=C?y:mn(y,i),s(),a=n.initialQuality||1,f=n.fileType||r.type,Tt(l,f,r.name,r.lastModified,a).then(function(R){try{{let _=function(){if(u--&&(P>c||P>U)){let N,I;return N=m?.95*V.width:V.width,I=m?.95*V.height:V.height,[O,A]=Ct(N,I),A.drawImage(V,0,0,N,I),a*=f==="image/png"?.85:.95,Tt(O,f,r.name,r.lastModified,a).then(function(M){try{return k=M,Ce(V),V=O,P=k.size,v(Math.min(99,Math.floor((D-P)/(D-c)*100))),_}catch(q){return e(q)}},e)}return[1]},p=function(){return Ce(V),Ce(O),Ce(y),Ce(l),Ce(h),v(100),o(k)};if(b=R,s(),w=b.size>c,E=b.size>r.size,!w&&!E)return v(100),o(b);var S;return U=r.size,D=b.size,P=D,V=l,m=!n.alwaysKeepResolution&&w,(S=function(N){for(;N;){if(N.then)return void N.then(S,e);try{if(N.pop){if(N.length)return N.pop()?p.call(this):N;N=_}else N=N.call(this)}catch(I){return e(I)}}}.bind(this))(_)}}catch(_){return e(_)}}.bind(this),e)}catch(R){return e(R)}}.bind(this),e)}catch(C){return e(C)}}.bind(this),e)}catch(T){return e(T)}}.bind(this),e)})}const Rr=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let xt;function Tr(r,n){return new Promise((d,o)=>{xt||(xt=function(u){const c=[];return typeof u=="function"?c.push(`(${u})()`):c.push(u),URL.createObjectURL(new Blob(c))}(Rr));const e=new Worker(xt);e.addEventListener("message",function(u){if(n.signal&&n.signal.aborted)e.terminate();else if(u.data.progress===void 0){if(u.data.error)return o(new Error(u.data.error)),void e.terminate();d(u.data.file),e.terminate()}else n.onProgress(u.data.progress)}),e.addEventListener("error",o),n.signal&&n.signal.addEventListener("abort",()=>{o(n.signal.reason),e.terminate()}),e.postMessage({file:r,imageCompressionLibUrl:n.libURL,options:{...n,onProgress:void 0,signal:void 0}})})}function de(r,n){return new Promise(function(d,o){let e,t,u,c,h,y;if(e={...n},u=0,{onProgress:c}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,h=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=f=>{u=f,typeof c=="function"&&c(u)},!(r instanceof Blob||r instanceof Ur))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(r.type))return o(new Error("The file given is not an image"));if(y=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!h||typeof Worker!="function"||y)return Zt(r,e).then(function(f){try{return t=f,a.call(this)}catch(b){return o(b)}}.bind(this),o);var i=function(){try{return a.call(this)}catch(f){return o(f)}}.bind(this),l=function(f){try{return Zt(r,e).then(function(b){try{return t=b,i()}catch(w){return o(w)}},o)}catch(b){return o(b)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Tr(r,e).then(function(f){try{return t=f,i()}catch{return l()}},l)}catch{l()}function a(){try{t.name=r.name,t.lastModified=r.lastModified}catch{}try{e.preserveExif&&r.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===r.type)&&(t=on(r,t))}catch{}return d(t)}})}de.getDataUrlFromFile=un,de.getFilefromDataUrl=Bt,de.loadImage=cn,de.drawImageInCanvas=fn,de.drawFileInCanvas=Rt,de.canvasToFile=Tt,de.getExifOrientation=hn,de.handleMaxWidthOrHeight=pn,de.followExifOrientation=mn,de.cleanupCanvasMemory=Ce,de.isAutoOrientationInBrowser=Ye,de.approximateBelowMaximumCanvasSizeOfBrowser=dn,de.copyExifWithoutOrientation=on,de.getBrowserName=$e,de.version="2.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="firebasestorage.googleapis.com",_n="storageBucket",Er=2*60*1e3,kr=10*60*1e3,Cr=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te extends sr{constructor(n,d,o=0){super(Ot(n),`Firebase Storage: ${d} (${Ot(n)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,te.prototype)}get status(){return this.status_}set status(n){this.status_=n}_codeEquals(n){return Ot(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var J;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(J||(J={}));function Ot(r){return"storage/"+r}function Ht(){const r="An unknown error occurred, please check the error payload for server response.";return new te(J.UNKNOWN,r)}function Ir(r){return new te(J.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function Sr(r){return new te(J.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Pr(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new te(J.UNAUTHENTICATED,r)}function Fr(){return new te(J.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Vr(r){return new te(J.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function vn(){return new te(J.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bn(){return new te(J.CANCELED,"User canceled the upload/download.")}function xr(r){return new te(J.INVALID_URL,"Invalid URL '"+r+"'.")}function Or(r){return new te(J.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Nr(){return new te(J.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_n+"' property when initializing the app?")}function yn(){return new te(J.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Dr(){return new te(J.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Mr(){return new te(J.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Lr(r){return new te(J.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mt(r){return new te(J.INVALID_ARGUMENT,r)}function wn(){return new te(J.APP_DELETED,"The Firebase app was deleted.")}function Br(r){return new te(J.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ht(r,n){return new te(J.INVALID_FORMAT,"String does not match format '"+r+"': "+n)}function lt(r){throw new te(J.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(n,d){this.bucket=n,this.path_=d}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,d){let o;try{o=ye.makeFromUrl(n,d)}catch{return new ye(n,"")}if(o.path==="")return o;throw Or(n)}static makeFromUrl(n,d){let o=null;const e="([A-Za-z0-9.\\-_]+)";function t(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const u="(/(.*))?$",c=new RegExp("^gs://"+e+u,"i"),h={bucket:1,path:3};function y(k){k.path_=decodeURIComponent(k.path)}const i="v[A-Za-z0-9_]+",l=d.replace(/[.]/g,"\\."),a="(/([^?#]*).*)?$",f=new RegExp(`^https?://${l}/${i}/b/${e}/o${a}`,"i"),b={bucket:1,path:3},w=d===gn?"(?:storage.googleapis.com|storage.cloud.google.com)":d,E="([^?#]*)",U=new RegExp(`^https?://${w}/${e}/${E}`,"i"),P=[{regex:c,indices:h,postModify:t},{regex:f,indices:b,postModify:y},{regex:U,indices:{bucket:1,path:2},postModify:y}];for(let k=0;k<P.length;k++){const O=P[k],A=O.regex.exec(n);if(A){const V=A[O.indices.bucket];let m=A[O.indices.path];m||(m=""),o=new ye(V,m),O.postModify(o);break}}if(o==null)throw xr(n);return o}}class Hr{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(r,n,d){let o=1,e=null,t=null,u=!1,c=0;function h(){return c===2}let y=!1;function i(...E){y||(y=!0,n.apply(null,E))}function l(E){e=setTimeout(()=>{e=null,r(f,h())},E)}function a(){t&&clearTimeout(t)}function f(E,...U){if(y){a();return}if(E){a(),i.call(null,E,...U);return}if(h()||u){a(),i.call(null,E,...U);return}o<64&&(o*=2);let P;c===1?(c=2,P=0):P=(o+Math.random())*1e3,l(P)}let b=!1;function w(E){b||(b=!0,a(),!y&&(e!==null?(E||(c=2),clearTimeout(e),l(0)):E||(c=1)))}return l(0),t=setTimeout(()=>{u=!0,w(!0)},d),w}function qr(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(r){return r!==void 0}function jr(r){return typeof r=="function"}function Gr(r){return typeof r=="object"&&!Array.isArray(r)}function It(r){return typeof r=="string"||r instanceof String}function Yt(r){return zt()&&r instanceof Blob}function zt(){return typeof Blob<"u"}function Jt(r,n,d,o){if(o<n)throw Mt(`Invalid value for '${r}'. Expected ${n} or greater.`);if(o>d)throw Mt(`Invalid value for '${r}'. Expected ${d} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,n,d){let o=n;return d==null&&(o=`https://${n}`),`${d}://${o}/v0${r}`}function An(r){const n=encodeURIComponent;let d="?";for(const o in r)if(r.hasOwnProperty(o)){const e=n(o)+"="+n(r[o]);d=d+e+"&"}return d=d.slice(0,-1),d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(je||(je={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(r,n){const d=r>=500&&r<600,e=[408,429].indexOf(r)!==-1,t=n.indexOf(r)!==-1;return d||e||t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(n,d,o,e,t,u,c,h,y,i,l,a=!0){this.url_=n,this.method_=d,this.headers_=o,this.body_=e,this.successCodes_=t,this.additionalRetryCodes_=u,this.callback_=c,this.errorCallback_=h,this.timeout_=y,this.progressCallback_=i,this.connectionFactory_=l,this.retry=a,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,b)=>{this.resolve_=f,this.reject_=b,this.start_()})}start_(){const n=(o,e)=>{if(e){o(!1,new vt(!1,null,!0));return}const t=this.connectionFactory_();this.pendingConnection_=t;const u=c=>{const h=c.loaded,y=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,y)};this.progressCallback_!==null&&t.addUploadProgressListener(u),t.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&t.removeUploadProgressListener(u),this.pendingConnection_=null;const c=t.getErrorCode()===je.NO_ERROR,h=t.getStatus();if(!c||Un(h,this.additionalRetryCodes_)&&this.retry){const i=t.getErrorCode()===je.ABORT;o(!1,new vt(!1,null,i));return}const y=this.successCodes_.indexOf(h)!==-1;o(!0,new vt(y,t))})},d=(o,e)=>{const t=this.resolve_,u=this.reject_,c=e.connection;if(e.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());$r(h)?t(h):t()}catch(h){u(h)}else if(c!==null){const h=Ht();h.serverResponse=c.getErrorText(),this.errorCallback_?u(this.errorCallback_(c,h)):u(h)}else if(e.canceled){const h=this.appDelete_?wn():bn();u(h)}else{const h=vn();u(h)}};this.canceled_?d(!1,new vt(!1,null,!0)):this.backoffId_=zr(n,d,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,this.backoffId_!==null&&qr(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vt{constructor(n,d,o){this.wasSuccessCode=n,this.connection=d,this.canceled=!!o}}function Qr(r,n){n!==null&&n.length>0&&(r.Authorization="Firebase "+n)}function Xr(r,n){r["X-Firebase-Storage-Version"]="webjs/"+(n??"AppManager")}function Kr(r,n){n&&(r["X-Firebase-GMPID"]=n)}function Zr(r,n){n!==null&&(r["X-Firebase-AppCheck"]=n)}function Yr(r,n,d,o,e,t,u=!0){const c=An(r.urlParams),h=r.url+c,y=Object.assign({},r.headers);return Kr(y,n),Qr(y,d),Xr(y,t),Zr(y,o),new Wr(h,r.method,y,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,e,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eo(...r){const n=Jr();if(n!==void 0){const d=new n;for(let o=0;o<r.length;o++)d.append(r[o]);return d.getBlob()}else{if(zt())return new Blob(r);throw new te(J.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function to(r,n,d){return r.webkitSlice?r.webkitSlice(n,d):r.mozSlice?r.mozSlice(n,d):r.slice?r.slice(n,d):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(r){if(typeof atob>"u")throw Lr("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Nt{constructor(n,d){this.data=n,this.contentType=d||null}}function ro(r,n){switch(r){case Ie.RAW:return new Nt(Rn(n));case Ie.BASE64:case Ie.BASE64URL:return new Nt(Tn(r,n));case Ie.DATA_URL:return new Nt(so(n),ao(n))}throw Ht()}function Rn(r){const n=[];for(let d=0;d<r.length;d++){let o=r.charCodeAt(d);if(o<=127)n.push(o);else if(o<=2047)n.push(192|o>>6,128|o&63);else if((o&64512)===55296)if(!(d<r.length-1&&(r.charCodeAt(d+1)&64512)===56320))n.push(239,191,189);else{const t=o,u=r.charCodeAt(++d);o=65536|(t&1023)<<10|u&1023,n.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63)}else(o&64512)===56320?n.push(239,191,189):n.push(224|o>>12,128|o>>6&63,128|o&63)}return new Uint8Array(n)}function oo(r){let n;try{n=decodeURIComponent(r)}catch{throw ht(Ie.DATA_URL,"Malformed data URL.")}return Rn(n)}function Tn(r,n){switch(r){case Ie.BASE64:{const e=n.indexOf("-")!==-1,t=n.indexOf("_")!==-1;if(e||t)throw ht(r,"Invalid character '"+(e?"-":"_")+"' found: is it base64url encoded?");break}case Ie.BASE64URL:{const e=n.indexOf("+")!==-1,t=n.indexOf("/")!==-1;if(e||t)throw ht(r,"Invalid character '"+(e?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let d;try{d=no(n)}catch(e){throw e.message.includes("polyfill")?e:ht(r,"Invalid character found")}const o=new Uint8Array(d.length);for(let e=0;e<d.length;e++)o[e]=d.charCodeAt(e);return o}class En{constructor(n){this.base64=!1,this.contentType=null;const d=n.match(/^data:([^,]+)?,/);if(d===null)throw ht(Ie.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=d[1]||null;o!=null&&(this.base64=io(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=n.substring(n.indexOf(",")+1)}}function so(r){const n=new En(r);return n.base64?Tn(Ie.BASE64,n.rest):oo(n.rest)}function ao(r){return new En(r).contentType}function io(r,n){return r.length>=n.length?r.substring(r.length-n.length)===n:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(n,d){let o=0,e="";Yt(n)?(this.data_=n,o=n.size,e=n.type):n instanceof ArrayBuffer?(d?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),o=this.data_.length):n instanceof Uint8Array&&(d?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),o=n.length),this.size_=o,this.type_=e}size(){return this.size_}type(){return this.type_}slice(n,d){if(Yt(this.data_)){const o=this.data_,e=to(o,n,d);return e===null?null:new Ne(e)}else{const o=new Uint8Array(this.data_.buffer,n,d-n);return new Ne(o,!0)}}static getBlob(...n){if(zt()){const d=n.map(o=>o instanceof Ne?o.data_:o);return new Ne(eo.apply(null,d))}else{const d=n.map(u=>It(u)?ro(Ie.RAW,u).data:u.data_);let o=0;d.forEach(u=>{o+=u.byteLength});const e=new Uint8Array(o);let t=0;return d.forEach(u=>{for(let c=0;c<u.length;c++)e[t++]=u[c]}),new Ne(e,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(r){let n;try{n=JSON.parse(r)}catch{return null}return Gr(n)?n:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(r){if(r.length===0)return null;const n=r.lastIndexOf("/");return n===-1?"":r.slice(0,n)}function uo(r,n){const d=n.split("/").filter(o=>o.length>0).join("/");return r.length===0?d:r+"/"+d}function Cn(r){const n=r.lastIndexOf("/",r.length-2);return n===-1?r:r.slice(n+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(r,n){return n}class pe{constructor(n,d,o,e){this.server=n,this.local=d||n,this.writable=!!o,this.xform=e||co}}let bt=null;function fo(r){return!It(r)||r.length<2?r:Cn(r)}function In(){if(bt)return bt;const r=[];r.push(new pe("bucket")),r.push(new pe("generation")),r.push(new pe("metageneration")),r.push(new pe("name","fullPath",!0));function n(t,u){return fo(u)}const d=new pe("name");d.xform=n,r.push(d);function o(t,u){return u!==void 0?Number(u):u}const e=new pe("size");return e.xform=o,r.push(e),r.push(new pe("timeCreated")),r.push(new pe("updated")),r.push(new pe("md5Hash",null,!0)),r.push(new pe("cacheControl",null,!0)),r.push(new pe("contentDisposition",null,!0)),r.push(new pe("contentEncoding",null,!0)),r.push(new pe("contentLanguage",null,!0)),r.push(new pe("contentType",null,!0)),r.push(new pe("metadata","customMetadata",!0)),bt=r,bt}function ho(r,n){function d(){const o=r.bucket,e=r.fullPath,t=new ye(o,e);return n._makeStorageReference(t)}Object.defineProperty(r,"ref",{get:d})}function po(r,n,d){const o={};o.type="file";const e=d.length;for(let t=0;t<e;t++){const u=d[t];o[u.local]=u.xform(o,n[u.server])}return ho(o,r),o}function Sn(r,n,d){const o=kn(n);return o===null?null:po(r,o,d)}function mo(r,n,d,o){const e=kn(n);if(e===null||!It(e.downloadTokens))return null;const t=e.downloadTokens;if(t.length===0)return null;const u=encodeURIComponent;return t.split(",").map(y=>{const i=r.bucket,l=r.fullPath,a="/b/"+u(i)+"/o/"+u(l),f=pt(a,d,o),b=An({alt:"media",token:y});return f+b})[0]}function Pn(r,n){const d={},o=n.length;for(let e=0;e<o;e++){const t=n[e];t.writable&&(d[t.server]=r[t.local])}return JSON.stringify(d)}class Je{constructor(n,d,o,e){this.url=n,this.method=d,this.handler=o,this.timeout=e,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(r){if(!r)throw Ht()}function qt(r,n){function d(o,e){const t=Sn(r,e,n);return Fe(t!==null),t}return d}function go(r,n){function d(o,e){const t=Sn(r,e,n);return Fe(t!==null),mo(t,e,r.host,r._protocol)}return d}function mt(r){function n(d,o){let e;return d.getStatus()===401?d.getErrorText().includes("Firebase App Check token is invalid")?e=Fr():e=Pr():d.getStatus()===402?e=Sr(r.bucket):d.getStatus()===403?e=Vr(r.path):e=o,e.status=d.getStatus(),e.serverResponse=o.serverResponse,e}return n}function Fn(r){const n=mt(r);function d(o,e){let t=n(o,e);return o.getStatus()===404&&(t=Ir(r.path)),t.serverResponse=e.serverResponse,t}return d}function _o(r,n,d){const o=n.fullServerUrl(),e=pt(o,r.host,r._protocol),t="GET",u=r.maxOperationRetryTime,c=new Je(e,t,qt(r,d),u);return c.errorHandler=Fn(n),c}function vo(r,n,d){const o=n.fullServerUrl(),e=pt(o,r.host,r._protocol),t="GET",u=r.maxOperationRetryTime,c=new Je(e,t,go(r,d),u);return c.errorHandler=Fn(n),c}function bo(r,n){return r&&r.contentType||n&&n.type()||"application/octet-stream"}function Vn(r,n,d){const o=Object.assign({},d);return o.fullPath=r.path,o.size=n.size(),o.contentType||(o.contentType=bo(null,n)),o}function yo(r,n,d,o,e){const t=n.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function c(){let P="";for(let k=0;k<2;k++)P=P+Math.random().toString().slice(2);return P}const h=c();u["Content-Type"]="multipart/related; boundary="+h;const y=Vn(n,o,e),i=Pn(y,d),l="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+i+`\r
--`+h+`\r
Content-Type: `+y.contentType+`\r
\r
`,a=`\r
--`+h+"--",f=Ne.getBlob(l,o,a);if(f===null)throw yn();const b={name:y.fullPath},w=pt(t,r.host,r._protocol),E="POST",U=r.maxUploadRetryTime,D=new Je(w,E,qt(r,d),U);return D.urlParams=b,D.headers=u,D.body=f.uploadData(),D.errorHandler=mt(n),D}class Et{constructor(n,d,o,e){this.current=n,this.total=d,this.finalized=!!o,this.metadata=e||null}}function $t(r,n){let d=null;try{d=r.getResponseHeader("X-Goog-Upload-Status")}catch{Fe(!1)}return Fe(!!d&&(n||["active"]).indexOf(d)!==-1),d}function wo(r,n,d,o,e){const t=n.bucketOnlyServerUrl(),u=Vn(n,o,e),c={name:u.fullPath},h=pt(t,r.host,r._protocol),y="POST",i={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},l=Pn(u,d),a=r.maxUploadRetryTime;function f(w){$t(w);let E;try{E=w.getResponseHeader("X-Goog-Upload-URL")}catch{Fe(!1)}return Fe(It(E)),E}const b=new Je(h,y,f,a);return b.urlParams=c,b.headers=i,b.body=l,b.errorHandler=mt(n),b}function Ao(r,n,d,o){const e={"X-Goog-Upload-Command":"query"};function t(y){const i=$t(y,["active","final"]);let l=null;try{l=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Fe(!1)}l||Fe(!1);const a=Number(l);return Fe(!isNaN(a)),new Et(a,o.size(),i==="final")}const u="POST",c=r.maxUploadRetryTime,h=new Je(d,u,t,c);return h.headers=e,h.errorHandler=mt(n),h}const en=256*1024;function Uo(r,n,d,o,e,t,u,c){const h=new Et(0,0);if(u?(h.current=u.current,h.total=u.total):(h.current=0,h.total=o.size()),o.size()!==h.total)throw Dr();const y=h.total-h.current;let i=y;e>0&&(i=Math.min(i,e));const l=h.current,a=l+i;let f="";i===0?f="finalize":y===i?f="upload, finalize":f="upload";const b={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${h.current}`},w=o.slice(l,a);if(w===null)throw yn();function E(k,O){const A=$t(k,["active","final"]),V=h.current+i,m=o.size();let s;return A==="final"?s=qt(n,t)(k,O):s=null,new Et(V,m,A==="final",s)}const U="POST",D=n.maxUploadRetryTime,P=new Je(d,U,E,D);return P.headers=b,P.body=w.uploadData(),P.progressCallback=c||null,P.errorHandler=mt(r),P}const me={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Dt(r){switch(r){case"running":case"pausing":case"canceling":return me.RUNNING;case"paused":return me.PAUSED;case"success":return me.SUCCESS;case"canceled":return me.CANCELED;case"error":return me.ERROR;default:return me.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(n,d,o){if(jr(n)||d!=null||o!=null)this.next=n,this.error=d??void 0,this.complete=o??void 0;else{const t=n;this.next=t.next,this.error=t.error,this.complete=t.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(r){return(...n)=>{Promise.resolve().then(()=>r(...n))}}class To{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=je.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=je.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=je.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,d,o,e){if(this.sent_)throw lt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(d,n,!0),e!==void 0)for(const t in e)e.hasOwnProperty(t)&&this.xhr_.setRequestHeader(t,e[t].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",n)}}class Eo extends To{initXhr(){this.xhr_.responseType="text"}}function Ze(){return new Eo}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(n,d,o=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=d,this._metadata=o,this._mappings=In(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(J.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(Un(e.status,[]))if(t)e=vn();else{this.sleepTime=Math.max(this.sleepTime*2,Cr),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(J.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const n=this._transferred;return d=>this._updateProgress(n+d)}_shouldDoResumable(n){return n.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([d,o])=>{switch(this._state){case"running":n(d,o);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((n,d)=>{const o=wo(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),e=this._ref.storage._makeRequest(o,Ze,n,d);this._request=e,e.getPromise().then(t=>{this._request=void 0,this._uploadUrl=t,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const n=this._uploadUrl;this._resolveToken((d,o)=>{const e=Ao(this._ref.storage,this._ref._location,n,this._blob),t=this._ref.storage._makeRequest(e,Ze,d,o);this._request=t,t.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const n=en*this._chunkMultiplier,d=new Et(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((e,t)=>{let u;try{u=Uo(this._ref._location,this._ref.storage,o,this._blob,n,this._mappings,d,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const c=this._ref.storage._makeRequest(u,Ze,e,t,!1);this._request=c,c.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){en*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((n,d)=>{const o=_o(this._ref.storage,this._ref._location,this._mappings),e=this._ref.storage._makeRequest(o,Ze,n,d);this._request=e,e.getPromise().then(t=>{this._request=void 0,this._metadata=t,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((n,d)=>{const o=yo(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),e=this._ref.storage._makeRequest(o,Ze,n,d);this._request=e,e.getPromise().then(t=>{this._request=void 0,this._metadata=t,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(n){const d=this._transferred;this._transferred=n,this._transferred!==d&&this._notifyObservers()}_transition(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const d=this._state==="paused";this._state=n,d&&(this._notifyObservers(),this._start());break;case"paused":this._state=n,this._notifyObservers();break;case"canceled":this._error=bn(),this._state=n,this._notifyObservers();break;case"error":this._state=n,this._notifyObservers();break;case"success":this._state=n,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const n=Dt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}}on(n,d,o,e){const t=new Ro(d||void 0,o||void 0,e||void 0);return this._addObserver(t),()=>{this._removeObserver(t)}}then(n,d){return this._promise.then(n,d)}catch(n){return this.then(null,n)}_addObserver(n){this._observers.push(n),this._notifyObserver(n)}_removeObserver(n){const d=this._observers.indexOf(n);d!==-1&&this._observers.splice(d,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(d=>{this._notifyObserver(d)})}_finishPromise(){if(this._resolve!==void 0){let n=!0;switch(Dt(this._state)){case me.SUCCESS:Ke(this._resolve.bind(null,this.snapshot))();break;case me.CANCELED:case me.ERROR:const d=this._reject;Ke(d.bind(null,this._error))();break;default:n=!1;break}n&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(n){switch(Dt(this._state)){case me.RUNNING:case me.PAUSED:n.next&&Ke(n.next.bind(n,this.snapshot))();break;case me.SUCCESS:n.complete&&Ke(n.complete.bind(n))();break;case me.CANCELED:case me.ERROR:n.error&&Ke(n.error.bind(n,this._error))();break;default:n.error&&Ke(n.error.bind(n,this._error))()}}resume(){const n=this._state==="paused"||this._state==="pausing";return n&&this._transition("running"),n}pause(){const n=this._state==="running";return n&&this._transition("pausing"),n}cancel(){const n=this._state==="running"||this._state==="pausing";return n&&this._transition("canceling"),n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(n,d){this._service=n,d instanceof ye?this._location=d:this._location=ye.makeFromUrl(d,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,d){return new Ge(n,d)}get root(){const n=new ye(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Cn(this._location.path)}get storage(){return this._service}get parent(){const n=lo(this._location.path);if(n===null)return null;const d=new ye(this._location.bucket,n);return new Ge(this._service,d)}_throwIfRoot(n){if(this._location.path==="")throw Br(n)}}function Co(r,n,d){return r._throwIfRoot("uploadBytesResumable"),new ko(r,new Ne(n),d)}function Io(r){r._throwIfRoot("getDownloadURL");const n=vo(r.storage,r._location,In());return r.storage.makeRequestWithTokens(n,Ze).then(d=>{if(d===null)throw Mr();return d})}function So(r,n){const d=uo(r._location.path,n),o=new ye(r._location.bucket,d);return new Ge(r.storage,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(r){return/^[A-Za-z]+:\/\//.test(r)}function Fo(r,n){return new Ge(r,n)}function xn(r,n){if(r instanceof jt){const d=r;if(d._bucket==null)throw Nr();const o=new Ge(d,d._bucket);return n!=null?xn(o,n):o}else return n!==void 0?So(r,n):r}function Vo(r,n){if(n&&Po(n)){if(r instanceof jt)return Fo(r,n);throw Mt("To use ref(service, url), the first argument must be a Storage instance.")}else return xn(r,n)}function tn(r,n){const d=n==null?void 0:n[_n];return d==null?null:ye.makeFromBucketSpec(d,r)}function xo(r,n,d,o={}){r.host=`${n}:${d}`,r._protocol="http";const{mockUserToken:e}=o;e&&(r._overrideAuthToken=typeof e=="string"?e:or(e,r.app.options.projectId))}class jt{constructor(n,d,o,e,t){this.app=n,this._authProvider=d,this._appCheckProvider=o,this._url=e,this._firebaseVersion=t,this._bucket=null,this._host=gn,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Er,this._maxUploadRetryTime=kr,this._requests=new Set,e!=null?this._bucket=ye.makeFromBucketSpec(e,this._host):this._bucket=tn(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._url!=null?this._bucket=ye.makeFromBucketSpec(this._url,n):this._bucket=tn(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){Jt("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){Jt("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const n=this._authProvider.getImmediate({optional:!0});if(n){const d=await n.getToken();if(d!==null)return d.accessToken}return null}async _getAppCheckToken(){const n=this._appCheckProvider.getImmediate({optional:!0});return n?(await n.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new Ge(this,n)}_makeRequest(n,d,o,e,t=!0){if(this._deleted)return new Hr(wn());{const u=Yr(n,this._appId,o,e,d,this._firebaseVersion,t);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(n,d){const[o,e]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(n,d,o,e).getPromise()}}const nn="@firebase/storage",rn="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="storage";function ut(r,n,d){return r=kt(r),Co(r,n,d)}function ct(r){return r=kt(r),Io(r)}function dt(r,n){return r=kt(r),Vo(r,n)}function Oo(r=rr(),n){r=kt(r);const o=tr(r,On).getImmediate({identifier:n}),e=nr("storage");return e&&No(o,...e),o}function No(r,n,d,o={}){xo(r,n,d,o)}function Do(r,{instanceIdentifier:n}){const d=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),e=r.getProvider("app-check-internal");return new jt(d,o,e,n,er)}function Mo(){Yn(new Jn(On,Do,"PUBLIC").setMultipleInstances(!0)),Xt(nn,rn,""),Xt(nn,rn,"esm2017")}Mo();const Lo=Mn({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:r=>typeof r=="boolean"||[1e3,1024].includes(r)},...ur({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:r=>Ln(r).every(n=>n!=null&&typeof n=="object")},...cr({clearable:!0})},"v-file-input"),ft=Bn()({name:"VFileInput",inheritAttrs:!1,props:Lo(),emits:{"click:control":r=>!0,"mousedown:control":r=>!0,"update:focused":r=>!0,"update:modelValue":r=>!0},setup(r,n){let{attrs:d,emit:o,slots:e}=n;const{t}=Hn(),u=zn(r,"modelValue"),{isFocused:c,focus:h,blur:y}=dr(r),i=qe(()=>typeof r.showSize!="boolean"?r.showSize:void 0),l=qe(()=>(u.value??[]).reduce((s,v)=>{let{size:g=0}=v;return s+g},0)),a=qe(()=>Qt(l.value,i.value)),f=qe(()=>(u.value??[]).map(s=>{const{name:v="",size:g=0}=s;return r.showSize?`${v} (${Qt(g,i.value)})`:v})),b=qe(()=>{var v;const s=((v=u.value)==null?void 0:v.length)??0;return r.showSize?t(r.counterSizeString,s,a.value):t(r.counterString,s)}),w=be(),E=be(),U=be(),D=qe(()=>c.value||r.active),P=qe(()=>["plain","underlined"].includes(r.variant));function k(){var s;U.value!==document.activeElement&&((s=U.value)==null||s.focus()),c.value||h()}function O(s){V(s)}function A(s){o("mousedown:control",s)}function V(s){var v;(v=U.value)==null||v.click(),o("click:control",s)}function m(s){s.stopPropagation(),k(),Gn(()=>{u.value=[],Wn(r["onClick:clear"],s)})}return qn(u,s=>{(!Array.isArray(s)||!s.length)&&U.value&&(U.value.value="")}),$n(()=>{const s=!!(e.counter||r.counter),v=!!(s||e.details),[g,T]=jn(d),[{modelValue:C,...R}]=Kt.filterProps(r),[S]=fr(r);return F(Kt,Ft({ref:w,modelValue:u.value,"onUpdate:modelValue":_=>u.value=_,class:["v-file-input",{"v-file-input--chips":!!r.chips,"v-file-input--selection-slot":!!e.selection,"v-text-field--plain-underlined":P.value},r.class],style:r.style,"onClick:prepend":O},g,R,{centerAffix:!P.value,focused:c.value}),{...e,default:_=>{let{id:p,isDisabled:N,isDirty:I,isReadonly:M,isValid:q}=_;return F(hr,Ft({ref:E,"prepend-icon":r.prependIcon,onMousedown:A,onClick:V,"onClick:clear":m,"onClick:prependInner":r["onClick:prependInner"],"onClick:appendInner":r["onClick:appendInner"]},S,{id:p.value,active:D.value||I.value,dirty:I.value,disabled:N.value,focused:c.value,error:q.value===!1}),{...e,default:B=>{var x;let{props:{class:z,...L}}=B;return F(yt,null,[F("input",Ft({ref:U,type:"file",readonly:M.value,disabled:N.value,multiple:r.multiple,name:r.name,onClick:j=>{j.stopPropagation(),k()},onChange:j=>{if(!j.target)return;const X=j.target;u.value=[...X.files??[]]},onFocus:k,onBlur:y},L,T),null),F("div",{class:z},[!!((x=u.value)!=null&&x.length)&&(e.selection?e.selection({fileNames:f.value,totalBytes:l.value,totalBytesReadable:a.value}):r.chips?f.value.map(j=>F(_r,{key:j,size:"small",color:r.color},{default:()=>[j]})):f.value.join(", "))])])}})},details:v?_=>{var p,N;return F(yt,null,[(p=e.details)==null?void 0:p.call(e,_),s&&F(yt,null,[F("span",null,null),F(pr,{active:!!((N=u.value)!=null&&N.length),value:b.value},e.counter)])])}:void 0})}),gr({},w,E,U)}}),Bo=De("b",null,"Aviso:",-1),Ho=De("b",null,"escanear",-1),zo=De("b",null,"Aviso:",-1),qo=De("b",null,"tomar la foto",-1),$o=De("b",null,"Aviso:",-1),jo=De("b",null,"tomar la foto",-1),Go=De("b",null,"Aviso:",-1),Wo=De("b",null,"tomar la foto",-1),rs={__name:"DemoFormLayoutMultipleColumn",props:{form:{type:null,required:!0}},emits:["barCode"],setup(r,{emit:n}){const d=r,o=be(null),e=be(!1),t=Oo(ar),u=be(!1),c=be(0),h=be({name:"",description:"",price:"",priceSale:"",count:"",proveedor:"",barcode:"",codepart:"",image:""}),y=be({cardBg:"#16B1FF",name:"",document:"",phone:"",direction:"",email:"",avatarImg:""}),i=be({cardBg:"#12B4FF",name:"",document:"",phone:"",direction:"",email:"",avatarImg:""}),l=be({cardBg:"#12B4FF",name:"",lastname:"",document:"",phone:"",direction:"",email:"",avatarImg:""}),a=be({username:"",password:"",typeuser:"",avatarImg:""}),f=()=>{n("barCode",h.barcode)};Qn(async()=>{d.form.card!=null&&(h.value.name=d.form.card.name,h.value.description=d.form.card.description,h.value.price=d.form.card.price,h.value.priceSale=d.form.card.priceSale,h.value.count=d.form.card.count,h.value.barcode=d.form.card.barcode,h.value.codepart=d.form.card.codepart,h.value.image=d.form.card.img,console.log(h.value)),h.value.barcode=d.form.databarcode,(await Vt(Pe(ke,"proveedores"))).forEach(s=>{b.value.push({...s.data(),title:s.data().name,value:s.id})})});const b=be([]),w=m=>!!m||"Este campo es requerido",E=async()=>{const m=dt(t,"images/"+o.value.name),s=ut(m,o.value);s.on("state_changed",v=>{var g=v.bytesTransferred/v.totalBytes*100;c.value=g},v=>{console.log(v)},()=>{ct(s.snapshot.ref).then(async v=>{h.value.image=v,await Xe(Pe(ke,"inventario"),h.value).then(()=>{window.location.href="/inventory"}).catch(g=>{console.error("Error al agregar el producto: ",g)})})})},U=async()=>{const m=dt(t,"images/"+o.value.name),s=ut(m,o.value);s.on("state_changed",v=>{var g=v.bytesTransferred/v.totalBytes*100;c.value=g},v=>{console.log(v)},()=>{ct(s.snapshot.ref).then(async v=>{h.value.image=v,await ir(lr(ke,"inventario",d.form.card.id),h.value).then(()=>{window.location.href="/inventory"}).catch(g=>{console.error("Error al agregar el producto: ",g)})})})},D=async()=>{const m=dt(t,"images/"+o.value.name),s=ut(m,o.value);s.on("state_changed",v=>{var g=v.bytesTransferred/v.totalBytes*100;c.value=g},v=>{console.log(v)},()=>{ct(s.snapshot.ref).then(async v=>{y.value.avatarImg=v,a.value.avatarImg=v,a.value.typeuser="cliente",await Xe(Pe(ke,"clientes"),y.value),await Xe(Pe(ke,"users"),a.value).then(()=>{window.location.href="/"})})})},P=async()=>{const m=dt(t,"images/"+o.value.name),s=ut(m,o.value);s.on("state_changed",v=>{var g=v.bytesTransferred/v.totalBytes*100;c.value=g},v=>{console.log(v)},()=>{ct(s.snapshot.ref).then(async v=>{i.value.avatarImg=v,await Xe(Pe(ke,"proveedores"),i.value).then(()=>{window.location.href="/"})})})},k=async()=>{const m=dt(t,"images/"+o.value.name),s=ut(m,o.value);s.on("state_changed",v=>{var g=v.bytesTransferred/v.totalBytes*100;c.value=g},v=>{console.log(v)},()=>{ct(s.snapshot.ref).then(async v=>{l.value.avatarImg=v,a.value.avatarImg=v,a.value.typeuser="vendedor",await Xe(Pe(ke,"vendedores"),l.value),await Xe(Pe(ke,"users"),a.value).then(()=>{window.location.href="/"})})})},O=async m=>{const s=m.target.files[0],v={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};try{e.value=!0;const g=await de(s,v);o.value=g,console.log(o.value.name)}finally{e.value=!1}},A=async()=>{(await Vt(Pe(ke,"users"))).forEach(s=>{s.data().username.indexOf(a.value.username)===-1?u.value=!1:u.value=!0})},V=async()=>{const m=await Vt(Pe(ke,"inventario"));u.value=!1,m.forEach(s=>{s.data().codepart===h.value.codepart&&(u.value=!0)})};return(m,s)=>{const v=Xn("IconBtn");return Qe(),Kn(yt,null,[r.form.product?(Qe(),nt(it,{key:0,onSubmit:s[10]||(s[10]=ot(()=>E(),["prevent"]))},{default:H(()=>[F(at,null,{default:H(()=>[F($,{cols:"12"},{default:H(()=>[F(_t,null,{default:H(()=>[Bo,ie(" Si vas a "),Ho,ie(" debes hacerlo primero antes de rellenar el formulario ")]),_:1})]),_:1}),F($,{cols:"10",md:"5"},{default:H(()=>[F(G,{modelValue:h.value.barcode,"onUpdate:modelValue":s[0]||(s[0]=g=>h.value.barcode=g),label:"Codigo de Barra",placeholder:"5781A73",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"2",md:"1",class:"my-auto"},{default:H(()=>[F(v,{class:"border",onClick:s[1]||(s[1]=g=>f())},{default:H(()=>[F(Zn,{icon:"bx-barcode"})]),_:1})]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:h.value.codepart,"onUpdate:modelValue":s[2]||(s[2]=g=>h.value.codepart=g),label:"Codigo de Parte",placeholder:"00000",rules:[w],onInput:V,error:u.value},null,8,["modelValue","rules","error"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:h.value.name,"onUpdate:modelValue":s[3]||(s[3]=g=>h.value.name=g),label:"Nombre",placeholder:"Aceite de Motor",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:h.value.description,"onUpdate:modelValue":s[4]||(s[4]=g=>h.value.description=g),label:"Descripcion",placeholder:"Este Aceite de motor es de la maxima...",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:h.value.price,"onUpdate:modelValue":s[5]||(s[5]=g=>h.value.price=g),label:"Precio Costo",placeholder:"2$",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:h.value.priceSale,"onUpdate:modelValue":s[6]||(s[6]=g=>h.value.priceSale=g),label:"Precio de Venta",placeholder:"8$",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:h.value.count,"onUpdate:modelValue":s[7]||(s[7]=g=>h.value.count=g),label:"Unidades Disponibles",placeholder:"20",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(mr,{modelValue:h.value.proveedor,"onUpdate:modelValue":s[8]||(s[8]=g=>h.value.proveedor=g),label:"Selecciona un proveedor",items:b.value,"item-value":"value",rules:[w]},null,8,["modelValue","items","rules"])]),_:1}),F($,{cols:"12"},{default:H(()=>[F(ft,{label:"Imagen",rules:[w],onChange:O},null,8,["rules"])]),_:1}),F($,null,{default:H(()=>[F(rt,{modelValue:c.value,"onUpdate:modelValue":s[9]||(s[9]=g=>c.value=g)},null,8,["modelValue"])]),_:1}),F($,{cols:"12",class:"d-flex gap-4"},{default:H(()=>[F(Ee,{type:"submit",disabled:e.value},{default:H(()=>[ie(" Registrar ")]),_:1},8,["disabled"]),F(Ee,{type:"reset",color:"secondary",variant:"tonal"},{default:H(()=>[ie(" Borrar todo ")]),_:1})]),_:1})]),_:1})]),_:1})):st("",!0),r.form.editProduct?(Qe(),nt(it,{key:1,onSubmit:s[17]||(s[17]=ot(()=>U(),["prevent"]))},{default:H(()=>[F(at,null,{default:H(()=>[F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:h.value.name,"onUpdate:modelValue":s[11]||(s[11]=g=>h.value.name=g),label:"Nombre",placeholder:"Aceite de Motor",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:h.value.description,"onUpdate:modelValue":s[12]||(s[12]=g=>h.value.description=g),label:"Descripcion",placeholder:"Este Aceite de motor es de la maxima...",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:h.value.price,"onUpdate:modelValue":s[13]||(s[13]=g=>h.value.price=g),label:"Precio Costo",placeholder:"2$",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:h.value.priceSale,"onUpdate:modelValue":s[14]||(s[14]=g=>h.value.priceSale=g),label:"Precio de Venta",placeholder:"8$",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:h.value.count,"onUpdate:modelValue":s[15]||(s[15]=g=>h.value.count=g),label:"Unidades Disponibles",placeholder:"20",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"6"},{default:H(()=>[F(ft,{label:"Imagen",rules:[w],onChange:O},null,8,["rules"])]),_:1}),F($,null,{default:H(()=>[F(rt,{modelValue:c.value,"onUpdate:modelValue":s[16]||(s[16]=g=>c.value=g)},null,8,["modelValue"])]),_:1}),F($,{cols:"12",class:"d-flex gap-4"},{default:H(()=>[F(Ee,{type:"submit",disabled:e.value},{default:H(()=>[ie(" Actualizar ")]),_:1},8,["disabled"]),F(Ee,{type:"reset",color:"secondary",variant:"tonal"},{default:H(()=>[ie(" Borrar todo ")]),_:1})]),_:1})]),_:1})]),_:1})):st("",!0),r.form.client?(Qe(),nt(it,{key:2,onSubmit:s[26]||(s[26]=ot(()=>D(),["prevent"]))},{default:H(()=>[F(at,null,{default:H(()=>[F($,{cols:"12"},{default:H(()=>[F(_t,null,{default:H(()=>[zo,ie(" Si vas a "),qo,ie(" pon la camara en 1:1 ")]),_:1})]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:y.value.name,"onUpdate:modelValue":s[18]||(s[18]=g=>y.value.name=g),label:"Nombre de la Empresa",placeholder:"GF Import AutoPart",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:y.value.document,"onUpdate:modelValue":s[19]||(s[19]=g=>y.value.document=g),label:"RIF de la Empresa",placeholder:"J-50679888",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{type:"email",modelValue:y.value.email,"onUpdate:modelValue":s[20]||(s[20]=g=>y.value.email=g),label:"Correo Electronico",placeholder:"ejemplo@gmail.com",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:y.value.phone,"onUpdate:modelValue":s[21]||(s[21]=g=>y.value.phone=g),label:"Numero de telefono",placeholder:"+584126794857",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12"},{default:H(()=>[F(G,{modelValue:y.value.direction,"onUpdate:modelValue":s[22]||(s[22]=g=>y.value.direction=g),label:"Direccion",placeholder:"Centro, Av. Soco, La Victoria, Aragua",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12"},{default:H(()=>[F(ft,{label:"Imagen para el perfil",rules:[w],onChange:O},null,8,["rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:a.value.username,"onUpdate:modelValue":s[23]||(s[23]=g=>a.value.username=g),label:"Nombre de Usuario",placeholder:"Ejemplo02",rules:[w],onInput:A,error:u.value},null,8,["modelValue","rules","error"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:a.value.password,"onUpdate:modelValue":s[24]||(s[24]=g=>a.value.password=g),label:"Contraseña",placeholder:"NombreEmpresa.02 ",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,null,{default:H(()=>[F(rt,{modelValue:c.value,"onUpdate:modelValue":s[25]||(s[25]=g=>c.value=g)},null,8,["modelValue"])]),_:1}),F($,{cols:"12",class:"d-flex gap-4"},{default:H(()=>[F(Ee,{type:"submit",disabled:e.value},{default:H(()=>[ie(" Registrar ")]),_:1},8,["disabled"]),F(Ee,{type:"reset",color:"secondary",variant:"tonal"},{default:H(()=>[ie(" Borrar todo ")]),_:1})]),_:1})]),_:1})]),_:1})):st("",!0),r.form.proveedor?(Qe(),nt(it,{key:3,onSubmit:s[33]||(s[33]=ot(()=>P(),["prevent"]))},{default:H(()=>[F(at,null,{default:H(()=>[F($,{cols:"12"},{default:H(()=>[F(_t,null,{default:H(()=>[$o,ie(" Si vas a "),jo,ie(" pon la camara en 1:1 ")]),_:1})]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:i.value.name,"onUpdate:modelValue":s[27]||(s[27]=g=>i.value.name=g),label:"Nombre de la Empresa",placeholder:"GF Import AutoPart",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:i.value.document,"onUpdate:modelValue":s[28]||(s[28]=g=>i.value.document=g),label:"RIF de la Empresa",placeholder:"J-50679888",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{type:"email",modelValue:i.value.email,"onUpdate:modelValue":s[29]||(s[29]=g=>i.value.email=g),label:"Correo Electronico",placeholder:"ejemplo@gmail.com",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:i.value.phone,"onUpdate:modelValue":s[30]||(s[30]=g=>i.value.phone=g),label:"Numero de telefono",placeholder:"+584126794857",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12"},{default:H(()=>[F(G,{modelValue:i.value.direction,"onUpdate:modelValue":s[31]||(s[31]=g=>i.value.direction=g),label:"Direccion",placeholder:"Centro, Av. Soco, La Victoria, Aragua",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12"},{default:H(()=>[F(ft,{label:"Imagen para el perfil",rules:[w],onChange:O},null,8,["rules"])]),_:1}),F($,null,{default:H(()=>[F(rt,{modelValue:c.value,"onUpdate:modelValue":s[32]||(s[32]=g=>c.value=g)},null,8,["modelValue"])]),_:1}),F($,{cols:"12",class:"d-flex gap-4"},{default:H(()=>[F(Ee,{type:"submit",disabled:e.value},{default:H(()=>[ie(" Registrar ")]),_:1},8,["disabled"]),F(Ee,{type:"reset",color:"secondary",variant:"tonal"},{default:H(()=>[ie(" Borrar todo ")]),_:1})]),_:1})]),_:1})]),_:1})):st("",!0),r.form.vendedor?(Qe(),nt(it,{key:4,onSubmit:s[43]||(s[43]=ot(()=>k(),["prevent"]))},{default:H(()=>[F(at,null,{default:H(()=>[F($,{cols:"12"},{default:H(()=>[F(_t,null,{default:H(()=>[Go,ie(" Si vas a "),Wo,ie(" pon la camara en 1:1 ")]),_:1})]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:l.value.name,"onUpdate:modelValue":s[34]||(s[34]=g=>l.value.name=g),label:"Nombres",placeholder:"Rafael Jose",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:l.value.lastname,"onUpdate:modelValue":s[35]||(s[35]=g=>l.value.lastname=g),label:"Apellidos",placeholder:"Perez Hernandez",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:l.value.document,"onUpdate:modelValue":s[36]||(s[36]=g=>l.value.document=g),label:"Cedula de Identidad",placeholder:"V-30789999",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{type:"email",modelValue:l.value.email,"onUpdate:modelValue":s[37]||(s[37]=g=>l.value.email=g),label:"Correo Electronico",placeholder:"example@gmail.com",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:l.value.phone,"onUpdate:modelValue":s[38]||(s[38]=g=>l.value.phone=g),label:"Numero de telefono",placeholder:"04126794857",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:l.value.direction,"onUpdate:modelValue":s[39]||(s[39]=g=>l.value.direction=g),label:"Direccion",placeholder:"La Victoria, Aragua, Venezuela",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12"},{default:H(()=>[F(ft,{label:"Imagen",rules:[w],onChange:O},null,8,["rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{modelValue:a.value.username,"onUpdate:modelValue":s[40]||(s[40]=g=>a.value.username=g),label:"Nombre de Usuario",placeholder:"nombre20",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,{cols:"12",md:"6"},{default:H(()=>[F(G,{type:"password",modelValue:a.value.password,"onUpdate:modelValue":s[41]||(s[41]=g=>a.value.password=g),label:"Contraseña",placeholder:"534718",rules:[w]},null,8,["modelValue","rules"])]),_:1}),F($,null,{default:H(()=>[F(rt,{modelValue:c.value,"onUpdate:modelValue":s[42]||(s[42]=g=>c.value=g)},null,8,["modelValue"])]),_:1}),F($,{cols:"12",class:"d-flex gap-4"},{default:H(()=>[F(Ee,{type:"submit",disabled:e.value},{default:H(()=>[ie(" Registrar ")]),_:1},8,["disabled"]),F(Ee,{type:"reset",color:"secondary",variant:"tonal"},{default:H(()=>[ie(" Borrar todo ")]),_:1})]),_:1})]),_:1})]),_:1})):st("",!0)],64)}}};export{rs as _};
