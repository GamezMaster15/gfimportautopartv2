import{r as d,d as v,o as w,c as x,i as e,f as a,bQ as b,a as r,bS as y,p as u}from"./index-e9195293.js";import{_ as h}from"./logo-428331b1.js";import{g,q as C,w as k,c,d as p,j as S}from"./firebase-27c2c523.js";import{a as I,b as N,c as B,V as m}from"./VCard-fda2bea1.js";import{V as T}from"./VForm-90dcef76.js";import{V as j}from"./VRow-37168606.js";import{V as i}from"./VCol-d872af14.js";import{V as _}from"./VTextField-6a4aa31a.js";import"./VAvatar-793d927b.js";import"./VImg-02447d84.js";import"./forwardRefs-9d31fcaa.js";import"./index-849462c4.js";const q={class:"auth-wrapper d-flex align-center justify-center pa-4"},R=r("img",{src:h,width:"150"},null,-1),U=r("p",{class:"mb-0 text-center"}," Por favor inicie sesion con su cuenta. ",-1),D={class:"mt-5"},E=r("span",null,"No tienes cuenta?",-1),W={__name:"login",setup(F){const f=async()=>{(await g(C(c(p,"users"),k("username","==",s.value.name)))).forEach(async t=>{if(t.password===s.password){const n={active:!0,id_user:t.id,typeuser:t.data().typeuser};await S(c(p,"session"),n).then(()=>{localStorage.setItem("id_user",t.id),localStorage.setItem("username",s.value.name),window.location.replace("/")})}})},s=d({name:"",password:"",remember:!1}),o=d(!1);return(V,t)=>{const n=v("RouterLink");return w(),x("div",q,[e(I,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:a(()=>[e(N,{class:"justify-center"},{default:a(()=>[e(B,{class:"text-2xl font-weight-bold"},{default:a(()=>[R]),_:1})]),_:1}),e(m,{class:""},{default:a(()=>[U]),_:1}),e(m,null,{default:a(()=>[e(T,{onSubmit:b(f,["prevent"])},{default:a(()=>[e(j,null,{default:a(()=>[e(i,{cols:"12"},{default:a(()=>[e(_,{modelValue:s.value.name,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value.name=l),autofocus:"",placeholder:"Carlitos12qr",label:"Nombre de Usuario",type:"text"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12"},{default:a(()=>[e(_,{modelValue:s.value.password,"onUpdate:modelValue":t[1]||(t[1]=l=>s.value.password=l),label:"Contraseña",placeholder:"············",type:o.value?"text":"password","append-inner-icon":o.value?"bx-hide":"bx-show","onClick:appendInner":t[2]||(t[2]=l=>o.value=!o.value)},null,8,["modelValue","type","append-inner-icon"]),r("div",D,[e(y,{block:"",type:"submit"},{default:a(()=>[u(" Iniciar sesion ")]),_:1})])]),_:1}),e(i,{cols:"12",class:"text-center text-base"},{default:a(()=>[E,e(n,{class:"text-primary ms-2",to:"/register"},{default:a(()=>[u(" Solicitar tu cuenta ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})])}}};export{W as default};
